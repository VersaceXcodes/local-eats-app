var vp=e=>{throw TypeError(e)};var Wd=(e,s,r)=>s.has(e)||vp("Cannot "+r);var z=(e,s,r)=>(Wd(e,s,"read from private field"),r?r.call(e):s.get(e)),Ce=(e,s,r)=>s.has(e)?vp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,r),_e=(e,s,r,i)=>(Wd(e,s,"write to private field"),i?i.call(e,r):s.set(e,r),r),Oe=(e,s,r)=>(Wd(e,s,"access private method"),r);var Cl=(e,s,r,i)=>({set _(o){_e(e,s,o,r)},get _(){return z(e,s,i)}});function zb(e,s){for(var r=0;r<s.length;r++){const i=s[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ig(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uc(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var r=function i(){return this instanceof i?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),r}var Fg={exports:{}},$c={},Dg={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=Symbol.for("react.element"),Ob=Symbol.for("react.portal"),Ab=Symbol.for("react.fragment"),Ib=Symbol.for("react.strict_mode"),Fb=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),Ub=Symbol.for("react.forward_ref"),$b=Symbol.for("react.suspense"),Hb=Symbol.for("react.memo"),Wb=Symbol.for("react.lazy"),_p=Symbol.iterator;function Zb(e){return e===null||typeof e!="object"?null:(e=_p&&e[_p]||e["@@iterator"],typeof e=="function"?e:null)}var Bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ug=Object.assign,$g={};function ua(e,s,r){this.props=e,this.context=s,this.refs=$g,this.updater=r||Bg}ua.prototype.isReactComponent={};ua.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hg(){}Hg.prototype=ua.prototype;function lm(e,s,r){this.props=e,this.context=s,this.refs=$g,this.updater=r||Bg}var cm=lm.prototype=new Hg;cm.constructor=lm;Ug(cm,ua.prototype);cm.isPureReactComponent=!0;var bp=Array.isArray,Wg=Object.prototype.hasOwnProperty,dm={current:null},Zg={key:!0,ref:!0,__self:!0,__source:!0};function qg(e,s,r){var i,o={},a=null,c=null;if(s!=null)for(i in s.ref!==void 0&&(c=s.ref),s.key!==void 0&&(a=""+s.key),s)Wg.call(s,i)&&!Zg.hasOwnProperty(i)&&(o[i]=s[i]);var u=arguments.length-2;if(u===1)o.children=r;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];o.children=h}if(e&&e.defaultProps)for(i in u=e.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return{$$typeof:Zo,type:e,key:a,ref:c,props:o,_owner:dm.current}}function qb(e,s){return{$$typeof:Zo,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function um(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zo}function Vb(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var wp=/\/+/g;function Zd(e,s){return typeof e=="object"&&e!==null&&e.key!=null?Vb(""+e.key):s.toString(36)}function Vl(e,s,r,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Zo:case Ob:c=!0}}if(c)return c=e,o=o(c),e=i===""?"."+Zd(c,0):i,bp(o)?(r="",e!=null&&(r=e.replace(wp,"$&/")+"/"),Vl(o,s,r,"",function(f){return f})):o!=null&&(um(o)&&(o=qb(o,r+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(wp,"$&/")+"/")+e)),s.push(o)),1;if(c=0,i=i===""?".":i+":",bp(e))for(var u=0;u<e.length;u++){a=e[u];var h=i+Zd(a,u);c+=Vl(a,s,r,h,o)}else if(h=Zb(e),typeof h=="function")for(e=h.call(e),u=0;!(a=e.next()).done;)a=a.value,h=i+Zd(a,u++),c+=Vl(a,s,r,h,o);else if(a==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return c}function Sl(e,s,r){if(e==null)return e;var i=[],o=0;return Vl(e,i,"","",function(a){return s.call(r,a,o++)}),i}function Gb(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Gl={transition:null},Qb={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:dm};function Vg(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Sl,forEach:function(e,s,r){Sl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return Sl(e,function(){s++}),s},toArray:function(e){return Sl(e,function(s){return s})||[]},only:function(e){if(!um(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=ua;Ie.Fragment=Ab;Ie.Profiler=Fb;Ie.PureComponent=lm;Ie.StrictMode=Ib;Ie.Suspense=$b;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb;Ie.act=Vg;Ie.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ug({},e.props),o=e.key,a=e.ref,c=e._owner;if(s!=null){if(s.ref!==void 0&&(a=s.ref,c=dm.current),s.key!==void 0&&(o=""+s.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in s)Wg.call(s,h)&&!Zg.hasOwnProperty(h)&&(i[h]=s[h]===void 0&&u!==void 0?u[h]:s[h])}var h=arguments.length-2;if(h===1)i.children=r;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:Zo,type:e.type,key:o,ref:a,props:i,_owner:c}};Ie.createContext=function(e){return e={$$typeof:Bb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Db,_context:e},e.Consumer=e};Ie.createElement=qg;Ie.createFactory=function(e){var s=qg.bind(null,e);return s.type=e,s};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:Ub,render:e}};Ie.isValidElement=um;Ie.lazy=function(e){return{$$typeof:Wb,_payload:{_status:-1,_result:e},_init:Gb}};Ie.memo=function(e,s){return{$$typeof:Hb,type:e,compare:s===void 0?null:s}};Ie.startTransition=function(e){var s=Gl.transition;Gl.transition={};try{e()}finally{Gl.transition=s}};Ie.unstable_act=Vg;Ie.useCallback=function(e,s){return Yt.current.useCallback(e,s)};Ie.useContext=function(e){return Yt.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};Ie.useEffect=function(e,s){return Yt.current.useEffect(e,s)};Ie.useId=function(){return Yt.current.useId()};Ie.useImperativeHandle=function(e,s,r){return Yt.current.useImperativeHandle(e,s,r)};Ie.useInsertionEffect=function(e,s){return Yt.current.useInsertionEffect(e,s)};Ie.useLayoutEffect=function(e,s){return Yt.current.useLayoutEffect(e,s)};Ie.useMemo=function(e,s){return Yt.current.useMemo(e,s)};Ie.useReducer=function(e,s,r){return Yt.current.useReducer(e,s,r)};Ie.useRef=function(e){return Yt.current.useRef(e)};Ie.useState=function(e){return Yt.current.useState(e)};Ie.useSyncExternalStore=function(e,s,r){return Yt.current.useSyncExternalStore(e,s,r)};Ie.useTransition=function(){return Yt.current.useTransition()};Ie.version="18.3.1";Dg.exports=Ie;var C=Dg.exports;const Qn=Ig(C),Kb=zb({__proto__:null,default:Qn},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb=C,Jb=Symbol.for("react.element"),Xb=Symbol.for("react.fragment"),ew=Object.prototype.hasOwnProperty,tw=Yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sw={key:!0,ref:!0,__self:!0,__source:!0};function Gg(e,s,r){var i,o={},a=null,c=null;r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(c=s.ref);for(i in s)ew.call(s,i)&&!sw.hasOwnProperty(i)&&(o[i]=s[i]);if(e&&e.defaultProps)for(i in s=e.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return{$$typeof:Jb,type:e,key:a,ref:c,props:o,_owner:tw.current}}$c.Fragment=Xb;$c.jsx=Gg;$c.jsxs=Gg;Fg.exports=$c;var t=Fg.exports,Qg={exports:{}},ps={},Kg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(U,O){var H=U.length;U.push(O);e:for(;0<H;){var ee=H-1>>>1,me=U[ee];if(0<o(me,O))U[ee]=O,U[H]=me,H=ee;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var O=U[0],H=U.pop();if(H!==O){U[0]=H;e:for(var ee=0,me=U.length,fe=me>>>1;ee<fe;){var ve=2*(ee+1)-1,ie=U[ve],le=ve+1,D=U[le];if(0>o(ie,H))le<me&&0>o(D,ie)?(U[ee]=D,U[le]=H,ee=le):(U[ee]=ie,U[ve]=H,ee=ve);else if(le<me&&0>o(D,H))U[ee]=D,U[le]=H,ee=le;else break e}}return O}function o(U,O){var H=U.sortIndex-O.sortIndex;return H!==0?H:U.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],x=1,p=null,g=3,_=!1,j=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var O=r(f);O!==null;){if(O.callback===null)i(f);else if(O.startTime<=U)i(f),O.sortIndex=O.expirationTime,s(h,O);else break;O=r(f)}}function E(U){if(N=!1,k(U),!j)if(r(h)!==null)j=!0,ne(M);else{var O=r(f);O!==null&&xe(E,O.startTime-U)}}function M(U,O){j=!1,N&&(N=!1,b(G),G=-1),_=!0;var H=g;try{for(k(O),p=r(h);p!==null&&(!(p.expirationTime>O)||U&&!I());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,g=p.priorityLevel;var me=ee(p.expirationTime<=O);O=e.unstable_now(),typeof me=="function"?p.callback=me:p===r(h)&&i(h),k(O)}else i(h);p=r(h)}if(p!==null)var fe=!0;else{var ve=r(f);ve!==null&&xe(E,ve.startTime-O),fe=!1}return fe}finally{p=null,g=H,_=!1}}var A=!1,W=null,G=-1,T=5,Z=-1;function I(){return!(e.unstable_now()-Z<T)}function P(){if(W!==null){var U=e.unstable_now();Z=U;var O=!0;try{O=W(!0,U)}finally{O?J():(A=!1,W=null)}}else A=!1}var J;if(typeof v=="function")J=function(){v(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ue=F.port2;F.port1.onmessage=P,J=function(){ue.postMessage(null)}}else J=function(){w(P,0)};function ne(U){W=U,A||(A=!0,J())}function xe(U,O){G=w(function(){U(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){j||_||(j=!0,ne(M))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var H=g;g=O;try{return U()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,O){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=g;g=U;try{return O()}finally{g=H}},e.unstable_scheduleCallback=function(U,O,H){var ee=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,U){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=H+me,U={id:x++,callback:O,priorityLevel:U,startTime:H,expirationTime:me,sortIndex:-1},H>ee?(U.sortIndex=H,s(f,U),r(h)===null&&U===r(f)&&(N?(b(G),G=-1):N=!0,xe(E,H-ee))):(U.sortIndex=me,s(h,U),j||_||(j=!0,ne(M))),U},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(U){var O=g;return function(){var H=g;g=O;try{return U.apply(this,arguments)}finally{g=H}}}})(Yg);Kg.exports=Yg;var rw=Kg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=C,fs=rw;function he(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jg=new Set,po={};function ii(e,s){ea(e,s),ea(e+"Capture",s)}function ea(e,s){for(po[e]=s,e=0;e<s.length;e++)Jg.add(s[e])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=Object.prototype.hasOwnProperty,iw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jp={},Np={};function aw(e){return Au.call(Np,e)?!0:Au.call(jp,e)?!1:iw.test(e)?Np[e]=!0:(jp[e]=!0,!1)}function ow(e,s,r,i){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lw(e,s,r,i){if(s===null||typeof s>"u"||ow(e,s,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Jt(e,s,r,i,o,a,c){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=a,this.removeEmptyString=c}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];At[s]=new Jt(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function mm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(hm,mm);At[s]=new Jt(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(hm,mm);At[s]=new Jt(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(hm,mm);At[s]=new Jt(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function fm(e,s,r,i){var o=At.hasOwnProperty(s)?At[s]:null;(o!==null?o.type!==0:i||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(lw(s,r,o,i)&&(r=null),i||o===null?aw(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(s=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(s):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,s,r):e.setAttribute(s,r))))}var Pr=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),_i=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),Xg=Symbol.for("react.provider"),e0=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),t0=Symbol.for("react.offscreen"),kp=Symbol.iterator;function Ba(e){return e===null||typeof e!="object"?null:(e=kp&&e[kp]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,qd;function Ja(e){if(qd===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);qd=s&&s[1]||""}return`
`+qd+e}var Vd=!1;function Gd(e,s){if(!e||Vd)return"";Vd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(f){var i=f}Reflect.construct(e,[],s)}else{try{s.call()}catch(f){i=f}e.call(s.prototype)}else{try{throw Error()}catch(f){i=f}e()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),a=i.stack.split(`
`),c=o.length-1,u=a.length-1;1<=c&&0<=u&&o[c]!==a[u];)u--;for(;1<=c&&0<=u;c--,u--)if(o[c]!==a[u]){if(c!==1||u!==1)do if(c--,u--,0>u||o[c]!==a[u]){var h=`
`+o[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=u);break}}}finally{Vd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ja(e):""}function cw(e){switch(e.tag){case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return e=Gd(e.type,!1),e;case 11:return e=Gd(e.type.render,!1),e;case 1:return e=Gd(e.type,!0),e;default:return""}}function Bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bi:return"Fragment";case _i:return"Portal";case Iu:return"Profiler";case pm:return"StrictMode";case Fu:return"Suspense";case Du:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e0:return(e.displayName||"Context")+".Consumer";case Xg:return(e._context.displayName||"Context")+".Provider";case xm:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gm:return s=e.displayName||null,s!==null?s:Bu(e.type)||"Memo";case Ir:s=e._payload,e=e._init;try{return Bu(e(s))}catch{}}return null}function dw(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(s);case 8:return s===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s0(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uw(e){var s=s0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),i=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return o.call(this)},set:function(c){i=""+c,a.call(this,c)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(c){i=""+c},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Ll(e){e._valueTracker||(e._valueTracker=uw(e))}function r0(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),i="";return e&&(i=s0(e)?e.checked?"true":"false":e.value),e=i,e!==r?(s.setValue(e),!0):!1}function uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uu(e,s){var r=s.checked;return dt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cp(e,s){var r=s.defaultValue==null?"":s.defaultValue,i=s.checked!=null?s.checked:s.defaultChecked;r=pn(s.value!=null?s.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function n0(e,s){s=s.checked,s!=null&&fm(e,"checked",s,!1)}function $u(e,s){n0(e,s);var r=pn(s.value),i=s.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Hu(e,s.type,r):s.hasOwnProperty("defaultValue")&&Hu(e,s.type,pn(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Sp(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var i=s.type;if(!(i!=="submit"&&i!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hu(e,s,r){(s!=="number"||uc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xa=Array.isArray;function Ri(e,s,r,i){if(e=e.options,s){s={};for(var o=0;o<r.length;o++)s["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=s.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+pn(r),s=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}s!==null||e[o].disabled||(s=e[o])}s!==null&&(s.selected=!0)}}function Wu(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(he(91));return dt({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pp(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(he(92));if(Xa(r)){if(1<r.length)throw Error(he(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:pn(r)}}function i0(e,s){var r=pn(s.value),i=pn(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Lp(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function a0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?a0(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,o0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(s,r,i,o)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function xo(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hw=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(e){hw.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),no[s]=no[e]})});function l0(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||no.hasOwnProperty(e)&&no[e]?(""+s).trim():s+"px"}function c0(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=l0(r,s[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var mw=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qu(e,s){if(s){if(mw[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(he(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(he(61))}if(s.style!=null&&typeof s.style!="object")throw Error(he(62))}}function Vu(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=null;function ym(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qu=null,zi=null,Oi=null;function Ep(e){if(e=Go(e)){if(typeof Qu!="function")throw Error(he(280));var s=e.stateNode;s&&(s=Vc(s),Qu(e.stateNode,e.type,s))}}function d0(e){zi?Oi?Oi.push(e):Oi=[e]:zi=e}function u0(){if(zi){var e=zi,s=Oi;if(Oi=zi=null,Ep(e),s)for(e=0;e<s.length;e++)Ep(s[e])}}function h0(e,s){return e(s)}function m0(){}var Qd=!1;function f0(e,s,r){if(Qd)return e(s,r);Qd=!0;try{return h0(e,s,r)}finally{Qd=!1,(zi!==null||Oi!==null)&&(m0(),u0())}}function go(e,s){var r=e.stateNode;if(r===null)return null;var i=Vc(r);if(i===null)return null;r=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,s,typeof r));return r}var Ku=!1;if(Nr)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Ku=!1}function fw(e,s,r,i,o,a,c,u,h){var f=Array.prototype.slice.call(arguments,3);try{s.apply(r,f)}catch(x){this.onError(x)}}var io=!1,hc=null,mc=!1,Yu=null,pw={onError:function(e){io=!0,hc=e}};function xw(e,s,r,i,o,a,c,u,h){io=!1,hc=null,fw.apply(pw,arguments)}function gw(e,s,r,i,o,a,c,u,h){if(xw.apply(this,arguments),io){if(io){var f=hc;io=!1,hc=null}else throw Error(he(198));mc||(mc=!0,Yu=f)}}function ai(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function p0(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Mp(e){if(ai(e)!==e)throw Error(he(188))}function yw(e){var s=e.alternate;if(!s){if(s=ai(e),s===null)throw Error(he(188));return s!==e?null:e}for(var r=e,i=s;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Mp(o),e;if(a===i)return Mp(o),s;a=a.sibling}throw Error(he(188))}if(r.return!==i.return)r=o,i=a;else{for(var c=!1,u=o.child;u;){if(u===r){c=!0,r=o,i=a;break}if(u===i){c=!0,i=o,r=a;break}u=u.sibling}if(!c){for(u=a.child;u;){if(u===r){c=!0,r=a,i=o;break}if(u===i){c=!0,i=a,r=o;break}u=u.sibling}if(!c)throw Error(he(189))}}if(r.alternate!==i)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:s}function x0(e){return e=yw(e),e!==null?g0(e):null}function g0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=g0(e);if(s!==null)return s;e=e.sibling}return null}var y0=fs.unstable_scheduleCallback,Tp=fs.unstable_cancelCallback,vw=fs.unstable_shouldYield,_w=fs.unstable_requestPaint,xt=fs.unstable_now,bw=fs.unstable_getCurrentPriorityLevel,vm=fs.unstable_ImmediatePriority,v0=fs.unstable_UserBlockingPriority,fc=fs.unstable_NormalPriority,ww=fs.unstable_LowPriority,_0=fs.unstable_IdlePriority,Hc=null,nr=null;function jw(e){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Hc,e,void 0,(e.current.flags&128)===128)}catch{}}var $s=Math.clz32?Math.clz32:Cw,Nw=Math.log,kw=Math.LN2;function Cw(e){return e>>>=0,e===0?32:31-(Nw(e)/kw|0)|0}var Ml=64,Tl=4194304;function eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pc(e,s){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var u=c&~o;u!==0?i=eo(u):(a&=c,a!==0&&(i=eo(a)))}else c=r&~o,c!==0?i=eo(c):a!==0&&(i=eo(a));if(i===0)return 0;if(s!==0&&s!==i&&!(s&o)&&(o=i&-i,a=s&-s,o>=a||o===16&&(a&4194240)!==0))return s;if(i&4&&(i|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=i;0<s;)r=31-$s(s),o=1<<r,i|=e[r],s&=~o;return i}function Sw(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pw(e,s){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-$s(a),u=1<<c,h=o[c];h===-1?(!(u&r)||u&i)&&(o[c]=Sw(u,s)):h<=s&&(e.expiredLanes|=u),a&=~u}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b0(){var e=Ml;return Ml<<=1,!(Ml&4194240)&&(Ml=64),e}function Kd(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function qo(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-$s(s),e[s]=r}function Lw(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-$s(r),a=1<<o;s[o]=0,i[o]=-1,e[o]=-1,r&=~a}}function _m(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var i=31-$s(r),o=1<<i;o&s|e[i]&s&&(e[i]|=s),r&=~o}}var Ge=0;function w0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var j0,bm,N0,k0,C0,Xu=!1,Rl=[],sn=null,rn=null,nn=null,yo=new Map,vo=new Map,Br=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rp(e,s){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":yo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(s.pointerId)}}function $a(e,s,r,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:s,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},s!==null&&(s=Go(s),s!==null&&bm(s)),e):(e.eventSystemFlags|=i,s=e.targetContainers,o!==null&&s.indexOf(o)===-1&&s.push(o),e)}function Mw(e,s,r,i,o){switch(s){case"focusin":return sn=$a(sn,e,s,r,i,o),!0;case"dragenter":return rn=$a(rn,e,s,r,i,o),!0;case"mouseover":return nn=$a(nn,e,s,r,i,o),!0;case"pointerover":var a=o.pointerId;return yo.set(a,$a(yo.get(a)||null,e,s,r,i,o)),!0;case"gotpointercapture":return a=o.pointerId,vo.set(a,$a(vo.get(a)||null,e,s,r,i,o)),!0}return!1}function S0(e){var s=En(e.target);if(s!==null){var r=ai(s);if(r!==null){if(s=r.tag,s===13){if(s=p0(r),s!==null){e.blockedOn=s,C0(e.priority,function(){N0(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=eh(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Gu=i,r.target.dispatchEvent(i),Gu=null}else return s=Go(r),s!==null&&bm(s),e.blockedOn=r,!1;s.shift()}return!0}function zp(e,s,r){Ql(e)&&r.delete(s)}function Tw(){Xu=!1,sn!==null&&Ql(sn)&&(sn=null),rn!==null&&Ql(rn)&&(rn=null),nn!==null&&Ql(nn)&&(nn=null),yo.forEach(zp),vo.forEach(zp)}function Ha(e,s){e.blockedOn===s&&(e.blockedOn=null,Xu||(Xu=!0,fs.unstable_scheduleCallback(fs.unstable_NormalPriority,Tw)))}function _o(e){function s(o){return Ha(o,e)}if(0<Rl.length){Ha(Rl[0],e);for(var r=1;r<Rl.length;r++){var i=Rl[r];i.blockedOn===e&&(i.blockedOn=null)}}for(sn!==null&&Ha(sn,e),rn!==null&&Ha(rn,e),nn!==null&&Ha(nn,e),yo.forEach(s),vo.forEach(s),r=0;r<Br.length;r++)i=Br[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Br.length&&(r=Br[0],r.blockedOn===null);)S0(r),r.blockedOn===null&&Br.shift()}var Ai=Pr.ReactCurrentBatchConfig,xc=!0;function Rw(e,s,r,i){var o=Ge,a=Ai.transition;Ai.transition=null;try{Ge=1,wm(e,s,r,i)}finally{Ge=o,Ai.transition=a}}function zw(e,s,r,i){var o=Ge,a=Ai.transition;Ai.transition=null;try{Ge=4,wm(e,s,r,i)}finally{Ge=o,Ai.transition=a}}function wm(e,s,r,i){if(xc){var o=eh(e,s,r,i);if(o===null)au(e,s,i,gc,r),Rp(e,i);else if(Mw(o,e,s,r,i))i.stopPropagation();else if(Rp(e,i),s&4&&-1<Ew.indexOf(e)){for(;o!==null;){var a=Go(o);if(a!==null&&j0(a),a=eh(e,s,r,i),a===null&&au(e,s,i,gc,r),a===o)break;o=a}o!==null&&i.stopPropagation()}else au(e,s,i,null,r)}}var gc=null;function eh(e,s,r,i){if(gc=null,e=ym(i),e=En(e),e!==null)if(s=ai(e),s===null)e=null;else if(r=s.tag,r===13){if(e=p0(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return gc=e,null}function P0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bw()){case vm:return 1;case v0:return 4;case fc:case ww:return 16;case _0:return 536870912;default:return 16}default:return 16}}var Jr=null,jm=null,Kl=null;function L0(){if(Kl)return Kl;var e,s=jm,r=s.length,i,o="value"in Jr?Jr.value:Jr.textContent,a=o.length;for(e=0;e<r&&s[e]===o[e];e++);var c=r-e;for(i=1;i<=c&&s[r-i]===o[a-i];i++);return Kl=o.slice(e,1<i?1-i:void 0)}function Yl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function zl(){return!0}function Op(){return!1}function xs(e){function s(r,i,o,a,c){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zl:Op,this.isPropagationStopped=Op,this}return dt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),s}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=xs(ha),Vo=dt({},ha,{view:0,detail:0}),Ow=xs(Vo),Yd,Jd,Wa,Wc=dt({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(Yd=e.screenX-Wa.screenX,Jd=e.screenY-Wa.screenY):Jd=Yd=0,Wa=e),Yd)},movementY:function(e){return"movementY"in e?e.movementY:Jd}}),Ap=xs(Wc),Aw=dt({},Wc,{dataTransfer:0}),Iw=xs(Aw),Fw=dt({},Vo,{relatedTarget:0}),Xd=xs(Fw),Dw=dt({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Bw=xs(Dw),Uw=dt({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$w=xs(Uw),Hw=dt({},ha,{data:0}),Ip=xs(Hw),Ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=qw[e])?!!s[e]:!1}function km(){return Vw}var Gw=dt({},Vo,{key:function(e){if(e.key){var s=Ww[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qw=xs(Gw),Kw=dt({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=xs(Kw),Yw=dt({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),Jw=xs(Yw),Xw=dt({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),ej=xs(Xw),tj=dt({},Wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sj=xs(tj),rj=[9,13,27,32],Cm=Nr&&"CompositionEvent"in window,ao=null;Nr&&"documentMode"in document&&(ao=document.documentMode);var nj=Nr&&"TextEvent"in window&&!ao,E0=Nr&&(!Cm||ao&&8<ao&&11>=ao),Dp=" ",Bp=!1;function M0(e,s){switch(e){case"keyup":return rj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function ij(e,s){switch(e){case"compositionend":return T0(s);case"keypress":return s.which!==32?null:(Bp=!0,Dp);case"textInput":return e=s.data,e===Dp&&Bp?null:e;default:return null}}function aj(e,s){if(wi)return e==="compositionend"||!Cm&&M0(e,s)?(e=L0(),Kl=jm=Jr=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E0&&s.locale!=="ko"?null:s.data;default:return null}}var oj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!oj[e.type]:s==="textarea"}function R0(e,s,r,i){d0(i),s=yc(s,"onChange"),0<s.length&&(r=new Nm("onChange","change",null,r,i),e.push({event:r,listeners:s}))}var oo=null,bo=null;function lj(e){W0(e,0)}function Zc(e){var s=ki(e);if(r0(s))return e}function cj(e,s){if(e==="change")return s}var z0=!1;if(Nr){var eu;if(Nr){var tu="oninput"in document;if(!tu){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),tu=typeof $p.oninput=="function"}eu=tu}else eu=!1;z0=eu&&(!document.documentMode||9<document.documentMode)}function Hp(){oo&&(oo.detachEvent("onpropertychange",O0),bo=oo=null)}function O0(e){if(e.propertyName==="value"&&Zc(bo)){var s=[];R0(s,bo,e,ym(e)),f0(lj,s)}}function dj(e,s,r){e==="focusin"?(Hp(),oo=s,bo=r,oo.attachEvent("onpropertychange",O0)):e==="focusout"&&Hp()}function uj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zc(bo)}function hj(e,s){if(e==="click")return Zc(s)}function mj(e,s){if(e==="input"||e==="change")return Zc(s)}function fj(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Ws=typeof Object.is=="function"?Object.is:fj;function wo(e,s){if(Ws(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),i=Object.keys(s);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!Au.call(s,o)||!Ws(e[o],s[o]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,s){var r=Wp(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=s&&i>=s)return{node:r,offset:s-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wp(r)}}function A0(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?A0(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function I0(){for(var e=window,s=uc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=uc(e.document)}return s}function Sm(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function pj(e){var s=I0(),r=e.focusedElem,i=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&A0(r.ownerDocument.documentElement,r)){if(i!==null&&Sm(r)){if(s=i.start,e=i.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=Zp(r,a);var c=Zp(r,i);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(s=s.createRange(),s.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(s),e.extend(c.node,c.offset)):(s.setEnd(c.node,c.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xj=Nr&&"documentMode"in document&&11>=document.documentMode,ji=null,th=null,lo=null,sh=!1;function qp(e,s,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sh||ji==null||ji!==uc(i)||(i=ji,"selectionStart"in i&&Sm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),lo&&wo(lo,i)||(lo=i,i=yc(th,"onSelect"),0<i.length&&(s=new Nm("onSelect","select",null,s,r),e.push({event:s,listeners:i}),s.target=ji)))}function Ol(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var Ni={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},su={},F0={};Nr&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function qc(e){if(su[e])return su[e];if(!Ni[e])return e;var s=Ni[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in F0)return su[e]=s[r];return e}var D0=qc("animationend"),B0=qc("animationiteration"),U0=qc("animationstart"),$0=qc("transitionend"),H0=new Map,Vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(e,s){H0.set(e,s),ii(s,[e])}for(var ru=0;ru<Vp.length;ru++){var nu=Vp[ru],gj=nu.toLowerCase(),yj=nu[0].toUpperCase()+nu.slice(1);gn(gj,"on"+yj)}gn(D0,"onAnimationEnd");gn(B0,"onAnimationIteration");gn(U0,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn($0,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vj=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function Gp(e,s,r){var i=e.type||"unknown-event";e.currentTarget=r,gw(i,s,void 0,e),e.currentTarget=null}function W0(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var a=void 0;if(s)for(var c=i.length-1;0<=c;c--){var u=i[c],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==a&&o.isPropagationStopped())break e;Gp(o,u,f),a=h}else for(c=0;c<i.length;c++){if(u=i[c],h=u.instance,f=u.currentTarget,u=u.listener,h!==a&&o.isPropagationStopped())break e;Gp(o,u,f),a=h}}}if(mc)throw e=Yu,mc=!1,Yu=null,e}function Xe(e,s){var r=s[oh];r===void 0&&(r=s[oh]=new Set);var i=e+"__bubble";r.has(i)||(Z0(s,e,2,!1),r.add(i))}function iu(e,s,r){var i=0;s&&(i|=4),Z0(r,e,i,s)}var Al="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[Al]){e[Al]=!0,Jg.forEach(function(r){r!=="selectionchange"&&(vj.has(r)||iu(r,!1,e),iu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Al]||(s[Al]=!0,iu("selectionchange",!1,s))}}function Z0(e,s,r,i){switch(P0(s)){case 1:var o=Rw;break;case 4:o=zw;break;default:o=wm}r=o.bind(null,s,r,e),o=void 0,!Ku||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(s,r,{capture:!0,passive:o}):e.addEventListener(s,r,!0):o!==void 0?e.addEventListener(s,r,{passive:o}):e.addEventListener(s,r,!1)}function au(e,s,r,i,o){var a=i;if(!(s&1)&&!(s&2)&&i!==null)e:for(;;){if(i===null)return;var c=i.tag;if(c===3||c===4){var u=i.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(c===4)for(c=i.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;c=c.return}for(;u!==null;){if(c=En(u),c===null)return;if(h=c.tag,h===5||h===6){i=a=c;continue e}u=u.parentNode}}i=i.return}f0(function(){var f=a,x=ym(r),p=[];e:{var g=H0.get(e);if(g!==void 0){var _=Nm,j=e;switch(e){case"keypress":if(Yl(r)===0)break e;case"keydown":case"keyup":_=Qw;break;case"focusin":j="focus",_=Xd;break;case"focusout":j="blur",_=Xd;break;case"beforeblur":case"afterblur":_=Xd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Jw;break;case D0:case B0:case U0:_=Bw;break;case $0:_=ej;break;case"scroll":_=Ow;break;case"wheel":_=sj;break;case"copy":case"cut":case"paste":_=$w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Fp}var N=(s&4)!==0,w=!N&&e==="scroll",b=N?g!==null?g+"Capture":null:g;N=[];for(var v=f,k;v!==null;){k=v;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,b!==null&&(E=go(v,b),E!=null&&N.push(No(v,E,k)))),w)break;v=v.return}0<N.length&&(g=new _(g,j,null,r,x),p.push({event:g,listeners:N}))}}if(!(s&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&r!==Gu&&(j=r.relatedTarget||r.fromElement)&&(En(j)||j[kr]))break e;if((_||g)&&(g=x.window===x?x:(g=x.ownerDocument)?g.defaultView||g.parentWindow:window,_?(j=r.relatedTarget||r.toElement,_=f,j=j?En(j):null,j!==null&&(w=ai(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(_=null,j=f),_!==j)){if(N=Ap,E="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(N=Fp,E="onPointerLeave",b="onPointerEnter",v="pointer"),w=_==null?g:ki(_),k=j==null?g:ki(j),g=new N(E,v+"leave",_,r,x),g.target=w,g.relatedTarget=k,E=null,En(x)===f&&(N=new N(b,v+"enter",j,r,x),N.target=k,N.relatedTarget=w,E=N),w=E,_&&j)t:{for(N=_,b=j,v=0,k=N;k;k=yi(k))v++;for(k=0,E=b;E;E=yi(E))k++;for(;0<v-k;)N=yi(N),v--;for(;0<k-v;)b=yi(b),k--;for(;v--;){if(N===b||b!==null&&N===b.alternate)break t;N=yi(N),b=yi(b)}N=null}else N=null;_!==null&&Qp(p,g,_,N,!1),j!==null&&w!==null&&Qp(p,w,j,N,!0)}}e:{if(g=f?ki(f):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var M=cj;else if(Up(g))if(z0)M=mj;else{M=uj;var A=dj}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=hj);if(M&&(M=M(e,f))){R0(p,M,r,x);break e}A&&A(e,g,f),e==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&Hu(g,"number",g.value)}switch(A=f?ki(f):window,e){case"focusin":(Up(A)||A.contentEditable==="true")&&(ji=A,th=f,lo=null);break;case"focusout":lo=th=ji=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,qp(p,r,x);break;case"selectionchange":if(xj)break;case"keydown":case"keyup":qp(p,r,x)}var W;if(Cm)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else wi?M0(e,r)&&(G="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(G="onCompositionStart");G&&(E0&&r.locale!=="ko"&&(wi||G!=="onCompositionStart"?G==="onCompositionEnd"&&wi&&(W=L0()):(Jr=x,jm="value"in Jr?Jr.value:Jr.textContent,wi=!0)),A=yc(f,G),0<A.length&&(G=new Ip(G,e,null,r,x),p.push({event:G,listeners:A}),W?G.data=W:(W=T0(r),W!==null&&(G.data=W)))),(W=nj?ij(e,r):aj(e,r))&&(f=yc(f,"onBeforeInput"),0<f.length&&(x=new Ip("onBeforeInput","beforeinput",null,r,x),p.push({event:x,listeners:f}),x.data=W))}W0(p,s)})}function No(e,s,r){return{instance:e,listener:s,currentTarget:r}}function yc(e,s){for(var r=s+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=go(e,r),a!=null&&i.unshift(No(e,a,o)),a=go(e,s),a!=null&&i.push(No(e,a,o))),e=e.return}return i}function yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qp(e,s,r,i,o){for(var a=s._reactName,c=[];r!==null&&r!==i;){var u=r,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,o?(h=go(r,a),h!=null&&c.unshift(No(r,h,u))):o||(h=go(r,a),h!=null&&c.push(No(r,h,u)))),r=r.return}c.length!==0&&e.push({event:s,listeners:c})}var _j=/\r\n?/g,bj=/\u0000|\uFFFD/g;function Kp(e){return(typeof e=="string"?e:""+e).replace(_j,`
`).replace(bj,"")}function Il(e,s,r){if(s=Kp(s),Kp(e)!==s&&r)throw Error(he(425))}function vc(){}var rh=null,nh=null;function ih(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,wj=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,jj=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(Nj)}:ah;function Nj(e){setTimeout(function(){throw e})}function ou(e,s){var r=s,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),_o(s);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);_o(s)}function an(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Jp(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),rr="__reactFiber$"+ma,ko="__reactProps$"+ma,kr="__reactContainer$"+ma,oh="__reactEvents$"+ma,kj="__reactListeners$"+ma,Cj="__reactHandles$"+ma;function En(e){var s=e[rr];if(s)return s;for(var r=e.parentNode;r;){if(s=r[kr]||r[rr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=Jp(e);e!==null;){if(r=e[rr])return r;e=Jp(e)}return s}e=r,r=e.parentNode}return null}function Go(e){return e=e[rr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Vc(e){return e[ko]||null}var lh=[],Ci=-1;function yn(e){return{current:e}}function tt(e){0>Ci||(e.current=lh[Ci],lh[Ci]=null,Ci--)}function Ye(e,s){Ci++,lh[Ci]=e.current,e.current=s}var xn={},$t=yn(xn),is=yn(!1),Kn=xn;function ta(e,s){var r=e.type.contextTypes;if(!r)return xn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===s)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=s[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),o}function as(e){return e=e.childContextTypes,e!=null}function _c(){tt(is),tt($t)}function Xp(e,s,r){if($t.current!==xn)throw Error(he(168));Ye($t,s),Ye(is,r)}function q0(e,s,r){var i=e.stateNode;if(s=s.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in s))throw Error(he(108,dw(e)||"Unknown",o));return dt({},r,i)}function bc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Kn=$t.current,Ye($t,e),Ye(is,is.current),!0}function ex(e,s,r){var i=e.stateNode;if(!i)throw Error(he(169));r?(e=q0(e,s,Kn),i.__reactInternalMemoizedMergedChildContext=e,tt(is),tt($t),Ye($t,e)):tt(is),Ye(is,r)}var fr=null,Gc=!1,lu=!1;function V0(e){fr===null?fr=[e]:fr.push(e)}function Sj(e){Gc=!0,V0(e)}function vn(){if(!lu&&fr!==null){lu=!0;var e=0,s=Ge;try{var r=fr;for(Ge=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}fr=null,Gc=!1}catch(o){throw fr!==null&&(fr=fr.slice(e+1)),y0(vm,vn),o}finally{Ge=s,lu=!1}}return null}var Si=[],Pi=0,wc=null,jc=0,ks=[],Cs=0,Yn=null,vr=1,_r="";function Pn(e,s){Si[Pi++]=jc,Si[Pi++]=wc,wc=e,jc=s}function G0(e,s,r){ks[Cs++]=vr,ks[Cs++]=_r,ks[Cs++]=Yn,Yn=e;var i=vr;e=_r;var o=32-$s(i)-1;i&=~(1<<o),r+=1;var a=32-$s(s)+o;if(30<a){var c=o-o%5;a=(i&(1<<c)-1).toString(32),i>>=c,o-=c,vr=1<<32-$s(s)+o|r<<o|i,_r=a+e}else vr=1<<a|r<<o|i,_r=e}function Pm(e){e.return!==null&&(Pn(e,1),G0(e,1,0))}function Lm(e){for(;e===wc;)wc=Si[--Pi],Si[Pi]=null,jc=Si[--Pi],Si[Pi]=null;for(;e===Yn;)Yn=ks[--Cs],ks[Cs]=null,_r=ks[--Cs],ks[Cs]=null,vr=ks[--Cs],ks[Cs]=null}var hs=null,us=null,rt=!1,Ds=null;function Q0(e,s){var r=Ss(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function tx(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,hs=e,us=an(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,hs=e,us=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Yn!==null?{id:vr,overflow:_r}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Ss(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,hs=e,us=null,!0):!1;default:return!1}}function ch(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dh(e){if(rt){var s=us;if(s){var r=s;if(!tx(e,s)){if(ch(e))throw Error(he(418));s=an(r.nextSibling);var i=hs;s&&tx(e,s)?Q0(i,r):(e.flags=e.flags&-4097|2,rt=!1,hs=e)}}else{if(ch(e))throw Error(he(418));e.flags=e.flags&-4097|2,rt=!1,hs=e}}}function sx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function Fl(e){if(e!==hs)return!1;if(!rt)return sx(e),rt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!ih(e.type,e.memoizedProps)),s&&(s=us)){if(ch(e))throw K0(),Error(he(418));for(;s;)Q0(e,s),s=an(s.nextSibling)}if(sx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){us=an(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}us=null}}else us=hs?an(e.stateNode.nextSibling):null;return!0}function K0(){for(var e=us;e;)e=an(e.nextSibling)}function sa(){us=hs=null,rt=!1}function Em(e){Ds===null?Ds=[e]:Ds.push(e)}var Pj=Pr.ReactCurrentBatchConfig;function Za(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var i=r.stateNode}if(!i)throw Error(he(147,e));var o=i,a=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===a?s.ref:(s=function(c){var u=o.refs;c===null?delete u[a]:u[a]=c},s._stringRef=a,s)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Dl(e,s){throw e=Object.prototype.toString.call(s),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function rx(e){var s=e._init;return s(e._payload)}function Y0(e){function s(b,v){if(e){var k=b.deletions;k===null?(b.deletions=[v],b.flags|=16):k.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)s(b,v),v=v.sibling;return null}function i(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function o(b,v){return b=dn(b,v),b.index=0,b.sibling=null,b}function a(b,v,k){return b.index=k,e?(k=b.alternate,k!==null?(k=k.index,k<v?(b.flags|=2,v):k):(b.flags|=2,v)):(b.flags|=1048576,v)}function c(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,v,k,E){return v===null||v.tag!==6?(v=pu(k,b.mode,E),v.return=b,v):(v=o(v,k),v.return=b,v)}function h(b,v,k,E){var M=k.type;return M===bi?x(b,v,k.props.children,E,k.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ir&&rx(M)===v.type)?(E=o(v,k.props),E.ref=Za(b,v,k),E.return=b,E):(E=nc(k.type,k.key,k.props,null,b.mode,E),E.ref=Za(b,v,k),E.return=b,E)}function f(b,v,k,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=xu(k,b.mode,E),v.return=b,v):(v=o(v,k.children||[]),v.return=b,v)}function x(b,v,k,E,M){return v===null||v.tag!==7?(v=Vn(k,b.mode,E,M),v.return=b,v):(v=o(v,k),v.return=b,v)}function p(b,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pu(""+v,b.mode,k),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:return k=nc(v.type,v.key,v.props,null,b.mode,k),k.ref=Za(b,null,v),k.return=b,k;case _i:return v=xu(v,b.mode,k),v.return=b,v;case Ir:var E=v._init;return p(b,E(v._payload),k)}if(Xa(v)||Ba(v))return v=Vn(v,b.mode,k,null),v.return=b,v;Dl(b,v)}return null}function g(b,v,k,E){var M=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return M!==null?null:u(b,v,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pl:return k.key===M?h(b,v,k,E):null;case _i:return k.key===M?f(b,v,k,E):null;case Ir:return M=k._init,g(b,v,M(k._payload),E)}if(Xa(k)||Ba(k))return M!==null?null:x(b,v,k,E,null);Dl(b,k)}return null}function _(b,v,k,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(k)||null,u(v,b,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:return b=b.get(E.key===null?k:E.key)||null,h(v,b,E,M);case _i:return b=b.get(E.key===null?k:E.key)||null,f(v,b,E,M);case Ir:var A=E._init;return _(b,v,k,A(E._payload),M)}if(Xa(E)||Ba(E))return b=b.get(k)||null,x(v,b,E,M,null);Dl(v,E)}return null}function j(b,v,k,E){for(var M=null,A=null,W=v,G=v=0,T=null;W!==null&&G<k.length;G++){W.index>G?(T=W,W=null):T=W.sibling;var Z=g(b,W,k[G],E);if(Z===null){W===null&&(W=T);break}e&&W&&Z.alternate===null&&s(b,W),v=a(Z,v,G),A===null?M=Z:A.sibling=Z,A=Z,W=T}if(G===k.length)return r(b,W),rt&&Pn(b,G),M;if(W===null){for(;G<k.length;G++)W=p(b,k[G],E),W!==null&&(v=a(W,v,G),A===null?M=W:A.sibling=W,A=W);return rt&&Pn(b,G),M}for(W=i(b,W);G<k.length;G++)T=_(W,b,G,k[G],E),T!==null&&(e&&T.alternate!==null&&W.delete(T.key===null?G:T.key),v=a(T,v,G),A===null?M=T:A.sibling=T,A=T);return e&&W.forEach(function(I){return s(b,I)}),rt&&Pn(b,G),M}function N(b,v,k,E){var M=Ba(k);if(typeof M!="function")throw Error(he(150));if(k=M.call(k),k==null)throw Error(he(151));for(var A=M=null,W=v,G=v=0,T=null,Z=k.next();W!==null&&!Z.done;G++,Z=k.next()){W.index>G?(T=W,W=null):T=W.sibling;var I=g(b,W,Z.value,E);if(I===null){W===null&&(W=T);break}e&&W&&I.alternate===null&&s(b,W),v=a(I,v,G),A===null?M=I:A.sibling=I,A=I,W=T}if(Z.done)return r(b,W),rt&&Pn(b,G),M;if(W===null){for(;!Z.done;G++,Z=k.next())Z=p(b,Z.value,E),Z!==null&&(v=a(Z,v,G),A===null?M=Z:A.sibling=Z,A=Z);return rt&&Pn(b,G),M}for(W=i(b,W);!Z.done;G++,Z=k.next())Z=_(W,b,G,Z.value,E),Z!==null&&(e&&Z.alternate!==null&&W.delete(Z.key===null?G:Z.key),v=a(Z,v,G),A===null?M=Z:A.sibling=Z,A=Z);return e&&W.forEach(function(P){return s(b,P)}),rt&&Pn(b,G),M}function w(b,v,k,E){if(typeof k=="object"&&k!==null&&k.type===bi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Pl:e:{for(var M=k.key,A=v;A!==null;){if(A.key===M){if(M=k.type,M===bi){if(A.tag===7){r(b,A.sibling),v=o(A,k.props.children),v.return=b,b=v;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ir&&rx(M)===A.type){r(b,A.sibling),v=o(A,k.props),v.ref=Za(b,A,k),v.return=b,b=v;break e}r(b,A);break}else s(b,A);A=A.sibling}k.type===bi?(v=Vn(k.props.children,b.mode,E,k.key),v.return=b,b=v):(E=nc(k.type,k.key,k.props,null,b.mode,E),E.ref=Za(b,v,k),E.return=b,b=E)}return c(b);case _i:e:{for(A=k.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){r(b,v.sibling),v=o(v,k.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else s(b,v);v=v.sibling}v=xu(k,b.mode,E),v.return=b,b=v}return c(b);case Ir:return A=k._init,w(b,v,A(k._payload),E)}if(Xa(k))return j(b,v,k,E);if(Ba(k))return N(b,v,k,E);Dl(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(r(b,v.sibling),v=o(v,k),v.return=b,b=v):(r(b,v),v=pu(k,b.mode,E),v.return=b,b=v),c(b)):r(b,v)}return w}var ra=Y0(!0),J0=Y0(!1),Nc=yn(null),kc=null,Li=null,Mm=null;function Tm(){Mm=Li=kc=null}function Rm(e){var s=Nc.current;tt(Nc),e._currentValue=s}function uh(e,s,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),e===r)break;e=e.return}}function Ii(e,s){kc=e,Mm=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(ns=!0),e.firstContext=null)}function Ls(e){var s=e._currentValue;if(Mm!==e)if(e={context:e,memoizedValue:s,next:null},Li===null){if(kc===null)throw Error(he(308));Li=e,kc.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return s}var Mn=null;function zm(e){Mn===null?Mn=[e]:Mn.push(e)}function X0(e,s,r,i){var o=s.interleaved;return o===null?(r.next=r,zm(s)):(r.next=o.next,o.next=r),s.interleaved=r,Cr(e,i)}function Cr(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fr=!1;function Om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ey(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function on(e,s,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,He&2){var o=i.pending;return o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s,Cr(e,r)}return o=i.interleaved,o===null?(s.next=s,zm(i)):(s.next=o.next,o.next=s),i.interleaved=s,Cr(e,r)}function Jl(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var i=s.lanes;i&=e.pendingLanes,r|=i,s.lanes=r,_m(e,r)}}function nx(e,s){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?o=a=s:a=a.next=s}else o=a=s;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Cc(e,s,r,i){var o=e.updateQueue;Fr=!1;var a=o.firstBaseUpdate,c=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var h=u,f=h.next;h.next=null,c===null?a=f:c.next=f,c=h;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==c&&(u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=h))}if(a!==null){var p=o.baseState;c=0,x=f=h=null,u=a;do{var g=u.lane,_=u.eventTime;if((i&g)===g){x!==null&&(x=x.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,N=u;switch(g=s,_=r,N.tag){case 1:if(j=N.payload,typeof j=="function"){p=j.call(_,p,g);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=N.payload,g=typeof j=="function"?j.call(_,p,g):j,g==null)break e;p=dt({},p,g);break e;case 2:Fr=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[u]:g.push(u))}else _={eventTime:_,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(f=x=_,h=p):x=x.next=_,c|=g;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;g=u,u=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(x===null&&(h=p),o.baseState=h,o.firstBaseUpdate=f,o.lastBaseUpdate=x,s=o.shared.interleaved,s!==null){o=s;do c|=o.lane,o=o.next;while(o!==s)}else a===null&&(o.shared.lanes=0);Xn|=c,e.lanes=c,e.memoizedState=p}}function ix(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var i=e[s],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(he(191,o));o.call(i)}}}var Qo={},ir=yn(Qo),Co=yn(Qo),So=yn(Qo);function Tn(e){if(e===Qo)throw Error(he(174));return e}function Am(e,s){switch(Ye(So,s),Ye(Co,e),Ye(ir,Qo),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Zu(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Zu(s,e)}tt(ir),Ye(ir,s)}function na(){tt(ir),tt(Co),tt(So)}function ty(e){Tn(So.current);var s=Tn(ir.current),r=Zu(s,e.type);s!==r&&(Ye(Co,e),Ye(ir,r))}function Im(e){Co.current===e&&(tt(ir),tt(Co))}var lt=yn(0);function Sc(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cu=[];function Fm(){for(var e=0;e<cu.length;e++)cu[e]._workInProgressVersionPrimary=null;cu.length=0}var Xl=Pr.ReactCurrentDispatcher,du=Pr.ReactCurrentBatchConfig,Jn=0,ct=null,wt=null,Lt=null,Pc=!1,co=!1,Po=0,Lj=0;function It(){throw Error(he(321))}function Dm(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Ws(e[r],s[r]))return!1;return!0}function Bm(e,s,r,i,o,a){if(Jn=a,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Xl.current=e===null||e.memoizedState===null?Rj:zj,e=r(i,o),co){a=0;do{if(co=!1,Po=0,25<=a)throw Error(he(301));a+=1,Lt=wt=null,s.updateQueue=null,Xl.current=Oj,e=r(i,o)}while(co)}if(Xl.current=Lc,s=wt!==null&&wt.next!==null,Jn=0,Lt=wt=ct=null,Pc=!1,s)throw Error(he(300));return e}function Um(){var e=Po!==0;return Po=0,e}function Xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Es(){if(wt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var s=Lt===null?ct.memoizedState:Lt.next;if(s!==null)Lt=s,wt=e;else{if(e===null)throw Error(he(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Lt===null?ct.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Lo(e,s){return typeof s=="function"?s(e):s}function uu(e){var s=Es(),r=s.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var i=wt,o=i.baseQueue,a=r.pending;if(a!==null){if(o!==null){var c=o.next;o.next=a.next,a.next=c}i.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,i=i.baseState;var u=c=null,h=null,f=a;do{var x=f.lane;if((Jn&x)===x)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:e(i,f.action);else{var p={lane:x,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=p,c=i):h=h.next=p,ct.lanes|=x,Xn|=x}f=f.next}while(f!==null&&f!==a);h===null?c=i:h.next=u,Ws(i,s.memoizedState)||(ns=!0),s.memoizedState=i,s.baseState=c,s.baseQueue=h,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do a=o.lane,ct.lanes|=a,Xn|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function hu(e){var s=Es(),r=s.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=s.memoizedState;if(o!==null){r.pending=null;var c=o=o.next;do a=e(a,c.action),c=c.next;while(c!==o);Ws(a,s.memoizedState)||(ns=!0),s.memoizedState=a,s.baseQueue===null&&(s.baseState=a),r.lastRenderedState=a}return[a,i]}function sy(){}function ry(e,s){var r=ct,i=Es(),o=s(),a=!Ws(i.memoizedState,o);if(a&&(i.memoizedState=o,ns=!0),i=i.queue,$m(ay.bind(null,r,i,e),[e]),i.getSnapshot!==s||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Eo(9,iy.bind(null,r,i,o,s),void 0,null),Mt===null)throw Error(he(349));Jn&30||ny(r,s,o)}return o}function ny(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function iy(e,s,r,i){s.value=r,s.getSnapshot=i,oy(s)&&ly(e)}function ay(e,s,r){return r(function(){oy(s)&&ly(e)})}function oy(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Ws(e,r)}catch{return!0}}function ly(e){var s=Cr(e,1);s!==null&&Hs(s,e,1,-1)}function ax(e){var s=Xs();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:e},s.queue=e,e=e.dispatch=Tj.bind(null,ct,e),[s.memoizedState,e]}function Eo(e,s,r,i){return e={tag:e,create:s,destroy:r,deps:i,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,s.lastEffect=e)),e}function cy(){return Es().memoizedState}function ec(e,s,r,i){var o=Xs();ct.flags|=e,o.memoizedState=Eo(1|s,r,void 0,i===void 0?null:i)}function Qc(e,s,r,i){var o=Es();i=i===void 0?null:i;var a=void 0;if(wt!==null){var c=wt.memoizedState;if(a=c.destroy,i!==null&&Dm(i,c.deps)){o.memoizedState=Eo(s,r,a,i);return}}ct.flags|=e,o.memoizedState=Eo(1|s,r,a,i)}function ox(e,s){return ec(8390656,8,e,s)}function $m(e,s){return Qc(2048,8,e,s)}function dy(e,s){return Qc(4,2,e,s)}function uy(e,s){return Qc(4,4,e,s)}function hy(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function my(e,s,r){return r=r!=null?r.concat([e]):null,Qc(4,4,hy.bind(null,s,e),r)}function Hm(){}function fy(e,s){var r=Es();s=s===void 0?null:s;var i=r.memoizedState;return i!==null&&s!==null&&Dm(s,i[1])?i[0]:(r.memoizedState=[e,s],e)}function py(e,s){var r=Es();s=s===void 0?null:s;var i=r.memoizedState;return i!==null&&s!==null&&Dm(s,i[1])?i[0]:(e=e(),r.memoizedState=[e,s],e)}function xy(e,s,r){return Jn&21?(Ws(r,s)||(r=b0(),ct.lanes|=r,Xn|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,ns=!0),e.memoizedState=r)}function Ej(e,s){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var i=du.transition;du.transition={};try{e(!1),s()}finally{Ge=r,du.transition=i}}function gy(){return Es().memoizedState}function Mj(e,s,r){var i=cn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},yy(e))vy(s,r);else if(r=X0(e,s,r,i),r!==null){var o=Kt();Hs(r,e,i,o),_y(r,s,i)}}function Tj(e,s,r){var i=cn(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(yy(e))vy(s,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=s.lastRenderedReducer,a!==null))try{var c=s.lastRenderedState,u=a(c,r);if(o.hasEagerState=!0,o.eagerState=u,Ws(u,c)){var h=s.interleaved;h===null?(o.next=o,zm(s)):(o.next=h.next,h.next=o),s.interleaved=o;return}}catch{}finally{}r=X0(e,s,o,i),r!==null&&(o=Kt(),Hs(r,e,i,o),_y(r,s,i))}}function yy(e){var s=e.alternate;return e===ct||s!==null&&s===ct}function vy(e,s){co=Pc=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function _y(e,s,r){if(r&4194240){var i=s.lanes;i&=e.pendingLanes,r|=i,s.lanes=r,_m(e,r)}}var Lc={readContext:Ls,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Rj={readContext:Ls,useCallback:function(e,s){return Xs().memoizedState=[e,s===void 0?null:s],e},useContext:Ls,useEffect:ox,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,ec(4194308,4,hy.bind(null,s,e),r)},useLayoutEffect:function(e,s){return ec(4194308,4,e,s)},useInsertionEffect:function(e,s){return ec(4,2,e,s)},useMemo:function(e,s){var r=Xs();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var i=Xs();return s=r!==void 0?r(s):s,i.memoizedState=i.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=Mj.bind(null,ct,e),[i.memoizedState,e]},useRef:function(e){var s=Xs();return e={current:e},s.memoizedState=e},useState:ax,useDebugValue:Hm,useDeferredValue:function(e){return Xs().memoizedState=e},useTransition:function(){var e=ax(!1),s=e[0];return e=Ej.bind(null,e[1]),Xs().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var i=ct,o=Xs();if(rt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=s(),Mt===null)throw Error(he(349));Jn&30||ny(i,s,r)}o.memoizedState=r;var a={value:r,getSnapshot:s};return o.queue=a,ox(ay.bind(null,i,a,e),[e]),i.flags|=2048,Eo(9,iy.bind(null,i,a,r,s),void 0,null),r},useId:function(){var e=Xs(),s=Mt.identifierPrefix;if(rt){var r=_r,i=vr;r=(i&~(1<<32-$s(i)-1)).toString(32)+r,s=":"+s+"R"+r,r=Po++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Lj++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},zj={readContext:Ls,useCallback:fy,useContext:Ls,useEffect:$m,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:uy,useMemo:py,useReducer:uu,useRef:cy,useState:function(){return uu(Lo)},useDebugValue:Hm,useDeferredValue:function(e){var s=Es();return xy(s,wt.memoizedState,e)},useTransition:function(){var e=uu(Lo)[0],s=Es().memoizedState;return[e,s]},useMutableSource:sy,useSyncExternalStore:ry,useId:gy,unstable_isNewReconciler:!1},Oj={readContext:Ls,useCallback:fy,useContext:Ls,useEffect:$m,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:uy,useMemo:py,useReducer:hu,useRef:cy,useState:function(){return hu(Lo)},useDebugValue:Hm,useDeferredValue:function(e){var s=Es();return wt===null?s.memoizedState=e:xy(s,wt.memoizedState,e)},useTransition:function(){var e=hu(Lo)[0],s=Es().memoizedState;return[e,s]},useMutableSource:sy,useSyncExternalStore:ry,useId:gy,unstable_isNewReconciler:!1};function Os(e,s){if(e&&e.defaultProps){s=dt({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function hh(e,s,r,i){s=e.memoizedState,r=r(i,s),r=r==null?s:dt({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kc={isMounted:function(e){return(e=e._reactInternals)?ai(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var i=Kt(),o=cn(e),a=wr(i,o);a.payload=s,r!=null&&(a.callback=r),s=on(e,a,o),s!==null&&(Hs(s,e,o,i),Jl(s,e,o))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var i=Kt(),o=cn(e),a=wr(i,o);a.tag=1,a.payload=s,r!=null&&(a.callback=r),s=on(e,a,o),s!==null&&(Hs(s,e,o,i),Jl(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Kt(),i=cn(e),o=wr(r,i);o.tag=2,s!=null&&(o.callback=s),s=on(e,o,i),s!==null&&(Hs(s,e,i,r),Jl(s,e,i))}};function lx(e,s,r,i,o,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,c):s.prototype&&s.prototype.isPureReactComponent?!wo(r,i)||!wo(o,a):!0}function by(e,s,r){var i=!1,o=xn,a=s.contextType;return typeof a=="object"&&a!==null?a=Ls(a):(o=as(s)?Kn:$t.current,i=s.contextTypes,a=(i=i!=null)?ta(e,o):xn),s=new s(r,a),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Kc,e.stateNode=s,s._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),s}function cx(e,s,r,i){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,i),s.state!==e&&Kc.enqueueReplaceState(s,s.state,null)}function mh(e,s,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Om(e);var a=s.contextType;typeof a=="object"&&a!==null?o.context=Ls(a):(a=as(s)?Kn:$t.current,o.context=ta(e,a)),o.state=e.memoizedState,a=s.getDerivedStateFromProps,typeof a=="function"&&(hh(e,s,a,r),o.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Kc.enqueueReplaceState(o,o.state,null),Cc(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ia(e,s){try{var r="",i=s;do r+=cw(i),i=i.return;while(i);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:s,stack:o,digest:null}}function mu(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function fh(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var Aj=typeof WeakMap=="function"?WeakMap:Map;function wy(e,s,r){r=wr(-1,r),r.tag=3,r.payload={element:null};var i=s.value;return r.callback=function(){Mc||(Mc=!0,Nh=i),fh(e,s)},r}function jy(e,s,r){r=wr(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=s.value;r.payload=function(){return i(o)},r.callback=function(){fh(e,s)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){fh(e,s),typeof i!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})}),r}function dx(e,s,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Aj;var o=new Set;i.set(s,o)}else o=i.get(s),o===void 0&&(o=new Set,i.set(s,o));o.has(r)||(o.add(r),e=Kj.bind(null,e,s,r),s.then(e,e))}function ux(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function hx(e,s,r,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=wr(-1,1),s.tag=2,on(r,s,1))),r.lanes|=1),e)}var Ij=Pr.ReactCurrentOwner,ns=!1;function Gt(e,s,r,i){s.child=e===null?J0(s,null,r,i):ra(s,e.child,r,i)}function mx(e,s,r,i,o){r=r.render;var a=s.ref;return Ii(s,o),i=Bm(e,s,r,i,a,o),r=Um(),e!==null&&!ns?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Sr(e,s,o)):(rt&&r&&Pm(s),s.flags|=1,Gt(e,s,i,o),s.child)}function fx(e,s,r,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!Ym(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=a,Ny(e,s,a,i,o)):(e=nc(r.type,null,i,s,s.mode,o),e.ref=s.ref,e.return=s,s.child=e)}if(a=e.child,!(e.lanes&o)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:wo,r(c,i)&&e.ref===s.ref)return Sr(e,s,o)}return s.flags|=1,e=dn(a,i),e.ref=s.ref,e.return=s,s.child=e}function Ny(e,s,r,i,o){if(e!==null){var a=e.memoizedProps;if(wo(a,i)&&e.ref===s.ref)if(ns=!1,s.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(ns=!0);else return s.lanes=e.lanes,Sr(e,s,o)}return ph(e,s,r,i,o)}function ky(e,s,r){var i=s.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Mi,ds),ds|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,Ye(Mi,ds),ds|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,Ye(Mi,ds),ds|=i}else a!==null?(i=a.baseLanes|r,s.memoizedState=null):i=r,Ye(Mi,ds),ds|=i;return Gt(e,s,o,r),s.child}function Cy(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function ph(e,s,r,i,o){var a=as(r)?Kn:$t.current;return a=ta(s,a),Ii(s,o),r=Bm(e,s,r,i,a,o),i=Um(),e!==null&&!ns?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Sr(e,s,o)):(rt&&i&&Pm(s),s.flags|=1,Gt(e,s,r,o),s.child)}function px(e,s,r,i,o){if(as(r)){var a=!0;bc(s)}else a=!1;if(Ii(s,o),s.stateNode===null)tc(e,s),by(s,r,i),mh(s,r,i,o),i=!0;else if(e===null){var c=s.stateNode,u=s.memoizedProps;c.props=u;var h=c.context,f=r.contextType;typeof f=="object"&&f!==null?f=Ls(f):(f=as(r)?Kn:$t.current,f=ta(s,f));var x=r.getDerivedStateFromProps,p=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function";p||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==i||h!==f)&&cx(s,c,i,f),Fr=!1;var g=s.memoizedState;c.state=g,Cc(s,i,c,o),h=s.memoizedState,u!==i||g!==h||is.current||Fr?(typeof x=="function"&&(hh(s,r,x,i),h=s.memoizedState),(u=Fr||lx(s,r,u,i,g,h,f))?(p||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(s.flags|=4194308)):(typeof c.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=h),c.props=i,c.state=h,c.context=f,i=u):(typeof c.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{c=s.stateNode,ey(e,s),u=s.memoizedProps,f=s.type===s.elementType?u:Os(s.type,u),c.props=f,p=s.pendingProps,g=c.context,h=r.contextType,typeof h=="object"&&h!==null?h=Ls(h):(h=as(r)?Kn:$t.current,h=ta(s,h));var _=r.getDerivedStateFromProps;(x=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==p||g!==h)&&cx(s,c,i,h),Fr=!1,g=s.memoizedState,c.state=g,Cc(s,i,c,o);var j=s.memoizedState;u!==p||g!==j||is.current||Fr?(typeof _=="function"&&(hh(s,r,_,i),j=s.memoizedState),(f=Fr||lx(s,r,f,i,g,j,h)||!1)?(x||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,j,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,j,h)),typeof c.componentDidUpdate=="function"&&(s.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(s.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=j),c.props=i,c.state=j,c.context=h,i=f):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(s.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(s.flags|=1024),i=!1)}return xh(e,s,r,i,a,o)}function xh(e,s,r,i,o,a){Cy(e,s);var c=(s.flags&128)!==0;if(!i&&!c)return o&&ex(s,r,!1),Sr(e,s,a);i=s.stateNode,Ij.current=s;var u=c&&typeof r.getDerivedStateFromError!="function"?null:i.render();return s.flags|=1,e!==null&&c?(s.child=ra(s,e.child,null,a),s.child=ra(s,null,u,a)):Gt(e,s,u,a),s.memoizedState=i.state,o&&ex(s,r,!0),s.child}function Sy(e){var s=e.stateNode;s.pendingContext?Xp(e,s.pendingContext,s.pendingContext!==s.context):s.context&&Xp(e,s.context,!1),Am(e,s.containerInfo)}function xx(e,s,r,i,o){return sa(),Em(o),s.flags|=256,Gt(e,s,r,i),s.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function yh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Py(e,s,r){var i=s.pendingProps,o=lt.current,a=!1,c=(s.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(a=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ye(lt,o&1),e===null)return dh(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(c=i.children,e=i.fallback,a?(i=s.mode,a=s.child,c={mode:"hidden",children:c},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=Xc(c,i,0,null),e=Vn(e,i,r,null),a.return=s,e.return=s,a.sibling=e,s.child=a,s.child.memoizedState=yh(r),s.memoizedState=gh,e):Wm(s,c));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return Fj(e,s,c,i,u,o,r);if(a){a=i.fallback,c=s.mode,o=e.child,u=o.sibling;var h={mode:"hidden",children:i.children};return!(c&1)&&s.child!==o?(i=s.child,i.childLanes=0,i.pendingProps=h,s.deletions=null):(i=dn(o,h),i.subtreeFlags=o.subtreeFlags&14680064),u!==null?a=dn(u,a):(a=Vn(a,c,r,null),a.flags|=2),a.return=s,i.return=s,i.sibling=a,s.child=i,i=a,a=s.child,c=e.child.memoizedState,c=c===null?yh(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,s.memoizedState=gh,i}return a=e.child,e=a.sibling,i=dn(a,{mode:"visible",children:i.children}),!(s.mode&1)&&(i.lanes=r),i.return=s,i.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=i,s.memoizedState=null,i}function Wm(e,s){return s=Xc({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function Bl(e,s,r,i){return i!==null&&Em(i),ra(s,e.child,null,r),e=Wm(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Fj(e,s,r,i,o,a,c){if(r)return s.flags&256?(s.flags&=-257,i=mu(Error(he(422))),Bl(e,s,c,i)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(a=i.fallback,o=s.mode,i=Xc({mode:"visible",children:i.children},o,0,null),a=Vn(a,o,c,null),a.flags|=2,i.return=s,a.return=s,i.sibling=a,s.child=i,s.mode&1&&ra(s,e.child,null,c),s.child.memoizedState=yh(c),s.memoizedState=gh,a);if(!(s.mode&1))return Bl(e,s,c,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;return i=u,a=Error(he(419)),i=mu(a,i,void 0),Bl(e,s,c,i)}if(u=(c&e.childLanes)!==0,ns||u){if(i=Mt,i!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|c)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Cr(e,o),Hs(i,e,o,-1))}return Km(),i=mu(Error(he(421))),Bl(e,s,c,i)}return o.data==="$?"?(s.flags|=128,s.child=e.child,s=Yj.bind(null,e),o._reactRetry=s,null):(e=a.treeContext,us=an(o.nextSibling),hs=s,rt=!0,Ds=null,e!==null&&(ks[Cs++]=vr,ks[Cs++]=_r,ks[Cs++]=Yn,vr=e.id,_r=e.overflow,Yn=s),s=Wm(s,i.children),s.flags|=4096,s)}function gx(e,s,r){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s),uh(e.return,s,r)}function fu(e,s,r,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(a.isBackwards=s,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=o)}function Ly(e,s,r){var i=s.pendingProps,o=i.revealOrder,a=i.tail;if(Gt(e,s,i.children,r),i=lt.current,i&2)i=i&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gx(e,r,s);else if(e.tag===19)gx(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ye(lt,i),!(s.mode&1))s.memoizedState=null;else switch(o){case"forwards":for(r=s.child,o=null;r!==null;)e=r.alternate,e!==null&&Sc(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=s.child,s.child=null):(o=r.sibling,r.sibling=null),fu(s,!1,o,r,a);break;case"backwards":for(r=null,o=s.child,s.child=null;o!==null;){if(e=o.alternate,e!==null&&Sc(e)===null){s.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}fu(s,!0,r,null,a);break;case"together":fu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Sr(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),Xn|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(he(153));if(s.child!==null){for(e=s.child,r=dn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=dn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function Dj(e,s,r){switch(s.tag){case 3:Sy(s),sa();break;case 5:ty(s);break;case 1:as(s.type)&&bc(s);break;case 4:Am(s,s.stateNode.containerInfo);break;case 10:var i=s.type._context,o=s.memoizedProps.value;Ye(Nc,i._currentValue),i._currentValue=o;break;case 13:if(i=s.memoizedState,i!==null)return i.dehydrated!==null?(Ye(lt,lt.current&1),s.flags|=128,null):r&s.child.childLanes?Py(e,s,r):(Ye(lt,lt.current&1),e=Sr(e,s,r),e!==null?e.sibling:null);Ye(lt,lt.current&1);break;case 19:if(i=(r&s.childLanes)!==0,e.flags&128){if(i)return Ly(e,s,r);s.flags|=128}if(o=s.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ye(lt,lt.current),i)break;return null;case 22:case 23:return s.lanes=0,ky(e,s,r)}return Sr(e,s,r)}var Ey,vh,My,Ty;Ey=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vh=function(){};My=function(e,s,r,i){var o=e.memoizedProps;if(o!==i){e=s.stateNode,Tn(ir.current);var a=null;switch(r){case"input":o=Uu(e,o),i=Uu(e,i),a=[];break;case"select":o=dt({},o,{value:void 0}),i=dt({},i,{value:void 0}),a=[];break;case"textarea":o=Wu(e,o),i=Wu(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=vc)}qu(r,i);var c;r=null;for(f in o)if(!i.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(c in u)u.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(po.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in i){var h=i[f];if(u=o!=null?o[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(r||(r={}),r[c]=h[c])}else r||(a||(a=[]),a.push(f,r)),r=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(a=a||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(po.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Xe("scroll",e),a||u===h||(a=[])):(a=a||[]).push(f,h))}r&&(a=a||[]).push("style",r);var f=a;(s.updateQueue=f)&&(s.flags|=4)}};Ty=function(e,s,r,i){r!==i&&(s.flags|=4)};function qa(e,s){if(!rt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ft(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(s)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,s}function Bj(e,s,r){var i=s.pendingProps;switch(Lm(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return as(s.type)&&_c(),Ft(s),null;case 3:return i=s.stateNode,na(),tt(is),tt($t),Fm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Fl(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ds!==null&&(Sh(Ds),Ds=null))),vh(e,s),Ft(s),null;case 5:Im(s);var o=Tn(So.current);if(r=s.type,e!==null&&s.stateNode!=null)My(e,s,r,i,o),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!i){if(s.stateNode===null)throw Error(he(166));return Ft(s),null}if(e=Tn(ir.current),Fl(s)){i=s.stateNode,r=s.type;var a=s.memoizedProps;switch(i[rr]=s,i[ko]=a,e=(s.mode&1)!==0,r){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(o=0;o<to.length;o++)Xe(to[o],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Cp(i,a),Xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Xe("invalid",i);break;case"textarea":Pp(i,a),Xe("invalid",i)}qu(r,a),o=null;for(var c in a)if(a.hasOwnProperty(c)){var u=a[c];c==="children"?typeof u=="string"?i.textContent!==u&&(a.suppressHydrationWarning!==!0&&Il(i.textContent,u,e),o=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Il(i.textContent,u,e),o=["children",""+u]):po.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&Xe("scroll",i)}switch(r){case"input":Ll(i),Sp(i,a,!0);break;case"textarea":Ll(i),Lp(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=vc)}i=o,s.updateQueue=i,i!==null&&(s.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=c.createElement(r,{is:i.is}):(e=c.createElement(r),r==="select"&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,r),e[rr]=s,e[ko]=i,Ey(e,s,!1,!1),s.stateNode=e;e:{switch(c=Vu(r,i),r){case"dialog":Xe("cancel",e),Xe("close",e),o=i;break;case"iframe":case"object":case"embed":Xe("load",e),o=i;break;case"video":case"audio":for(o=0;o<to.length;o++)Xe(to[o],e);o=i;break;case"source":Xe("error",e),o=i;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),o=i;break;case"details":Xe("toggle",e),o=i;break;case"input":Cp(e,i),o=Uu(e,i),Xe("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=dt({},i,{value:void 0}),Xe("invalid",e);break;case"textarea":Pp(e,i),o=Wu(e,i),Xe("invalid",e);break;default:o=i}qu(r,o),u=o;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];a==="style"?c0(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&o0(e,h)):a==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&xo(e,h):typeof h=="number"&&xo(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(po.hasOwnProperty(a)?h!=null&&a==="onScroll"&&Xe("scroll",e):h!=null&&fm(e,a,h,c))}switch(r){case"input":Ll(e),Sp(e,i,!1);break;case"textarea":Ll(e),Lp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+pn(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Ri(e,!!i.multiple,a,!1):i.defaultValue!=null&&Ri(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=vc)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(e&&s.stateNode!=null)Ty(e,s,e.memoizedProps,i);else{if(typeof i!="string"&&s.stateNode===null)throw Error(he(166));if(r=Tn(So.current),Tn(ir.current),Fl(s)){if(i=s.stateNode,r=s.memoizedProps,i[rr]=s,(a=i.nodeValue!==r)&&(e=hs,e!==null))switch(e.tag){case 3:Il(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(i.nodeValue,r,(e.mode&1)!==0)}a&&(s.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[rr]=s,s.stateNode=i}return Ft(s),null;case 13:if(tt(lt),i=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&us!==null&&s.mode&1&&!(s.flags&128))K0(),sa(),s.flags|=98560,a=!1;else if(a=Fl(s),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[rr]=s}else sa(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ft(s),a=!1}else Ds!==null&&(Sh(Ds),Ds=null),a=!0;if(!a)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(s.child.flags|=8192,s.mode&1&&(e===null||lt.current&1?Nt===0&&(Nt=3):Km())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return na(),vh(e,s),e===null&&jo(s.stateNode.containerInfo),Ft(s),null;case 10:return Rm(s.type._context),Ft(s),null;case 17:return as(s.type)&&_c(),Ft(s),null;case 19:if(tt(lt),a=s.memoizedState,a===null)return Ft(s),null;if(i=(s.flags&128)!==0,c=a.rendering,c===null)if(i)qa(a,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(c=Sc(e),c!==null){for(s.flags|=128,qa(a,!1),i=c.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=r,r=s.child;r!==null;)a=r,e=i,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(lt,lt.current&1|2),s.child}e=e.sibling}a.tail!==null&&xt()>aa&&(s.flags|=128,i=!0,qa(a,!1),s.lanes=4194304)}else{if(!i)if(e=Sc(c),e!==null){if(s.flags|=128,i=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),qa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!rt)return Ft(s),null}else 2*xt()-a.renderingStartTime>aa&&r!==1073741824&&(s.flags|=128,i=!0,qa(a,!1),s.lanes=4194304);a.isBackwards?(c.sibling=s.child,s.child=c):(r=a.last,r!==null?r.sibling=c:s.child=c,a.last=c)}return a.tail!==null?(s=a.tail,a.rendering=s,a.tail=s.sibling,a.renderingStartTime=xt(),s.sibling=null,r=lt.current,Ye(lt,i?r&1|2:r&1),s):(Ft(s),null);case 22:case 23:return Qm(),i=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(s.flags|=8192),i&&s.mode&1?ds&1073741824&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(he(156,s.tag))}function Uj(e,s){switch(Lm(s),s.tag){case 1:return as(s.type)&&_c(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return na(),tt(is),tt($t),Fm(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Im(s),null;case 13:if(tt(lt),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(he(340));sa()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return tt(lt),null;case 4:return na(),null;case 10:return Rm(s.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var Ul=!1,Bt=!1,$j=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ei(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ft(e,s,i)}else r.current=null}function _h(e,s,r){try{r()}catch(i){ft(e,s,i)}}var yx=!1;function Hj(e,s){if(rh=xc,e=I0(),Sm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,u=-1,h=-1,f=0,x=0,p=e,g=null;t:for(;;){for(var _;p!==r||o!==0&&p.nodeType!==3||(u=c+o),p!==a||i!==0&&p.nodeType!==3||(h=c+i),p.nodeType===3&&(c+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===e)break t;if(g===r&&++f===o&&(u=c),g===a&&++x===i&&(h=c),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(nh={focusedElem:e,selectionRange:r},xc=!1,we=s;we!==null;)if(s=we,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,we=e;else for(;we!==null;){s=we;try{var j=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var N=j.memoizedProps,w=j.memoizedState,b=s.stateNode,v=b.getSnapshotBeforeUpdate(s.elementType===s.type?N:Os(s.type,N),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=s.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(E){ft(s,s.return,E)}if(e=s.sibling,e!==null){e.return=s.return,we=e;break}we=s.return}return j=yx,yx=!1,j}function uo(e,s,r){var i=s.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&_h(s,r,a)}o=o.next}while(o!==i)}}function Yc(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==s)}}function bh(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function Ry(e){var s=e.alternate;s!==null&&(e.alternate=null,Ry(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[rr],delete s[ko],delete s[oh],delete s[kj],delete s[Cj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zy(e){return e.tag===5||e.tag===3||e.tag===4}function vx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wh(e,s,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=vc));else if(i!==4&&(e=e.child,e!==null))for(wh(e,s,r),e=e.sibling;e!==null;)wh(e,s,r),e=e.sibling}function jh(e,s,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(jh(e,s,r),e=e.sibling;e!==null;)jh(e,s,r),e=e.sibling}var zt=null,Fs=!1;function Tr(e,s,r){for(r=r.child;r!==null;)Oy(e,s,r),r=r.sibling}function Oy(e,s,r){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Hc,r)}catch{}switch(r.tag){case 5:Bt||Ei(r,s);case 6:var i=zt,o=Fs;zt=null,Tr(e,s,r),zt=i,Fs=o,zt!==null&&(Fs?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(Fs?(e=zt,r=r.stateNode,e.nodeType===8?ou(e.parentNode,r):e.nodeType===1&&ou(e,r),_o(e)):ou(zt,r.stateNode));break;case 4:i=zt,o=Fs,zt=r.stateNode.containerInfo,Fs=!0,Tr(e,s,r),zt=i,Fs=o;break;case 0:case 11:case 14:case 15:if(!Bt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&_h(r,s,c),o=o.next}while(o!==i)}Tr(e,s,r);break;case 1:if(!Bt&&(Ei(r,s),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(u){ft(r,s,u)}Tr(e,s,r);break;case 21:Tr(e,s,r);break;case 22:r.mode&1?(Bt=(i=Bt)||r.memoizedState!==null,Tr(e,s,r),Bt=i):Tr(e,s,r);break;default:Tr(e,s,r)}}function _x(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $j),s.forEach(function(i){var o=Jj.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Rs(e,s){var r=s.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var a=e,c=s,u=c;e:for(;u!==null;){switch(u.tag){case 5:zt=u.stateNode,Fs=!1;break e;case 3:zt=u.stateNode.containerInfo,Fs=!0;break e;case 4:zt=u.stateNode.containerInfo,Fs=!0;break e}u=u.return}if(zt===null)throw Error(he(160));Oy(a,c,o),zt=null,Fs=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(f){ft(o,s,f)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ay(s,e),s=s.sibling}function Ay(e,s){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rs(s,e),Ys(e),i&4){try{uo(3,e,e.return),Yc(3,e)}catch(N){ft(e,e.return,N)}try{uo(5,e,e.return)}catch(N){ft(e,e.return,N)}}break;case 1:Rs(s,e),Ys(e),i&512&&r!==null&&Ei(r,r.return);break;case 5:if(Rs(s,e),Ys(e),i&512&&r!==null&&Ei(r,r.return),e.flags&32){var o=e.stateNode;try{xo(o,"")}catch(N){ft(e,e.return,N)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,u=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&n0(o,a),Vu(u,c);var f=Vu(u,a);for(c=0;c<h.length;c+=2){var x=h[c],p=h[c+1];x==="style"?c0(o,p):x==="dangerouslySetInnerHTML"?o0(o,p):x==="children"?xo(o,p):fm(o,x,p,f)}switch(u){case"input":$u(o,a);break;case"textarea":i0(o,a);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?Ri(o,!!a.multiple,_,!1):g!==!!a.multiple&&(a.defaultValue!=null?Ri(o,!!a.multiple,a.defaultValue,!0):Ri(o,!!a.multiple,a.multiple?[]:"",!1))}o[ko]=a}catch(N){ft(e,e.return,N)}}break;case 6:if(Rs(s,e),Ys(e),i&4){if(e.stateNode===null)throw Error(he(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(N){ft(e,e.return,N)}}break;case 3:if(Rs(s,e),Ys(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{_o(s.containerInfo)}catch(N){ft(e,e.return,N)}break;case 4:Rs(s,e),Ys(e);break;case 13:Rs(s,e),Ys(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Vm=xt())),i&4&&_x(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(f=Bt)||x,Rs(s,e),Bt=f):Rs(s,e),Ys(e),i&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!x&&e.mode&1)for(we=e,x=e.child;x!==null;){for(p=we=x;we!==null;){switch(g=we,_=g.child,g.tag){case 0:case 11:case 14:case 15:uo(4,g,g.return);break;case 1:Ei(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){i=g,r=g.return;try{s=i,j.props=s.memoizedProps,j.state=s.memoizedState,j.componentWillUnmount()}catch(N){ft(i,r,N)}}break;case 5:Ei(g,g.return);break;case 22:if(g.memoizedState!==null){wx(p);continue}}_!==null?(_.return=g,we=_):wx(p)}x=x.sibling}e:for(x=null,p=e;;){if(p.tag===5){if(x===null){x=p;try{o=p.stateNode,f?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=p.stateNode,h=p.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=l0("display",c))}catch(N){ft(e,e.return,N)}}}else if(p.tag===6){if(x===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(N){ft(e,e.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rs(s,e),Ys(e),i&4&&_x(e);break;case 21:break;default:Rs(s,e),Ys(e)}}function Ys(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(zy(r)){var i=r;break e}r=r.return}throw Error(he(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(xo(o,""),i.flags&=-33);var a=vx(e);jh(e,a,o);break;case 3:case 4:var c=i.stateNode.containerInfo,u=vx(e);wh(e,u,c);break;default:throw Error(he(161))}}catch(h){ft(e,e.return,h)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Wj(e,s,r){we=e,Iy(e)}function Iy(e,s,r){for(var i=(e.mode&1)!==0;we!==null;){var o=we,a=o.child;if(o.tag===22&&i){var c=o.memoizedState!==null||Ul;if(!c){var u=o.alternate,h=u!==null&&u.memoizedState!==null||Bt;u=Ul;var f=Bt;if(Ul=c,(Bt=h)&&!f)for(we=o;we!==null;)c=we,h=c.child,c.tag===22&&c.memoizedState!==null?jx(o):h!==null?(h.return=c,we=h):jx(o);for(;a!==null;)we=a,Iy(a),a=a.sibling;we=o,Ul=u,Bt=f}bx(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,we=a):bx(e)}}function bx(e){for(;we!==null;){var s=we;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Bt||Yc(5,s);break;case 1:var i=s.stateNode;if(s.flags&4&&!Bt)if(r===null)i.componentDidMount();else{var o=s.elementType===s.type?r.memoizedProps:Os(s.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=s.updateQueue;a!==null&&ix(s,a,i);break;case 3:var c=s.updateQueue;if(c!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}ix(s,c,r)}break;case 5:var u=s.stateNode;if(r===null&&s.flags&4){r=u;var h=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var f=s.alternate;if(f!==null){var x=f.memoizedState;if(x!==null){var p=x.dehydrated;p!==null&&_o(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Bt||s.flags&512&&bh(s)}catch(g){ft(s,s.return,g)}}if(s===e){we=null;break}if(r=s.sibling,r!==null){r.return=s.return,we=r;break}we=s.return}}function wx(e){for(;we!==null;){var s=we;if(s===e){we=null;break}var r=s.sibling;if(r!==null){r.return=s.return,we=r;break}we=s.return}}function jx(e){for(;we!==null;){var s=we;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Yc(4,s)}catch(h){ft(s,r,h)}break;case 1:var i=s.stateNode;if(typeof i.componentDidMount=="function"){var o=s.return;try{i.componentDidMount()}catch(h){ft(s,o,h)}}var a=s.return;try{bh(s)}catch(h){ft(s,a,h)}break;case 5:var c=s.return;try{bh(s)}catch(h){ft(s,c,h)}}}catch(h){ft(s,s.return,h)}if(s===e){we=null;break}var u=s.sibling;if(u!==null){u.return=s.return,we=u;break}we=s.return}}var Zj=Math.ceil,Ec=Pr.ReactCurrentDispatcher,Zm=Pr.ReactCurrentOwner,Ps=Pr.ReactCurrentBatchConfig,He=0,Mt=null,_t=null,Ot=0,ds=0,Mi=yn(0),Nt=0,Mo=null,Xn=0,Jc=0,qm=0,ho=null,rs=null,Vm=0,aa=1/0,mr=null,Mc=!1,Nh=null,ln=null,$l=!1,Xr=null,Tc=0,mo=0,kh=null,sc=-1,rc=0;function Kt(){return He&6?xt():sc!==-1?sc:sc=xt()}function cn(e){return e.mode&1?He&2&&Ot!==0?Ot&-Ot:Pj.transition!==null?(rc===0&&(rc=b0()),rc):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:P0(e.type)),e):1}function Hs(e,s,r,i){if(50<mo)throw mo=0,kh=null,Error(he(185));qo(e,r,i),(!(He&2)||e!==Mt)&&(e===Mt&&(!(He&2)&&(Jc|=r),Nt===4&&Ur(e,Ot)),os(e,i),r===1&&He===0&&!(s.mode&1)&&(aa=xt()+500,Gc&&vn()))}function os(e,s){var r=e.callbackNode;Pw(e,s);var i=pc(e,e===Mt?Ot:0);if(i===0)r!==null&&Tp(r),e.callbackNode=null,e.callbackPriority=0;else if(s=i&-i,e.callbackPriority!==s){if(r!=null&&Tp(r),s===1)e.tag===0?Sj(Nx.bind(null,e)):V0(Nx.bind(null,e)),jj(function(){!(He&6)&&vn()}),r=null;else{switch(w0(i)){case 1:r=vm;break;case 4:r=v0;break;case 16:r=fc;break;case 536870912:r=_0;break;default:r=fc}r=Zy(r,Fy.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Fy(e,s){if(sc=-1,rc=0,He&6)throw Error(he(327));var r=e.callbackNode;if(Fi()&&e.callbackNode!==r)return null;var i=pc(e,e===Mt?Ot:0);if(i===0)return null;if(i&30||i&e.expiredLanes||s)s=Rc(e,i);else{s=i;var o=He;He|=2;var a=By();(Mt!==e||Ot!==s)&&(mr=null,aa=xt()+500,qn(e,s));do try{Gj();break}catch(u){Dy(e,u)}while(!0);Tm(),Ec.current=a,He=o,_t!==null?s=0:(Mt=null,Ot=0,s=Nt)}if(s!==0){if(s===2&&(o=Ju(e),o!==0&&(i=o,s=Ch(e,o))),s===1)throw r=Mo,qn(e,0),Ur(e,i),os(e,xt()),r;if(s===6)Ur(e,i);else{if(o=e.current.alternate,!(i&30)&&!qj(o)&&(s=Rc(e,i),s===2&&(a=Ju(e),a!==0&&(i=a,s=Ch(e,a))),s===1))throw r=Mo,qn(e,0),Ur(e,i),os(e,xt()),r;switch(e.finishedWork=o,e.finishedLanes=i,s){case 0:case 1:throw Error(he(345));case 2:Ln(e,rs,mr);break;case 3:if(Ur(e,i),(i&130023424)===i&&(s=Vm+500-xt(),10<s)){if(pc(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ah(Ln.bind(null,e,rs,mr),s);break}Ln(e,rs,mr);break;case 4:if(Ur(e,i),(i&4194240)===i)break;for(s=e.eventTimes,o=-1;0<i;){var c=31-$s(i);a=1<<c,c=s[c],c>o&&(o=c),i&=~a}if(i=o,i=xt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Zj(i/1960))-i,10<i){e.timeoutHandle=ah(Ln.bind(null,e,rs,mr),i);break}Ln(e,rs,mr);break;case 5:Ln(e,rs,mr);break;default:throw Error(he(329))}}}return os(e,xt()),e.callbackNode===r?Fy.bind(null,e):null}function Ch(e,s){var r=ho;return e.current.memoizedState.isDehydrated&&(qn(e,s).flags|=256),e=Rc(e,s),e!==2&&(s=rs,rs=r,s!==null&&Sh(s)),e}function Sh(e){rs===null?rs=e:rs.push.apply(rs,e)}function qj(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot;o=o.value;try{if(!Ws(a(),o))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ur(e,s){for(s&=~qm,s&=~Jc,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-$s(s),i=1<<r;e[r]=-1,s&=~i}}function Nx(e){if(He&6)throw Error(he(327));Fi();var s=pc(e,0);if(!(s&1))return os(e,xt()),null;var r=Rc(e,s);if(e.tag!==0&&r===2){var i=Ju(e);i!==0&&(s=i,r=Ch(e,i))}if(r===1)throw r=Mo,qn(e,0),Ur(e,s),os(e,xt()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Ln(e,rs,mr),os(e,xt()),null}function Gm(e,s){var r=He;He|=1;try{return e(s)}finally{He=r,He===0&&(aa=xt()+500,Gc&&vn())}}function ei(e){Xr!==null&&Xr.tag===0&&!(He&6)&&Fi();var s=He;He|=1;var r=Ps.transition,i=Ge;try{if(Ps.transition=null,Ge=1,e)return e()}finally{Ge=i,Ps.transition=r,He=s,!(He&6)&&vn()}}function Qm(){ds=Mi.current,tt(Mi)}function qn(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wj(r)),_t!==null)for(r=_t.return;r!==null;){var i=r;switch(Lm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_c();break;case 3:na(),tt(is),tt($t),Fm();break;case 5:Im(i);break;case 4:na();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:Rm(i.type._context);break;case 22:case 23:Qm()}r=r.return}if(Mt=e,_t=e=dn(e.current,null),Ot=ds=s,Nt=0,Mo=null,qm=Jc=Xn=0,rs=ho=null,Mn!==null){for(s=0;s<Mn.length;s++)if(r=Mn[s],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,a=r.pending;if(a!==null){var c=a.next;a.next=o,i.next=c}r.pending=i}Mn=null}return e}function Dy(e,s){do{var r=_t;try{if(Tm(),Xl.current=Lc,Pc){for(var i=ct.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Pc=!1}if(Jn=0,Lt=wt=ct=null,co=!1,Po=0,Zm.current=null,r===null||r.return===null){Nt=1,Mo=s,_t=null;break}e:{var a=e,c=r.return,u=r,h=s;if(s=Ot,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,x=u,p=x.tag;if(!(x.mode&1)&&(p===0||p===11||p===15)){var g=x.alternate;g?(x.updateQueue=g.updateQueue,x.memoizedState=g.memoizedState,x.lanes=g.lanes):(x.updateQueue=null,x.memoizedState=null)}var _=ux(c);if(_!==null){_.flags&=-257,hx(_,c,u,a,s),_.mode&1&&dx(a,f,s),s=_,h=f;var j=s.updateQueue;if(j===null){var N=new Set;N.add(h),s.updateQueue=N}else j.add(h);break e}else{if(!(s&1)){dx(a,f,s),Km();break e}h=Error(he(426))}}else if(rt&&u.mode&1){var w=ux(c);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hx(w,c,u,a,s),Em(ia(h,u));break e}}a=h=ia(h,u),Nt!==4&&(Nt=2),ho===null?ho=[a]:ho.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,s&=-s,a.lanes|=s;var b=wy(a,h,s);nx(a,b);break e;case 1:u=h;var v=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ln===null||!ln.has(k)))){a.flags|=65536,s&=-s,a.lanes|=s;var E=jy(a,u,s);nx(a,E);break e}}a=a.return}while(a!==null)}$y(r)}catch(M){s=M,_t===r&&r!==null&&(_t=r=r.return);continue}break}while(!0)}function By(){var e=Ec.current;return Ec.current=Lc,e===null?Lc:e}function Km(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Mt===null||!(Xn&268435455)&&!(Jc&268435455)||Ur(Mt,Ot)}function Rc(e,s){var r=He;He|=2;var i=By();(Mt!==e||Ot!==s)&&(mr=null,qn(e,s));do try{Vj();break}catch(o){Dy(e,o)}while(!0);if(Tm(),He=r,Ec.current=i,_t!==null)throw Error(he(261));return Mt=null,Ot=0,Nt}function Vj(){for(;_t!==null;)Uy(_t)}function Gj(){for(;_t!==null&&!vw();)Uy(_t)}function Uy(e){var s=Wy(e.alternate,e,ds);e.memoizedProps=e.pendingProps,s===null?$y(e):_t=s,Zm.current=null}function $y(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=Uj(r,s),r!==null){r.flags&=32767,_t=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,_t=null;return}}else if(r=Bj(r,s,ds),r!==null){_t=r;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=e}while(s!==null);Nt===0&&(Nt=5)}function Ln(e,s,r){var i=Ge,o=Ps.transition;try{Ps.transition=null,Ge=1,Qj(e,s,r,i)}finally{Ps.transition=o,Ge=i}return null}function Qj(e,s,r,i){do Fi();while(Xr!==null);if(He&6)throw Error(he(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Lw(e,a),e===Mt&&(_t=Mt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$l||($l=!0,Zy(fc,function(){return Fi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ps.transition,Ps.transition=null;var c=Ge;Ge=1;var u=He;He|=4,Zm.current=null,Hj(e,r),Ay(r,e),pj(nh),xc=!!rh,nh=rh=null,e.current=r,Wj(r),_w(),He=u,Ge=c,Ps.transition=a}else e.current=r;if($l&&($l=!1,Xr=e,Tc=o),a=e.pendingLanes,a===0&&(ln=null),jw(r.stateNode),os(e,xt()),s!==null)for(i=e.onRecoverableError,r=0;r<s.length;r++)o=s[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(Mc)throw Mc=!1,e=Nh,Nh=null,e;return Tc&1&&e.tag!==0&&Fi(),a=e.pendingLanes,a&1?e===kh?mo++:(mo=0,kh=e):mo=0,vn(),null}function Fi(){if(Xr!==null){var e=w0(Tc),s=Ps.transition,r=Ge;try{if(Ps.transition=null,Ge=16>e?16:e,Xr===null)var i=!1;else{if(e=Xr,Xr=null,Tc=0,He&6)throw Error(he(331));var o=He;for(He|=4,we=e.current;we!==null;){var a=we,c=a.child;if(we.flags&16){var u=a.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(we=f;we!==null;){var x=we;switch(x.tag){case 0:case 11:case 15:uo(8,x,a)}var p=x.child;if(p!==null)p.return=x,we=p;else for(;we!==null;){x=we;var g=x.sibling,_=x.return;if(Ry(x),x===f){we=null;break}if(g!==null){g.return=_,we=g;break}we=_}}}var j=a.alternate;if(j!==null){var N=j.child;if(N!==null){j.child=null;do{var w=N.sibling;N.sibling=null,N=w}while(N!==null)}}we=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,we=c;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:uo(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,we=b;break e}we=a.return}}var v=e.current;for(we=v;we!==null;){c=we;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,we=k;else e:for(c=v;we!==null;){if(u=we,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Yc(9,u)}}catch(M){ft(u,u.return,M)}if(u===c){we=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,we=E;break e}we=u.return}}if(He=o,vn(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Hc,e)}catch{}i=!0}return i}finally{Ge=r,Ps.transition=s}}return!1}function kx(e,s,r){s=ia(r,s),s=wy(e,s,1),e=on(e,s,1),s=Kt(),e!==null&&(qo(e,1,s),os(e,s))}function ft(e,s,r){if(e.tag===3)kx(e,e,r);else for(;s!==null;){if(s.tag===3){kx(s,e,r);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ln===null||!ln.has(i))){e=ia(r,e),e=jy(s,e,1),s=on(s,e,1),e=Kt(),s!==null&&(qo(s,1,e),os(s,e));break}}s=s.return}}function Kj(e,s,r){var i=e.pingCache;i!==null&&i.delete(s),s=Kt(),e.pingedLanes|=e.suspendedLanes&r,Mt===e&&(Ot&r)===r&&(Nt===4||Nt===3&&(Ot&130023424)===Ot&&500>xt()-Vm?qn(e,0):qm|=r),os(e,s)}function Hy(e,s){s===0&&(e.mode&1?(s=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):s=1);var r=Kt();e=Cr(e,s),e!==null&&(qo(e,s,r),os(e,r))}function Yj(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Hy(e,r)}function Jj(e,s){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(he(314))}i!==null&&i.delete(s),Hy(e,r)}var Wy;Wy=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||is.current)ns=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return ns=!1,Dj(e,s,r);ns=!!(e.flags&131072)}else ns=!1,rt&&s.flags&1048576&&G0(s,jc,s.index);switch(s.lanes=0,s.tag){case 2:var i=s.type;tc(e,s),e=s.pendingProps;var o=ta(s,$t.current);Ii(s,r),o=Bm(null,s,i,e,o,r);var a=Um();return s.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,as(i)?(a=!0,bc(s)):a=!1,s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Om(s),o.updater=Kc,s.stateNode=o,o._reactInternals=s,mh(s,i,e,r),s=xh(null,s,i,!0,a,r)):(s.tag=0,rt&&a&&Pm(s),Gt(null,s,o,r),s=s.child),s;case 16:i=s.elementType;e:{switch(tc(e,s),e=s.pendingProps,o=i._init,i=o(i._payload),s.type=i,o=s.tag=e1(i),e=Os(i,e),o){case 0:s=ph(null,s,i,e,r);break e;case 1:s=px(null,s,i,e,r);break e;case 11:s=mx(null,s,i,e,r);break e;case 14:s=fx(null,s,i,Os(i.type,e),r);break e}throw Error(he(306,i,""))}return s;case 0:return i=s.type,o=s.pendingProps,o=s.elementType===i?o:Os(i,o),ph(e,s,i,o,r);case 1:return i=s.type,o=s.pendingProps,o=s.elementType===i?o:Os(i,o),px(e,s,i,o,r);case 3:e:{if(Sy(s),e===null)throw Error(he(387));i=s.pendingProps,a=s.memoizedState,o=a.element,ey(e,s),Cc(s,i,null,r);var c=s.memoizedState;if(i=c.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},s.updateQueue.baseState=a,s.memoizedState=a,s.flags&256){o=ia(Error(he(423)),s),s=xx(e,s,i,r,o);break e}else if(i!==o){o=ia(Error(he(424)),s),s=xx(e,s,i,r,o);break e}else for(us=an(s.stateNode.containerInfo.firstChild),hs=s,rt=!0,Ds=null,r=J0(s,null,i,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sa(),i===o){s=Sr(e,s,r);break e}Gt(e,s,i,r)}s=s.child}return s;case 5:return ty(s),e===null&&dh(s),i=s.type,o=s.pendingProps,a=e!==null?e.memoizedProps:null,c=o.children,ih(i,o)?c=null:a!==null&&ih(i,a)&&(s.flags|=32),Cy(e,s),Gt(e,s,c,r),s.child;case 6:return e===null&&dh(s),null;case 13:return Py(e,s,r);case 4:return Am(s,s.stateNode.containerInfo),i=s.pendingProps,e===null?s.child=ra(s,null,i,r):Gt(e,s,i,r),s.child;case 11:return i=s.type,o=s.pendingProps,o=s.elementType===i?o:Os(i,o),mx(e,s,i,o,r);case 7:return Gt(e,s,s.pendingProps,r),s.child;case 8:return Gt(e,s,s.pendingProps.children,r),s.child;case 12:return Gt(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(i=s.type._context,o=s.pendingProps,a=s.memoizedProps,c=o.value,Ye(Nc,i._currentValue),i._currentValue=c,a!==null)if(Ws(a.value,c)){if(a.children===o.children&&!is.current){s=Sr(e,s,r);break e}}else for(a=s.child,a!==null&&(a.return=s);a!==null;){var u=a.dependencies;if(u!==null){c=a.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(a.tag===1){h=wr(-1,r&-r),h.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}}a.lanes|=r,h=a.alternate,h!==null&&(h.lanes|=r),uh(a.return,r,s),u.lanes|=r;break}h=h.next}}else if(a.tag===10)c=a.type===s.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(he(341));c.lanes|=r,u=c.alternate,u!==null&&(u.lanes|=r),uh(c,r,s),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===s){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}Gt(e,s,o.children,r),s=s.child}return s;case 9:return o=s.type,i=s.pendingProps.children,Ii(s,r),o=Ls(o),i=i(o),s.flags|=1,Gt(e,s,i,r),s.child;case 14:return i=s.type,o=Os(i,s.pendingProps),o=Os(i.type,o),fx(e,s,i,o,r);case 15:return Ny(e,s,s.type,s.pendingProps,r);case 17:return i=s.type,o=s.pendingProps,o=s.elementType===i?o:Os(i,o),tc(e,s),s.tag=1,as(i)?(e=!0,bc(s)):e=!1,Ii(s,r),by(s,i,o),mh(s,i,o,r),xh(null,s,i,!0,e,r);case 19:return Ly(e,s,r);case 22:return ky(e,s,r)}throw Error(he(156,s.tag))};function Zy(e,s){return y0(e,s)}function Xj(e,s,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(e,s,r,i){return new Xj(e,s,r,i)}function Ym(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e1(e){if(typeof e=="function")return Ym(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===gm)return 14}return 2}function dn(e,s){var r=e.alternate;return r===null?(r=Ss(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nc(e,s,r,i,o,a){var c=2;if(i=e,typeof e=="function")Ym(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case bi:return Vn(r.children,o,a,s);case pm:c=8,o|=8;break;case Iu:return e=Ss(12,r,s,o|2),e.elementType=Iu,e.lanes=a,e;case Fu:return e=Ss(13,r,s,o),e.elementType=Fu,e.lanes=a,e;case Du:return e=Ss(19,r,s,o),e.elementType=Du,e.lanes=a,e;case t0:return Xc(r,o,a,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xg:c=10;break e;case e0:c=9;break e;case xm:c=11;break e;case gm:c=14;break e;case Ir:c=16,i=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return s=Ss(c,r,s,o),s.elementType=e,s.type=i,s.lanes=a,s}function Vn(e,s,r,i){return e=Ss(7,e,i,s),e.lanes=r,e}function Xc(e,s,r,i){return e=Ss(22,e,i,s),e.elementType=t0,e.lanes=r,e.stateNode={isHidden:!1},e}function pu(e,s,r){return e=Ss(6,e,null,s),e.lanes=r,e}function xu(e,s,r){return s=Ss(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function t1(e,s,r,i,o){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jm(e,s,r,i,o,a,c,u,h){return e=new t1(e,s,r,u,h),s===1?(s=1,a===!0&&(s|=8)):s=0,a=Ss(3,null,null,s),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(a),e}function s1(e,s,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:i==null?null:""+i,children:e,containerInfo:s,implementation:r}}function qy(e){if(!e)return xn;e=e._reactInternals;e:{if(ai(e)!==e||e.tag!==1)throw Error(he(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(as(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(as(r))return q0(e,r,s)}return s}function Vy(e,s,r,i,o,a,c,u,h){return e=Jm(r,i,!0,e,o,a,c,u,h),e.context=qy(null),r=e.current,i=Kt(),o=cn(r),a=wr(i,o),a.callback=s??null,on(r,a,o),e.current.lanes=o,qo(e,o,i),os(e,i),e}function ed(e,s,r,i){var o=s.current,a=Kt(),c=cn(o);return r=qy(r),s.context===null?s.context=r:s.pendingContext=r,s=wr(a,c),s.payload={element:e},i=i===void 0?null:i,i!==null&&(s.callback=i),e=on(o,s,c),e!==null&&(Hs(e,o,c,a),Jl(e,o,c)),c}function zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cx(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function Xm(e,s){Cx(e,s),(e=e.alternate)&&Cx(e,s)}function r1(){return null}var Gy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ef(e){this._internalRoot=e}td.prototype.render=ef.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(he(409));ed(e,s,null,null)};td.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;ei(function(){ed(null,e,null,null)}),s[kr]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var s=k0();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Br.length&&s!==0&&s<Br[r].priority;r++);Br.splice(r,0,e),r===0&&S0(e)}};function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function n1(e,s,r,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var f=zc(c);a.call(f)}}var c=Vy(s,i,e,0,null,!1,!1,"",Sx);return e._reactRootContainer=c,e[kr]=c.current,jo(e.nodeType===8?e.parentNode:e),ei(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var u=i;i=function(){var f=zc(h);u.call(f)}}var h=Jm(e,0,!1,null,null,!1,!1,"",Sx);return e._reactRootContainer=h,e[kr]=h.current,jo(e.nodeType===8?e.parentNode:e),ei(function(){ed(s,h,r,i)}),h}function rd(e,s,r,i,o){var a=r._reactRootContainer;if(a){var c=a;if(typeof o=="function"){var u=o;o=function(){var h=zc(c);u.call(h)}}ed(s,c,e,o)}else c=n1(r,s,e,o,i);return zc(c)}j0=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=eo(s.pendingLanes);r!==0&&(_m(s,r|1),os(s,xt()),!(He&6)&&(aa=xt()+500,vn()))}break;case 13:ei(function(){var i=Cr(e,1);if(i!==null){var o=Kt();Hs(i,e,1,o)}}),Xm(e,1)}};bm=function(e){if(e.tag===13){var s=Cr(e,134217728);if(s!==null){var r=Kt();Hs(s,e,134217728,r)}Xm(e,134217728)}};N0=function(e){if(e.tag===13){var s=cn(e),r=Cr(e,s);if(r!==null){var i=Kt();Hs(r,e,s,i)}Xm(e,s)}};k0=function(){return Ge};C0=function(e,s){var r=Ge;try{return Ge=e,s()}finally{Ge=r}};Qu=function(e,s,r){switch(s){case"input":if($u(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var i=r[s];if(i!==e&&i.form===e.form){var o=Vc(i);if(!o)throw Error(he(90));r0(i),$u(i,o)}}}break;case"textarea":i0(e,r);break;case"select":s=r.value,s!=null&&Ri(e,!!r.multiple,s,!1)}};h0=Gm;m0=ei;var i1={usingClientEntryPoint:!1,Events:[Go,ki,Vc,d0,u0,Gm]},Va={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a1={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x0(e),e===null?null:e.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||r1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Hc=Hl.inject(a1),nr=Hl}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;ps.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(s))throw Error(he(200));return s1(e,s,null,r)};ps.createRoot=function(e,s){if(!tf(e))throw Error(he(299));var r=!1,i="",o=Gy;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),s=Jm(e,1,!1,null,null,r,!1,i,o),e[kr]=s.current,jo(e.nodeType===8?e.parentNode:e),new ef(s)};ps.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=x0(s),e=e===null?null:e.stateNode,e};ps.flushSync=function(e){return ei(e)};ps.hydrate=function(e,s,r){if(!sd(s))throw Error(he(200));return rd(null,e,s,!0,r)};ps.hydrateRoot=function(e,s,r){if(!tf(e))throw Error(he(405));var i=r!=null&&r.hydratedSources||null,o=!1,a="",c=Gy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),s=Vy(s,null,e,1,r??null,o,!1,a,c),e[kr]=s.current,jo(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,o]:s.mutableSourceEagerHydrationData.push(r,o);return new td(s)};ps.render=function(e,s,r){if(!sd(s))throw Error(he(200));return rd(null,e,s,!1,r)};ps.unmountComponentAtNode=function(e){if(!sd(e))throw Error(he(40));return e._reactRootContainer?(ei(function(){rd(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};ps.unstable_batchedUpdates=Gm;ps.unstable_renderSubtreeIntoContainer=function(e,s,r,i){if(!sd(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return rd(e,s,r,!1,i)};ps.version="18.3.1-next-f1338f8080-20240426";function Qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qy)}catch(e){console.error(e)}}Qy(),Qg.exports=ps;var Ky=Qg.exports,Yy,Px=Ky;Yy=Px.createRoot,Px.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},To.apply(this,arguments)}var en;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(en||(en={}));const Lx="popstate";function o1(e){e===void 0&&(e={});function s(i,o){let{pathname:a,search:c,hash:u}=i.location;return Ph("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Oc(o)}return c1(s,r,null,e)}function gt(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Jy(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function l1(){return Math.random().toString(36).substr(2,8)}function Ex(e,s){return{usr:e.state,key:e.key,idx:s}}function Ph(e,s,r,i){return r===void 0&&(r=null),To({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?fa(s):s,{state:r,key:s&&s.key||i||l1()})}function Oc(e){let{pathname:s="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function fa(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(s.search=e.substr(i),e=e.substr(0,i)),e&&(s.pathname=e)}return s}function c1(e,s,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,u=en.Pop,h=null,f=x();f==null&&(f=0,c.replaceState(To({},c.state,{idx:f}),""));function x(){return(c.state||{idx:null}).idx}function p(){u=en.Pop;let w=x(),b=w==null?null:w-f;f=w,h&&h({action:u,location:N.location,delta:b})}function g(w,b){u=en.Push;let v=Ph(N.location,w,b);f=x()+1;let k=Ex(v,f),E=N.createHref(v);try{c.pushState(k,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(E)}a&&h&&h({action:u,location:N.location,delta:1})}function _(w,b){u=en.Replace;let v=Ph(N.location,w,b);f=x();let k=Ex(v,f),E=N.createHref(v);c.replaceState(k,"",E),a&&h&&h({action:u,location:N.location,delta:0})}function j(w){let b=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof w=="string"?w:Oc(w);return v=v.replace(/ $/,"%20"),gt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let N={get action(){return u},get location(){return e(o,c)},listen(w){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Lx,p),h=w,()=>{o.removeEventListener(Lx,p),h=null}},createHref(w){return s(o,w)},createURL:j,encodeLocation(w){let b=j(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:_,go(w){return c.go(w)}};return N}var Mx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mx||(Mx={}));function d1(e,s,r){return r===void 0&&(r="/"),u1(e,s,r)}function u1(e,s,r,i){let o=typeof s=="string"?fa(s):s,a=sf(o.pathname||"/",r);if(a==null)return null;let c=Xy(e);h1(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=N1(a);u=b1(c[h],f)}return u}function Xy(e,s,r,i){s===void 0&&(s=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(a,c,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(gt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=un([i,h.relativePath]),x=r.concat(h);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Xy(a.children,s,x,f)),!(a.path==null&&!a.index)&&s.push({path:f,score:v1(f,a.index),routesMeta:x})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,c);else for(let h of ev(a.path))o(a,c,h)}),s}function ev(e){let s=e.split("/");if(s.length===0)return[];let[r,...i]=s,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=ev(i.join("/")),u=[];return u.push(...c.map(h=>h===""?a:[a,h].join("/"))),o&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function h1(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:_1(s.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const m1=/^:[\w-]+$/,f1=3,p1=2,x1=1,g1=10,y1=-2,Tx=e=>e==="*";function v1(e,s){let r=e.split("/"),i=r.length;return r.some(Tx)&&(i+=y1),s&&(i+=p1),r.filter(o=>!Tx(o)).reduce((o,a)=>o+(m1.test(a)?f1:a===""?x1:g1),i)}function _1(e,s){return e.length===s.length&&e.slice(0,-1).every((i,o)=>i===s[o])?e[e.length-1]-s[s.length-1]:0}function b1(e,s,r){let{routesMeta:i}=e,o={},a="/",c=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,x=a==="/"?s:s.slice(a.length)||"/",p=w1({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},x),g=h.route;if(!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:un([a,p.pathname]),pathnameBase:P1(un([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=un([a,p.pathnameBase]))}return c}function w1(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=j1(e.path,e.caseSensitive,e.end),o=s.match(r);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((f,x,p)=>{let{paramName:g,isOptional:_}=x;if(g==="*"){let N=u[p]||"";c=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const j=u[p];return _&&!j?f[g]=void 0:f[g]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:e}}function j1(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Jy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),i]}function N1(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Jy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function sf(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function k1(e,s){s===void 0&&(s="/");let{pathname:r,search:i="",hash:o=""}=typeof e=="string"?fa(e):e;return{pathname:r?r.startsWith("/")?r:C1(r,s):s,search:L1(i),hash:E1(o)}}function C1(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function gu(e,s,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function rf(e,s){let r=S1(e);return s?r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function nf(e,s,r,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=fa(e):(o=To({},e),gt(!o.pathname||!o.pathname.includes("?"),gu("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),gu("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),gu("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,u;if(c==null)u=r;else{let p=s.length-1;if(!i&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),p-=1;o.pathname=g.join("/")}u=p>=0?s[p]:"/"}let h=k1(o,u),f=c&&c!=="/"&&c.endsWith("/"),x=(a||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||x)&&(h.pathname+="/"),h}const un=e=>e.join("/").replace(/\/\/+/g,"/"),P1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,E1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tv=["post","put","patch","delete"];new Set(tv);const T1=["get",...tv];new Set(T1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ro.apply(this,arguments)}const af=C.createContext(null),R1=C.createContext(null),_n=C.createContext(null),nd=C.createContext(null),Lr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),sv=C.createContext(null);function z1(e,s){let{relative:r}=s===void 0?{}:s;pa()||gt(!1);let{basename:i,navigator:o}=C.useContext(_n),{hash:a,pathname:c,search:u}=nv(e,{relative:r}),h=c;return i!=="/"&&(h=c==="/"?i:un([i,c])),o.createHref({pathname:h,search:u,hash:a})}function pa(){return C.useContext(nd)!=null}function Zs(){return pa()||gt(!1),C.useContext(nd).location}function rv(e){C.useContext(_n).static||C.useLayoutEffect(e)}function ut(){let{isDataRoute:e}=C.useContext(Lr);return e?V1():O1()}function O1(){pa()||gt(!1);let e=C.useContext(af),{basename:s,future:r,navigator:i}=C.useContext(_n),{matches:o}=C.useContext(Lr),{pathname:a}=Zs(),c=JSON.stringify(rf(o,r.v7_relativeSplatPath)),u=C.useRef(!1);return rv(()=>{u.current=!0}),C.useCallback(function(f,x){if(x===void 0&&(x={}),!u.current)return;if(typeof f=="number"){i.go(f);return}let p=nf(f,JSON.parse(c),a,x.relative==="path");e==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:un([s,p.pathname])),(x.replace?i.replace:i.push)(p,x.state,x)},[s,i,c,a,e])}function oi(){let{matches:e}=C.useContext(Lr),s=e[e.length-1];return s?s.params:{}}function nv(e,s){let{relative:r}=s===void 0?{}:s,{future:i}=C.useContext(_n),{matches:o}=C.useContext(Lr),{pathname:a}=Zs(),c=JSON.stringify(rf(o,i.v7_relativeSplatPath));return C.useMemo(()=>nf(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function A1(e,s){return I1(e,s)}function I1(e,s,r,i){pa()||gt(!1);let{navigator:o}=C.useContext(_n),{matches:a}=C.useContext(Lr),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=Zs(),x;if(s){var p;let w=typeof s=="string"?fa(s):s;h==="/"||(p=w.pathname)!=null&&p.startsWith(h)||gt(!1),x=w}else x=f;let g=x.pathname||"/",_=g;if(h!=="/"){let w=h.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=d1(e,{pathname:_}),N=$1(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:un([h,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:un([h,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,i);return s&&N?C.createElement(nd.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:en.Pop}},N):N}function F1(){let e=q1(),s=M1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},s),r?C.createElement("pre",{style:o},r):null,null)}const D1=C.createElement(F1,null);class B1 extends C.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?C.createElement(Lr.Provider,{value:this.props.routeContext},C.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U1(e){let{routeContext:s,match:r,children:i}=e,o=C.useContext(af);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Lr.Provider,{value:s},i)}function $1(e,s,r,i){var o;if(s===void 0&&(s=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=i)!=null&&a.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let x=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);x>=0||gt(!1),c=c.slice(0,Math.min(c.length,x+1))}let h=!1,f=-1;if(r&&i&&i.v7_partialHydration)for(let x=0;x<c.length;x++){let p=c[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=x),p.route.id){let{loaderData:g,errors:_}=r,j=p.route.loader&&g[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||j){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((x,p,g)=>{let _,j=!1,N=null,w=null;r&&(_=u&&p.route.id?u[p.route.id]:void 0,N=p.route.errorElement||D1,h&&(f<0&&g===0?(G1("route-fallback"),j=!0,w=null):f===g&&(j=!0,w=p.route.hydrateFallbackElement||null)));let b=s.concat(c.slice(0,g+1)),v=()=>{let k;return _?k=N:j?k=w:p.route.Component?k=C.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=x,C.createElement(U1,{match:p,routeContext:{outlet:x,matches:b,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(B1,{location:r.location,revalidation:r.revalidation,component:N,error:_,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var iv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iv||{}),av=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(av||{});function H1(e){let s=C.useContext(af);return s||gt(!1),s}function W1(e){let s=C.useContext(R1);return s||gt(!1),s}function Z1(e){let s=C.useContext(Lr);return s||gt(!1),s}function ov(e){let s=Z1(),r=s.matches[s.matches.length-1];return r.route.id||gt(!1),r.route.id}function q1(){var e;let s=C.useContext(sv),r=W1(),i=ov();return s!==void 0?s:(e=r.errors)==null?void 0:e[i]}function V1(){let{router:e}=H1(iv.UseNavigateStable),s=ov(av.UseNavigateStable),r=C.useRef(!1);return rv(()=>{r.current=!0}),C.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ro({fromRouteId:s},a)))},[e,s])}const Rx={};function G1(e,s,r){Rx[e]||(Rx[e]=!0)}function Q1(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function K1(e){let{to:s,replace:r,state:i,relative:o}=e;pa()||gt(!1);let{future:a,static:c}=C.useContext(_n),{matches:u}=C.useContext(Lr),{pathname:h}=Zs(),f=ut(),x=nf(s,rf(u,a.v7_relativeSplatPath),h,o==="path"),p=JSON.stringify(x);return C.useEffect(()=>f(JSON.parse(p),{replace:r,state:i,relative:o}),[f,p,o,r,i]),null}function et(e){gt(!1)}function Y1(e){let{basename:s="/",children:r=null,location:i,navigationType:o=en.Pop,navigator:a,static:c=!1,future:u}=e;pa()&&gt(!1);let h=s.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:h,navigator:a,static:c,future:Ro({v7_relativeSplatPath:!1},u)}),[h,u,a,c]);typeof i=="string"&&(i=fa(i));let{pathname:x="/",search:p="",hash:g="",state:_=null,key:j="default"}=i,N=C.useMemo(()=>{let w=sf(x,h);return w==null?null:{location:{pathname:w,search:p,hash:g,state:_,key:j},navigationType:o}},[h,x,p,g,_,j,o]);return N==null?null:C.createElement(_n.Provider,{value:f},C.createElement(nd.Provider,{children:r,value:N}))}function J1(e){let{children:s,location:r}=e;return A1(Lh(s),r)}new Promise(()=>{});function Lh(e,s){s===void 0&&(s=[]);let r=[];return C.Children.forEach(e,(i,o)=>{if(!C.isValidElement(i))return;let a=[...s,o];if(i.type===C.Fragment){r.push.apply(r,Lh(i.props.children,a));return}i.type!==et&&gt(!1),!i.props.index||!i.props.children||gt(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Lh(i.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Eh.apply(this,arguments)}function X1(e,s){if(e==null)return{};var r={},i=Object.keys(e),o,a;for(a=0;a<i.length;a++)o=i[a],!(s.indexOf(o)>=0)&&(r[o]=e[o]);return r}function eN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tN(e,s){return e.button===0&&(!s||s==="_self")&&!eN(e)}function Mh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let i=e[r];return s.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function sN(e,s){let r=Mh(e);return s&&s.forEach((i,o)=>{r.has(o)||s.getAll(o).forEach(a=>{r.append(o,a)})}),r}const rN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nN="6";try{window.__reactRouterVersion=nN}catch{}const iN="startTransition",zx=Kb[iN];function aN(e){let{basename:s,children:r,future:i,window:o}=e,a=C.useRef();a.current==null&&(a.current=o1({window:o,v5Compat:!0}));let c=a.current,[u,h]=C.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},x=C.useCallback(p=>{f&&zx?zx(()=>h(p)):h(p)},[h,f]);return C.useLayoutEffect(()=>c.listen(x),[c,x]),C.useEffect(()=>Q1(i),[i]),C.createElement(Y1,{basename:s,children:r,location:u.location,navigationType:u.action,navigator:c,future:i})}const oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=C.forwardRef(function(s,r){let{onClick:i,relative:o,reloadDocument:a,replace:c,state:u,target:h,to:f,preventScrollReset:x,viewTransition:p}=s,g=X1(s,rN),{basename:_}=C.useContext(_n),j,N=!1;if(typeof f=="string"&&lN.test(f)&&(j=f,oN))try{let k=new URL(window.location.href),E=f.startsWith("//")?new URL(k.protocol+f):new URL(f),M=sf(E.pathname,_);E.origin===k.origin&&M!=null?f=M+E.search+E.hash:N=!0}catch{}let w=z1(f,{relative:o}),b=cN(f,{replace:c,state:u,target:h,preventScrollReset:x,relative:o,viewTransition:p});function v(k){i&&i(k),k.defaultPrevented||b(k)}return C.createElement("a",Eh({},g,{href:j||w,onClick:N||a?i:v,ref:r,target:h}))});var Ox;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ox||(Ox={}));var Ax;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ax||(Ax={}));function cN(e,s){let{target:r,replace:i,state:o,preventScrollReset:a,relative:c,viewTransition:u}=s===void 0?{}:s,h=ut(),f=Zs(),x=nv(e,{relative:c});return C.useCallback(p=>{if(tN(p,r)){p.preventDefault();let g=i!==void 0?i:Oc(f)===Oc(x);h(e,{replace:g,state:o,preventScrollReset:a,relative:c,viewTransition:u})}},[f,h,x,i,o,r,e,a,c,u])}function gs(e){let s=C.useRef(Mh(e)),r=C.useRef(!1),i=Zs(),o=C.useMemo(()=>sN(i.search,r.current?null:s.current),[i.search]),a=ut(),c=C.useCallback((u,h)=>{const f=Mh(typeof u=="function"?u(o):u);r.current=!0,a("?"+f,h)},[a,o]);return[o,c]}var xa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dN={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Hr,om,Cg,uN=(Cg=class{constructor(){Ce(this,Hr,dN);Ce(this,om,!1)}setTimeoutProvider(e){_e(this,Hr,e)}setTimeout(e,s){return z(this,Hr).setTimeout(e,s)}clearTimeout(e){z(this,Hr).clearTimeout(e)}setInterval(e,s){return z(this,Hr).setInterval(e,s)}clearInterval(e){z(this,Hr).clearInterval(e)}},Hr=new WeakMap,om=new WeakMap,Cg),Rn=new uN;function hN(e){setTimeout(e,0)}var ti=typeof window>"u"||"Deno"in globalThis;function Qt(){}function mN(e,s){return typeof e=="function"?e(s):e}function Th(e){return typeof e=="number"&&e>=0&&e!==1/0}function lv(e,s){return Math.max(e+(s||0)-Date.now(),0)}function hn(e,s){return typeof e=="function"?e(s):e}function Ns(e,s){return typeof e=="function"?e(s):e}function Ix(e,s){const{type:r="all",exact:i,fetchStatus:o,predicate:a,queryKey:c,stale:u}=e;if(c){if(i){if(s.queryHash!==of(c,s.options))return!1}else if(!zo(s.queryKey,c))return!1}if(r!=="all"){const h=s.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&s.isStale()!==u||o&&o!==s.state.fetchStatus||a&&!a(s))}function Fx(e,s){const{exact:r,status:i,predicate:o,mutationKey:a}=e;if(a){if(!s.options.mutationKey)return!1;if(r){if(si(s.options.mutationKey)!==si(a))return!1}else if(!zo(s.options.mutationKey,a))return!1}return!(i&&s.state.status!==i||o&&!o(s))}function of(e,s){return((s==null?void 0:s.queryKeyHashFn)||si)(e)}function si(e){return JSON.stringify(e,(s,r)=>Rh(r)?Object.keys(r).sort().reduce((i,o)=>(i[o]=r[o],i),{}):r)}function zo(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>zo(e[r],s[r])):!1}var fN=Object.prototype.hasOwnProperty;function cv(e,s){if(e===s)return e;const r=Dx(e)&&Dx(s);if(!r&&!(Rh(e)&&Rh(s)))return s;const o=(r?e:Object.keys(e)).length,a=r?s:Object.keys(s),c=a.length,u=r?new Array(c):{};let h=0;for(let f=0;f<c;f++){const x=r?f:a[f],p=e[x],g=s[x];if(p===g){u[x]=p,(r?f<o:fN.call(e,x))&&h++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){u[x]=g;continue}const _=cv(p,g);u[x]=_,_===p&&h++}return o===c&&h===o?e:u}function Ac(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function Dx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rh(e){if(!Bx(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Bx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Bx(e){return Object.prototype.toString.call(e)==="[object Object]"}function pN(e){return new Promise(s=>{Rn.setTimeout(s,e)})}function zh(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?cv(e,s):s}function xN(e,s,r=0){const i=[...e,s];return r&&i.length>r?i.slice(1):i}function gN(e,s,r=0){const i=[s,...e];return r&&i.length>r?i.slice(0,-1):i}var lf=Symbol();function dv(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===lf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uv(e,s){return typeof e=="function"?e(...s):!!e}var In,Wr,$i,Sg,yN=(Sg=class extends xa{constructor(){super();Ce(this,In);Ce(this,Wr);Ce(this,$i);_e(this,$i,s=>{if(!ti&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Wr)||this.setEventListener(z(this,$i))}onUnsubscribe(){var s;this.hasListeners()||((s=z(this,Wr))==null||s.call(this),_e(this,Wr,void 0))}setEventListener(s){var r;_e(this,$i,s),(r=z(this,Wr))==null||r.call(this),_e(this,Wr,s(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(s){z(this,In)!==s&&(_e(this,In,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof z(this,In)=="boolean"?z(this,In):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},In=new WeakMap,Wr=new WeakMap,$i=new WeakMap,Sg),cf=new yN;function Oh(){let e,s;const r=new Promise((o,a)=>{e=o,s=a});r.status="pending",r.catch(()=>{});function i(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},r.reject=o=>{i({status:"rejected",reason:o}),s(o)},r}var vN=hN;function _N(){let e=[],s=0,r=u=>{u()},i=u=>{u()},o=vN;const a=u=>{s?e.push(u):o(()=>{r(u)})},c=()=>{const u=e;e=[],u.length&&o(()=>{i(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;s++;try{h=u()}finally{s--,s||c()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{i=u},setScheduler:u=>{o=u}}}var jt=_N(),Hi,Zr,Wi,Pg,bN=(Pg=class extends xa{constructor(){super();Ce(this,Hi,!0);Ce(this,Zr);Ce(this,Wi);_e(this,Wi,s=>{if(!ti&&window.addEventListener){const r=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){z(this,Zr)||this.setEventListener(z(this,Wi))}onUnsubscribe(){var s;this.hasListeners()||((s=z(this,Zr))==null||s.call(this),_e(this,Zr,void 0))}setEventListener(s){var r;_e(this,Wi,s),(r=z(this,Zr))==null||r.call(this),_e(this,Zr,s(this.setOnline.bind(this)))}setOnline(s){z(this,Hi)!==s&&(_e(this,Hi,s),this.listeners.forEach(i=>{i(s)}))}isOnline(){return z(this,Hi)}},Hi=new WeakMap,Zr=new WeakMap,Wi=new WeakMap,Pg),Ic=new bN;function wN(e){return Math.min(1e3*2**e,3e4)}function hv(e){return(e??"online")==="online"?Ic.isOnline():!0}var Ah=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mv(e){let s=!1,r=0,i;const o=Oh(),a=()=>o.status!=="pending",c=N=>{var w;if(!a()){const b=new Ah(N);g(b),(w=e.onCancel)==null||w.call(e,b)}},u=()=>{s=!0},h=()=>{s=!1},f=()=>cf.isFocused()&&(e.networkMode==="always"||Ic.isOnline())&&e.canRun(),x=()=>hv(e.networkMode)&&e.canRun(),p=N=>{a()||(i==null||i(),o.resolve(N))},g=N=>{a()||(i==null||i(),o.reject(N))},_=()=>new Promise(N=>{var w;i=b=>{(a()||f())&&N(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var N;i=void 0,a()||(N=e.onContinue)==null||N.call(e)}),j=()=>{if(a())return;let N;const w=r===0?e.initialPromise:void 0;try{N=w??e.fn()}catch(b){N=Promise.reject(b)}Promise.resolve(N).then(p).catch(b=>{var A;if(a())return;const v=e.retry??(ti?0:3),k=e.retryDelay??wN,E=typeof k=="function"?k(r,b):k,M=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(s||!M){g(b);return}r++,(A=e.onFail)==null||A.call(e,r,b),pN(E).then(()=>f()?void 0:_()).then(()=>{s?g(b):j()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(i==null||i(),o),cancelRetry:u,continueRetry:h,canStart:x,start:()=>(x()?j():_().then(j),o)}}var Fn,Lg,fv=(Lg=class{constructor(){Ce(this,Fn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Th(this.gcTime)&&_e(this,Fn,Rn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ti?1/0:5*60*1e3))}clearGcTimeout(){z(this,Fn)&&(Rn.clearTimeout(z(this,Fn)),_e(this,Fn,void 0))}},Fn=new WeakMap,Lg),Dn,Zi,js,Bn,Pt,Bo,Un,As,hr,Eg,jN=(Eg=class extends fv{constructor(s){super();Ce(this,As);Ce(this,Dn);Ce(this,Zi);Ce(this,js);Ce(this,Bn);Ce(this,Pt);Ce(this,Bo);Ce(this,Un);_e(this,Un,!1),_e(this,Bo,s.defaultOptions),this.setOptions(s.options),this.observers=[],_e(this,Bn,s.client),_e(this,js,z(this,Bn).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,_e(this,Dn,$x(this.options)),this.state=s.state??z(this,Dn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=z(this,Pt))==null?void 0:s.promise}setOptions(s){if(this.options={...z(this,Bo),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$x(this.options);r.data!==void 0&&(this.setState(Ux(r.data,r.dataUpdatedAt)),_e(this,Dn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,js).remove(this)}setData(s,r){const i=zh(this.state.data,s,this.options);return Oe(this,As,hr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(s,r){Oe(this,As,hr).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var i,o;const r=(i=z(this,Pt))==null?void 0:i.promise;return(o=z(this,Pt))==null||o.cancel(s),r?r.then(Qt).catch(Qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Dn))}isActive(){return this.observers.some(s=>Ns(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>hn(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!lv(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(i=>i.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}onOnline(){var r;const s=this.observers.find(i=>i.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),z(this,js).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(z(this,Pt)&&(z(this,Un)?z(this,Pt).cancel({revert:!0}):z(this,Pt).cancelRetry()),this.scheduleGc()),z(this,js).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,As,hr).call(this,{type:"invalidate"})}async fetch(s,r){var h,f,x,p,g,_,j,N,w,b,v,k;if(this.state.fetchStatus!=="idle"&&((h=z(this,Pt))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Pt))return z(this,Pt).continueRetry(),z(this,Pt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const E=this.observers.find(M=>M.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,o=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(_e(this,Un,!0),i.signal)})},a=()=>{const E=dv(this.options,r),A=(()=>{const W={client:z(this,Bn),queryKey:this.queryKey,meta:this.meta};return o(W),W})();return _e(this,Un,!1),this.options.persister?this.options.persister(E,A,this):E(A)},u=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Bn),state:this.state,fetchFn:a};return o(E),E})();(f=this.options.behavior)==null||f.onFetch(u,this),_e(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=u.fetchOptions)==null?void 0:x.meta))&&Oe(this,As,hr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),_e(this,Pt,mv({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:E=>{E instanceof Ah&&E.revert&&this.setState({...z(this,Zi),fetchStatus:"idle"}),i.abort()},onFail:(E,M)=>{Oe(this,As,hr).call(this,{type:"failed",failureCount:E,error:M})},onPause:()=>{Oe(this,As,hr).call(this,{type:"pause"})},onContinue:()=>{Oe(this,As,hr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const E=await z(this,Pt).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(_=(g=z(this,js).config).onSuccess)==null||_.call(g,E,this),(N=(j=z(this,js).config).onSettled)==null||N.call(j,E,this.state.error,this),E}catch(E){if(E instanceof Ah){if(E.silent)return z(this,Pt).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Oe(this,As,hr).call(this,{type:"error",error:E}),(b=(w=z(this,js).config).onError)==null||b.call(w,E,this),(k=(v=z(this,js).config).onSettled)==null||k.call(v,this.state.data,E,this),E}finally{this.scheduleGc()}}},Dn=new WeakMap,Zi=new WeakMap,js=new WeakMap,Bn=new WeakMap,Pt=new WeakMap,Bo=new WeakMap,Un=new WeakMap,As=new WeakSet,hr=function(s){const r=i=>{switch(s.type){case"failed":return{...i,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...pv(i.data,this.options),fetchMeta:s.meta??null};case"success":const o={...i,...Ux(s.data,s.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _e(this,Zi,s.manual?o:void 0),o;case"error":const a=s.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...s.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,js).notify({query:this,type:"updated",action:s})})},Eg);function pv(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hv(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ux(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $x(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var es,De,Uo,qt,$n,qi,pr,qr,$o,Vi,Gi,Hn,Wn,Vr,Qi,qe,so,Ih,Fh,Dh,Bh,Uh,$h,Hh,xv,Mg,NN=(Mg=class extends xa{constructor(s,r){super();Ce(this,qe);Ce(this,es);Ce(this,De);Ce(this,Uo);Ce(this,qt);Ce(this,$n);Ce(this,qi);Ce(this,pr);Ce(this,qr);Ce(this,$o);Ce(this,Vi);Ce(this,Gi);Ce(this,Hn);Ce(this,Wn);Ce(this,Vr);Ce(this,Qi,new Set);this.options=r,_e(this,es,s),_e(this,qr,null),_e(this,pr,Oh()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,De).addObserver(this),Hx(z(this,De),this.options)?Oe(this,qe,so).call(this):this.updateResult(),Oe(this,qe,Bh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wh(z(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wh(z(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,qe,Uh).call(this),Oe(this,qe,$h).call(this),z(this,De).removeObserver(this)}setOptions(s){const r=this.options,i=z(this,De);if(this.options=z(this,es).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ns(this.options.enabled,z(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,qe,Hh).call(this),z(this,De).setOptions(this.options),r._defaulted&&!Ac(this.options,r)&&z(this,es).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,De),observer:this});const o=this.hasListeners();o&&Wx(z(this,De),i,this.options,r)&&Oe(this,qe,so).call(this),this.updateResult(),o&&(z(this,De)!==i||Ns(this.options.enabled,z(this,De))!==Ns(r.enabled,z(this,De))||hn(this.options.staleTime,z(this,De))!==hn(r.staleTime,z(this,De)))&&Oe(this,qe,Ih).call(this);const a=Oe(this,qe,Fh).call(this);o&&(z(this,De)!==i||Ns(this.options.enabled,z(this,De))!==Ns(r.enabled,z(this,De))||a!==z(this,Vr))&&Oe(this,qe,Dh).call(this,a)}getOptimisticResult(s){const r=z(this,es).getQueryCache().build(z(this,es),s),i=this.createResult(r,s);return CN(this,i)&&(_e(this,qt,i),_e(this,qi,this.options),_e(this,$n,z(this,De).state)),i}getCurrentResult(){return z(this,qt)}trackResult(s,r){return new Proxy(s,{get:(i,o)=>(this.trackProp(o),r==null||r(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,pr).status==="pending"&&z(this,pr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,o))})}trackProp(s){z(this,Qi).add(s)}getCurrentQuery(){return z(this,De)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=z(this,es).defaultQueryOptions(s),i=z(this,es).getQueryCache().build(z(this,es),r);return i.fetch().then(()=>this.createResult(i,r))}fetch(s){return Oe(this,qe,so).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,qt)))}createResult(s,r){var T;const i=z(this,De),o=this.options,a=z(this,qt),c=z(this,$n),u=z(this,qi),f=s!==i?s.state:z(this,Uo),{state:x}=s;let p={...x},g=!1,_;if(r._optimisticResults){const Z=this.hasListeners(),I=!Z&&Hx(s,r),P=Z&&Wx(s,i,r,o);(I||P)&&(p={...p,...pv(x.data,s.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:j,errorUpdatedAt:N,status:w}=p;_=p.data;let b=!1;if(r.placeholderData!==void 0&&_===void 0&&w==="pending"){let Z;a!=null&&a.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(Z=a.data,b=!0):Z=typeof r.placeholderData=="function"?r.placeholderData((T=z(this,Gi))==null?void 0:T.state.data,z(this,Gi)):r.placeholderData,Z!==void 0&&(w="success",_=zh(a==null?void 0:a.data,Z,r),g=!0)}if(r.select&&_!==void 0&&!b)if(a&&_===(c==null?void 0:c.data)&&r.select===z(this,$o))_=z(this,Vi);else try{_e(this,$o,r.select),_=r.select(_),_=zh(a==null?void 0:a.data,_,r),_e(this,Vi,_),_e(this,qr,null)}catch(Z){_e(this,qr,Z)}z(this,qr)&&(j=z(this,qr),_=z(this,Vi),N=Date.now(),w="error");const v=p.fetchStatus==="fetching",k=w==="pending",E=w==="error",M=k&&v,A=_!==void 0,G={status:w,fetchStatus:p.fetchStatus,isPending:k,isSuccess:w==="success",isError:E,isInitialLoading:M,isLoading:M,data:_,dataUpdatedAt:p.dataUpdatedAt,error:j,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:v,isRefetching:v&&!k,isLoadingError:E&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&A,isStale:df(s,r),refetch:this.refetch,promise:z(this,pr),isEnabled:Ns(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const Z=J=>{G.status==="error"?J.reject(G.error):G.data!==void 0&&J.resolve(G.data)},I=()=>{const J=_e(this,pr,G.promise=Oh());Z(J)},P=z(this,pr);switch(P.status){case"pending":s.queryHash===i.queryHash&&Z(P);break;case"fulfilled":(G.status==="error"||G.data!==P.value)&&I();break;case"rejected":(G.status!=="error"||G.error!==P.reason)&&I();break}}return G}updateResult(){const s=z(this,qt),r=this.createResult(z(this,De),this.options);if(_e(this,$n,z(this,De).state),_e(this,qi,this.options),z(this,$n).data!==void 0&&_e(this,Gi,z(this,De)),Ac(r,s))return;_e(this,qt,r);const i=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!z(this,Qi).size)return!0;const c=new Set(a??z(this,Qi));return this.options.throwOnError&&c.add("error"),Object.keys(z(this,qt)).some(u=>{const h=u;return z(this,qt)[h]!==s[h]&&c.has(h)})};Oe(this,qe,xv).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,qe,Bh).call(this)}},es=new WeakMap,De=new WeakMap,Uo=new WeakMap,qt=new WeakMap,$n=new WeakMap,qi=new WeakMap,pr=new WeakMap,qr=new WeakMap,$o=new WeakMap,Vi=new WeakMap,Gi=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,Vr=new WeakMap,Qi=new WeakMap,qe=new WeakSet,so=function(s){Oe(this,qe,Hh).call(this);let r=z(this,De).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Qt)),r},Ih=function(){Oe(this,qe,Uh).call(this);const s=hn(this.options.staleTime,z(this,De));if(ti||z(this,qt).isStale||!Th(s))return;const i=lv(z(this,qt).dataUpdatedAt,s)+1;_e(this,Hn,Rn.setTimeout(()=>{z(this,qt).isStale||this.updateResult()},i))},Fh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,De)):this.options.refetchInterval)??!1},Dh=function(s){Oe(this,qe,$h).call(this),_e(this,Vr,s),!(ti||Ns(this.options.enabled,z(this,De))===!1||!Th(z(this,Vr))||z(this,Vr)===0)&&_e(this,Wn,Rn.setInterval(()=>{(this.options.refetchIntervalInBackground||cf.isFocused())&&Oe(this,qe,so).call(this)},z(this,Vr)))},Bh=function(){Oe(this,qe,Ih).call(this),Oe(this,qe,Dh).call(this,Oe(this,qe,Fh).call(this))},Uh=function(){z(this,Hn)&&(Rn.clearTimeout(z(this,Hn)),_e(this,Hn,void 0))},$h=function(){z(this,Wn)&&(Rn.clearInterval(z(this,Wn)),_e(this,Wn,void 0))},Hh=function(){const s=z(this,es).getQueryCache().build(z(this,es),this.options);if(s===z(this,De))return;const r=z(this,De);_e(this,De,s),_e(this,Uo,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},xv=function(s){jt.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(z(this,qt))}),z(this,es).getQueryCache().notify({query:z(this,De),type:"observerResultsUpdated"})})},Mg);function kN(e,s){return Ns(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function Hx(e,s){return kN(e,s)||e.state.data!==void 0&&Wh(e,s,s.refetchOnMount)}function Wh(e,s,r){if(Ns(s.enabled,e)!==!1&&hn(s.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&df(e,s)}return!1}function Wx(e,s,r,i){return(e!==s||Ns(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&df(e,r)}function df(e,s){return Ns(s.enabled,e)!==!1&&e.isStaleByTime(hn(s.staleTime,e))}function CN(e,s){return!Ac(e.getCurrentResult(),s)}function Zx(e){return{onFetch:(s,r)=>{var x,p,g,_,j;const i=s.options,o=(g=(p=(x=s.fetchOptions)==null?void 0:x.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,a=((_=s.state.data)==null?void 0:_.pages)||[],c=((j=s.state.data)==null?void 0:j.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let N=!1;const w=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(s.signal.aborted?N=!0:s.signal.addEventListener("abort",()=>{N=!0}),s.signal)})},b=dv(s.options,s.fetchOptions),v=async(k,E,M)=>{if(N)return Promise.reject();if(E==null&&k.pages.length)return Promise.resolve(k);const W=(()=>{const I={client:s.client,queryKey:s.queryKey,pageParam:E,direction:M?"backward":"forward",meta:s.options.meta};return w(I),I})(),G=await b(W),{maxPages:T}=s.options,Z=M?gN:xN;return{pages:Z(k.pages,G,T),pageParams:Z(k.pageParams,E,T)}};if(o&&a.length){const k=o==="backward",E=k?SN:qx,M={pages:a,pageParams:c},A=E(i,M);u=await v(M,A,k)}else{const k=e??a.length;do{const E=h===0?c[0]??i.initialPageParam:qx(i,u);if(h>0&&E==null)break;u=await v(u,E),h++}while(h<k)}return u};s.options.persister?s.fetchFn=()=>{var N,w;return(w=(N=s.options).persister)==null?void 0:w.call(N,f,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=f}}}function qx(e,{pages:s,pageParams:r}){const i=s.length-1;return s.length>0?e.getNextPageParam(s[i],s,r[i],r):void 0}function SN(e,{pages:s,pageParams:r}){var i;return s.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,s[0],s,r[0],r):void 0}var Ho,er,Vt,Zn,tr,Ar,Tg,PN=(Tg=class extends fv{constructor(s){super();Ce(this,tr);Ce(this,Ho);Ce(this,er);Ce(this,Vt);Ce(this,Zn);_e(this,Ho,s.client),this.mutationId=s.mutationId,_e(this,Vt,s.mutationCache),_e(this,er,[]),this.state=s.state||gv(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){z(this,er).includes(s)||(z(this,er).push(s),this.clearGcTimeout(),z(this,Vt).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){_e(this,er,z(this,er).filter(r=>r!==s)),this.scheduleGc(),z(this,Vt).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){z(this,er).length||(this.state.status==="pending"?this.scheduleGc():z(this,Vt).remove(this))}continue(){var s;return((s=z(this,Zn))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var c,u,h,f,x,p,g,_,j,N,w,b,v,k,E,M,A,W,G,T;const r=()=>{Oe(this,tr,Ar).call(this,{type:"continue"})},i={client:z(this,Ho),meta:this.options.meta,mutationKey:this.options.mutationKey};_e(this,Zn,mv({fn:()=>this.options.mutationFn?this.options.mutationFn(s,i):Promise.reject(new Error("No mutationFn found")),onFail:(Z,I)=>{Oe(this,tr,Ar).call(this,{type:"failed",failureCount:Z,error:I})},onPause:()=>{Oe(this,tr,Ar).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Vt).canRun(this)}));const o=this.state.status==="pending",a=!z(this,Zn).canStart();try{if(o)r();else{Oe(this,tr,Ar).call(this,{type:"pending",variables:s,isPaused:a}),await((u=(c=z(this,Vt).config).onMutate)==null?void 0:u.call(c,s,this,i));const I=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,s,i));I!==this.state.context&&Oe(this,tr,Ar).call(this,{type:"pending",context:I,variables:s,isPaused:a})}const Z=await z(this,Zn).start();return await((p=(x=z(this,Vt).config).onSuccess)==null?void 0:p.call(x,Z,s,this.state.context,this,i)),await((_=(g=this.options).onSuccess)==null?void 0:_.call(g,Z,s,this.state.context,i)),await((N=(j=z(this,Vt).config).onSettled)==null?void 0:N.call(j,Z,null,this.state.variables,this.state.context,this,i)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,Z,null,s,this.state.context,i)),Oe(this,tr,Ar).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((k=(v=z(this,Vt).config).onError)==null?void 0:k.call(v,Z,s,this.state.context,this,i)),await((M=(E=this.options).onError)==null?void 0:M.call(E,Z,s,this.state.context,i)),await((W=(A=z(this,Vt).config).onSettled)==null?void 0:W.call(A,void 0,Z,this.state.variables,this.state.context,this,i)),await((T=(G=this.options).onSettled)==null?void 0:T.call(G,void 0,Z,s,this.state.context,i)),Z}finally{Oe(this,tr,Ar).call(this,{type:"error",error:Z})}}finally{z(this,Vt).runNext(this)}}},Ho=new WeakMap,er=new WeakMap,Vt=new WeakMap,Zn=new WeakMap,tr=new WeakSet,Ar=function(s){const r=i=>{switch(s.type){case"failed":return{...i,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...i,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:s.error,failureCount:i.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{z(this,er).forEach(i=>{i.onMutationUpdate(s)}),z(this,Vt).notify({mutation:this,type:"updated",action:s})})},Tg);function gv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xr,Is,Wo,Rg,LN=(Rg=class extends xa{constructor(s={}){super();Ce(this,xr);Ce(this,Is);Ce(this,Wo);this.config=s,_e(this,xr,new Set),_e(this,Is,new Map),_e(this,Wo,0)}build(s,r,i){const o=new PN({client:s,mutationCache:this,mutationId:++Cl(this,Wo)._,options:s.defaultMutationOptions(r),state:i});return this.add(o),o}add(s){z(this,xr).add(s);const r=Wl(s);if(typeof r=="string"){const i=z(this,Is).get(r);i?i.push(s):z(this,Is).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(z(this,xr).delete(s)){const r=Wl(s);if(typeof r=="string"){const i=z(this,Is).get(r);if(i)if(i.length>1){const o=i.indexOf(s);o!==-1&&i.splice(o,1)}else i[0]===s&&z(this,Is).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=Wl(s);if(typeof r=="string"){const i=z(this,Is).get(r),o=i==null?void 0:i.find(a=>a.state.status==="pending");return!o||o===s}else return!0}runNext(s){var i;const r=Wl(s);if(typeof r=="string"){const o=(i=z(this,Is).get(r))==null?void 0:i.find(a=>a!==s&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jt.batch(()=>{z(this,xr).forEach(s=>{this.notify({type:"removed",mutation:s})}),z(this,xr).clear(),z(this,Is).clear()})}getAll(){return Array.from(z(this,xr))}find(s){const r={exact:!0,...s};return this.getAll().find(i=>Fx(r,i))}findAll(s={}){return this.getAll().filter(r=>Fx(s,r))}notify(s){jt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return jt.batch(()=>Promise.all(s.map(r=>r.continue().catch(Qt))))}},xr=new WeakMap,Is=new WeakMap,Wo=new WeakMap,Rg);function Wl(e){var s;return(s=e.options.scope)==null?void 0:s.id}var gr,Gr,ts,yr,jr,ic,Zh,zg,EN=(zg=class extends xa{constructor(r,i){super();Ce(this,jr);Ce(this,gr);Ce(this,Gr);Ce(this,ts);Ce(this,yr);_e(this,gr,r),this.setOptions(i),this.bindMethods(),Oe(this,jr,ic).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const i=this.options;this.options=z(this,gr).defaultMutationOptions(r),Ac(this.options,i)||z(this,gr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,ts),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&si(i.mutationKey)!==si(this.options.mutationKey)?this.reset():((o=z(this,ts))==null?void 0:o.state.status)==="pending"&&z(this,ts).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,ts))==null||r.removeObserver(this)}onMutationUpdate(r){Oe(this,jr,ic).call(this),Oe(this,jr,Zh).call(this,r)}getCurrentResult(){return z(this,Gr)}reset(){var r;(r=z(this,ts))==null||r.removeObserver(this),_e(this,ts,void 0),Oe(this,jr,ic).call(this),Oe(this,jr,Zh).call(this)}mutate(r,i){var o;return _e(this,yr,i),(o=z(this,ts))==null||o.removeObserver(this),_e(this,ts,z(this,gr).getMutationCache().build(z(this,gr),this.options)),z(this,ts).addObserver(this),z(this,ts).execute(r)}},gr=new WeakMap,Gr=new WeakMap,ts=new WeakMap,yr=new WeakMap,jr=new WeakSet,ic=function(){var i;const r=((i=z(this,ts))==null?void 0:i.state)??gv();_e(this,Gr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Zh=function(r){jt.batch(()=>{var i,o,a,c,u,h,f,x;if(z(this,yr)&&this.hasListeners()){const p=z(this,Gr).variables,g=z(this,Gr).context,_={client:z(this,gr),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((o=(i=z(this,yr)).onSuccess)==null||o.call(i,r.data,p,g,_),(c=(a=z(this,yr)).onSettled)==null||c.call(a,r.data,null,p,g,_)):(r==null?void 0:r.type)==="error"&&((h=(u=z(this,yr)).onError)==null||h.call(u,r.error,p,g,_),(x=(f=z(this,yr)).onSettled)==null||x.call(f,void 0,r.error,p,g,_))}this.listeners.forEach(p=>{p(z(this,Gr))})})},zg),sr,Og,MN=(Og=class extends xa{constructor(s={}){super();Ce(this,sr);this.config=s,_e(this,sr,new Map)}build(s,r,i){const o=r.queryKey,a=r.queryHash??of(o,r);let c=this.get(a);return c||(c=new jN({client:s,queryKey:o,queryHash:a,options:s.defaultQueryOptions(r),state:i,defaultOptions:s.getQueryDefaults(o)}),this.add(c)),c}add(s){z(this,sr).has(s.queryHash)||(z(this,sr).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=z(this,sr).get(s.queryHash);r&&(s.destroy(),r===s&&z(this,sr).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){jt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return z(this,sr).get(s)}getAll(){return[...z(this,sr).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(i=>Ix(r,i))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(i=>Ix(s,i)):r}notify(s){jt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},sr=new WeakMap,Og),mt,Qr,Kr,Ki,Yi,Yr,Ji,Xi,Ag,TN=(Ag=class{constructor(e={}){Ce(this,mt);Ce(this,Qr);Ce(this,Kr);Ce(this,Ki);Ce(this,Yi);Ce(this,Yr);Ce(this,Ji);Ce(this,Xi);_e(this,mt,e.queryCache||new MN),_e(this,Qr,e.mutationCache||new LN),_e(this,Kr,e.defaultOptions||{}),_e(this,Ki,new Map),_e(this,Yi,new Map),_e(this,Yr,0)}mount(){Cl(this,Yr)._++,z(this,Yr)===1&&(_e(this,Ji,cf.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,mt).onFocus())})),_e(this,Xi,Ic.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,mt).onOnline())})))}unmount(){var e,s;Cl(this,Yr)._--,z(this,Yr)===0&&((e=z(this,Ji))==null||e.call(this),_e(this,Ji,void 0),(s=z(this,Xi))==null||s.call(this),_e(this,Xi,void 0))}isFetching(e){return z(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Qr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=z(this,mt).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=z(this,mt).build(this,s),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(hn(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(i))}getQueriesData(e){return z(this,mt).findAll(e).map(({queryKey:s,state:r})=>{const i=r.data;return[s,i]})}setQueryData(e,s,r){const i=this.defaultQueryOptions({queryKey:e}),o=z(this,mt).get(i.queryHash),a=o==null?void 0:o.state.data,c=mN(s,a);if(c!==void 0)return z(this,mt).build(this,i).setData(c,{...r,manual:!0})}setQueriesData(e,s,r){return jt.batch(()=>z(this,mt).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,s,r)]))}getQueryState(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=z(this,mt).get(s.queryHash))==null?void 0:r.state}removeQueries(e){const s=z(this,mt);jt.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=z(this,mt);return jt.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},i=jt.batch(()=>z(this,mt).findAll(e).map(o=>o.cancel(r)));return Promise.all(i).then(Qt).catch(Qt)}invalidateQueries(e,s={}){return jt.batch(()=>(z(this,mt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},i=jt.batch(()=>z(this,mt).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Qt)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Qt)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=z(this,mt).build(this,s);return r.isStaleByTime(hn(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qt).catch(Qt)}fetchInfiniteQuery(e){return e.behavior=Zx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qt).catch(Qt)}ensureInfiniteQueryData(e){return e.behavior=Zx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ic.isOnline()?z(this,Qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,mt)}getMutationCache(){return z(this,Qr)}getDefaultOptions(){return z(this,Kr)}setDefaultOptions(e){_e(this,Kr,e)}setQueryDefaults(e,s){z(this,Ki).set(si(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...z(this,Ki).values()],r={};return s.forEach(i=>{zo(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,s){z(this,Yi).set(si(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...z(this,Yi).values()],r={};return s.forEach(i=>{zo(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...z(this,Kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=of(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===lf&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,mt).clear(),z(this,Qr).clear()}},mt=new WeakMap,Qr=new WeakMap,Kr=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,Yr=new WeakMap,Ji=new WeakMap,Xi=new WeakMap,Ag),yv=C.createContext(void 0),ar=e=>{const s=C.useContext(yv);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},RN=({client:e,children:s})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(yv.Provider,{value:e,children:s})),vv=C.createContext(!1),zN=()=>C.useContext(vv);vv.Provider;function ON(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AN=C.createContext(ON()),IN=()=>C.useContext(AN),FN=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},DN=e=>{C.useEffect(()=>{e.clearReset()},[e])},BN=({result:e,errorResetBoundary:s,throwOnError:r,query:i,suspense:o})=>e.isError&&!s.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||uv(r,[e.error,i])),UN=e=>{if(e.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>r(i(...o)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$N=(e,s)=>e.isLoading&&e.isFetching&&!s,HN=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,Vx=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function WN(e,s,r){var p,g,_,j,N;const i=zN(),o=IN(),a=ar(),c=a.defaultQueryOptions(e);(g=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,c),c._optimisticResults=i?"isRestoring":"optimistic",UN(c),FN(c,o),DN(o);const u=!a.getQueryCache().get(c.queryHash),[h]=C.useState(()=>new s(a,c)),f=h.getOptimisticResult(c),x=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(w=>{const b=x?h.subscribe(jt.batchCalls(w)):Qt;return h.updateResult(),b},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),C.useEffect(()=>{h.setOptions(c)},[c,h]),HN(c,f))throw Vx(c,h,o);if(BN({result:f,errorResetBoundary:o,throwOnError:c.throwOnError,query:a.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;if((j=(_=a.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||j.call(_,c,f),c.experimental_prefetchInRender&&!ti&&$N(f,i)){const w=u?Vx(c,h,o):(N=a.getQueryCache().get(c.queryHash))==null?void 0:N.promise;w==null||w.catch(Qt).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?f:h.trackResult(f)}function Fe(e,s){return WN(e,NN)}function Ue(e,s){const r=ar(),[i]=C.useState(()=>new EN(r,e));C.useEffect(()=>{i.setOptions(e)},[i,e]);const o=C.useSyncExternalStore(C.useCallback(c=>i.subscribe(jt.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=C.useCallback((c,u)=>{i.mutate(c,u).catch(Qt)},[i]);if(o.error&&uv(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const ZN={},Gx=e=>{let s;const r=new Set,i=(x,p)=>{const g=typeof x=="function"?x(s):x;if(!Object.is(g,s)){const _=s;s=p??(typeof g!="object"||g===null)?g:Object.assign({},s,g),r.forEach(j=>j(s,_))}},o=()=>s,h={setState:i,getState:o,getInitialState:()=>f,subscribe:x=>(r.add(x),()=>r.delete(x)),destroy:()=>{(ZN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=s=e(i,o,h);return h},qN=e=>e?Gx(e):Gx;var _v={exports:{}},bv={},wv={exports:{}},jv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=C;function VN(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var GN=typeof Object.is=="function"?Object.is:VN,QN=oa.useState,KN=oa.useEffect,YN=oa.useLayoutEffect,JN=oa.useDebugValue;function XN(e,s){var r=s(),i=QN({inst:{value:r,getSnapshot:s}}),o=i[0].inst,a=i[1];return YN(function(){o.value=r,o.getSnapshot=s,yu(o)&&a({inst:o})},[e,r,s]),KN(function(){return yu(o)&&a({inst:o}),e(function(){yu(o)&&a({inst:o})})},[e]),JN(r),r}function yu(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!GN(e,r)}catch{return!0}}function e2(e,s){return s()}var t2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e2:XN;jv.useSyncExternalStore=oa.useSyncExternalStore!==void 0?oa.useSyncExternalStore:t2;wv.exports=jv;var s2=wv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=C,r2=s2;function n2(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var i2=typeof Object.is=="function"?Object.is:n2,a2=r2.useSyncExternalStore,o2=id.useRef,l2=id.useEffect,c2=id.useMemo,d2=id.useDebugValue;bv.useSyncExternalStoreWithSelector=function(e,s,r,i,o){var a=o2(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=c2(function(){function h(_){if(!f){if(f=!0,x=_,_=i(_),o!==void 0&&c.hasValue){var j=c.value;if(o(j,_))return p=j}return p=_}if(j=p,i2(x,_))return j;var N=i(_);return o!==void 0&&o(j,N)?(x=_,j):(x=_,p=N)}var f=!1,x,p,g=r===void 0?null:r;return[function(){return h(s())},g===null?void 0:function(){return h(g())}]},[s,r,i,o]);var u=a2(e,a[0],a[1]);return l2(function(){c.hasValue=!0,c.value=u},[u]),d2(u),u};_v.exports=bv;var u2=_v.exports;const h2=Ig(u2),Nv={},{useDebugValue:m2}=Qn,{useSyncExternalStoreWithSelector:f2}=h2;let Qx=!1;const p2=e=>e;function x2(e,s=p2,r){(Nv?"production":void 0)!=="production"&&r&&!Qx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qx=!0);const i=f2(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,r);return m2(i),i}const g2=e=>{(Nv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?qN(e):e,r=(i,o)=>x2(s,i,o);return Object.assign(r,s),r},y2=e=>g2,v2={};function _2(e,s){let r;try{r=e()}catch{return}return{getItem:o=>{var a;const c=h=>h===null?null:JSON.parse(h,void 0),u=(a=r.getItem(o))!=null?a:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,a)=>r.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>r.removeItem(o)}}const Oo=e=>s=>{try{const r=e(s);return r instanceof Promise?r:{then(i){return Oo(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Oo(i)(r)}}}},b2=(e,s)=>(r,i,o)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...s},c=!1;const u=new Set,h=new Set;let f;try{f=a.getStorage()}catch{}if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...w)},i,o);const x=Oo(a.serialize),p=()=>{const w=a.partialize({...i()});let b;const v=x({state:w,version:a.version}).then(k=>f.setItem(a.name,k)).catch(k=>{b=k});if(b)throw b;return v},g=o.setState;o.setState=(w,b)=>{g(w,b),p()};const _=e((...w)=>{r(...w),p()},i,o);let j;const N=()=>{var w;if(!f)return;c=!1,u.forEach(v=>v(i()));const b=((w=a.onRehydrateStorage)==null?void 0:w.call(a,i()))||void 0;return Oo(f.getItem.bind(f))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var k;return j=a.merge(v,(k=i())!=null?k:_),r(j,!0),p()}).then(()=>{b==null||b(j,void 0),c=!0,h.forEach(v=>v(j))}).catch(v=>{b==null||b(void 0,v)})};return o.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(f=w.getStorage())},clearStorage:()=>{f==null||f.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>N(),hasHydrated:()=>c,onHydrate:w=>(u.add(w),()=>{u.delete(w)}),onFinishHydration:w=>(h.add(w),()=>{h.delete(w)})},N(),j||_},w2=(e,s)=>(r,i,o)=>{let a={storage:_2(()=>localStorage),partialize:N=>N,version:0,merge:(N,w)=>({...w,...N}),...s},c=!1;const u=new Set,h=new Set;let f=a.storage;if(!f)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...N)},i,o);const x=()=>{const N=a.partialize({...i()});return f.setItem(a.name,{state:N,version:a.version})},p=o.setState;o.setState=(N,w)=>{p(N,w),x()};const g=e((...N)=>{r(...N),x()},i,o);o.getInitialState=()=>g;let _;const j=()=>{var N,w;if(!f)return;c=!1,u.forEach(v=>{var k;return v((k=i())!=null?k:g)});const b=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(N=i())!=null?N:g))||void 0;return Oo(f.getItem.bind(f))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var k;const[E,M]=v;if(_=a.merge(M,(k=i())!=null?k:g),r(_,!0),E)return x()}).then(()=>{b==null||b(_,void 0),_=i(),c=!0,h.forEach(v=>v(_))}).catch(v=>{b==null||b(void 0,v)})};return o.persist={setOptions:N=>{a={...a,...N},N.storage&&(f=N.storage)},clearStorage:()=>{f==null||f.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:N=>(u.add(N),()=>{u.delete(N)}),onFinishHydration:N=>(h.add(N),()=>{h.delete(N)})},a.skipHydration||j(),_||g},j2=(e,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((v2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),b2(e,s)):w2(e,s),N2=j2;function kv(e,s){return function(){return e.apply(s,arguments)}}const{toString:k2}=Object.prototype,{getPrototypeOf:uf}=Object,{iterator:ad,toStringTag:Cv}=Symbol,od=(e=>s=>{const r=k2.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qs=e=>(e=e.toLowerCase(),s=>od(s)===e),ld=e=>s=>typeof s===e,{isArray:ga}=Array,la=ld("undefined");function Ko(e){return e!==null&&!la(e)&&e.constructor!==null&&!la(e.constructor)&&ls(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Sv=qs("ArrayBuffer");function C2(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Sv(e.buffer),s}const S2=ld("string"),ls=ld("function"),Pv=ld("number"),Yo=e=>e!==null&&typeof e=="object",P2=e=>e===!0||e===!1,ac=e=>{if(od(e)!=="object")return!1;const s=uf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Cv in e)&&!(ad in e)},L2=e=>{if(!Yo(e)||Ko(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},E2=qs("Date"),M2=qs("File"),T2=qs("Blob"),R2=qs("FileList"),z2=e=>Yo(e)&&ls(e.pipe),O2=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||ls(e.append)&&((s=od(e))==="formdata"||s==="object"&&ls(e.toString)&&e.toString()==="[object FormData]"))},A2=qs("URLSearchParams"),[I2,F2,D2,B2]=["ReadableStream","Request","Response","Headers"].map(qs),U2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jo(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),ga(e))for(i=0,o=e.length;i<o;i++)s.call(null,e[i],i,e);else{if(Ko(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let u;for(i=0;i<c;i++)u=a[i],s.call(null,e[u],u,e)}}function Lv(e,s){if(Ko(e))return null;s=s.toLowerCase();const r=Object.keys(e);let i=r.length,o;for(;i-- >0;)if(o=r[i],s===o.toLowerCase())return o;return null}const zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ev=e=>!la(e)&&e!==zn;function qh(){const{caseless:e,skipUndefined:s}=Ev(this)&&this||{},r={},i=(o,a)=>{const c=e&&Lv(r,a)||a;ac(r[c])&&ac(o)?r[c]=qh(r[c],o):ac(o)?r[c]=qh({},o):ga(o)?r[c]=o.slice():(!s||!la(o))&&(r[c]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Jo(arguments[o],i);return r}const $2=(e,s,r,{allOwnKeys:i}={})=>(Jo(s,(o,a)=>{r&&ls(o)?e[a]=kv(o,r):e[a]=o},{allOwnKeys:i}),e),H2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),W2=(e,s,r,i)=>{e.prototype=Object.create(s.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},Z2=(e,s,r,i)=>{let o,a,c;const u={};if(s=s||{},e==null)return s;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!i||i(c,e,s))&&!u[c]&&(s[c]=e[c],u[c]=!0);e=r!==!1&&uf(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},q2=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const i=e.indexOf(s,r);return i!==-1&&i===r},V2=e=>{if(!e)return null;if(ga(e))return e;let s=e.length;if(!Pv(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},G2=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&uf(Uint8Array)),Q2=(e,s)=>{const i=(e&&e[ad]).call(e);let o;for(;(o=i.next())&&!o.done;){const a=o.value;s.call(e,a[0],a[1])}},K2=(e,s)=>{let r;const i=[];for(;(r=e.exec(s))!==null;)i.push(r);return i},Y2=qs("HTMLFormElement"),J2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,o){return i.toUpperCase()+o}),Kx=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),X2=qs("RegExp"),Mv=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),i={};Jo(r,(o,a)=>{let c;(c=s(o,a,e))!==!1&&(i[a]=c||o)}),Object.defineProperties(e,i)},e4=e=>{Mv(e,(s,r)=>{if(ls(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(ls(i)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},t4=(e,s)=>{const r={},i=o=>{o.forEach(a=>{r[a]=!0})};return ga(e)?i(e):i(String(e).split(s)),r},s4=()=>{},r4=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function n4(e){return!!(e&&ls(e.append)&&e[Cv]==="FormData"&&e[ad])}const i4=e=>{const s=new Array(10),r=(i,o)=>{if(Yo(i)){if(s.indexOf(i)>=0)return;if(Ko(i))return i;if(!("toJSON"in i)){s[o]=i;const a=ga(i)?[]:{};return Jo(i,(c,u)=>{const h=r(c,o+1);!la(h)&&(a[u]=h)}),s[o]=void 0,a}}return i};return r(e,0)},a4=qs("AsyncFunction"),o4=e=>e&&(Yo(e)||ls(e))&&ls(e.then)&&ls(e.catch),Tv=((e,s)=>e?setImmediate:s?((r,i)=>(zn.addEventListener("message",({source:o,data:a})=>{o===zn&&a===r&&i.length&&i.shift()()},!1),o=>{i.push(o),zn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ls(zn.postMessage)),l4=typeof queueMicrotask<"u"?queueMicrotask.bind(zn):typeof process<"u"&&process.nextTick||Tv,c4=e=>e!=null&&ls(e[ad]),se={isArray:ga,isArrayBuffer:Sv,isBuffer:Ko,isFormData:O2,isArrayBufferView:C2,isString:S2,isNumber:Pv,isBoolean:P2,isObject:Yo,isPlainObject:ac,isEmptyObject:L2,isReadableStream:I2,isRequest:F2,isResponse:D2,isHeaders:B2,isUndefined:la,isDate:E2,isFile:M2,isBlob:T2,isRegExp:X2,isFunction:ls,isStream:z2,isURLSearchParams:A2,isTypedArray:G2,isFileList:R2,forEach:Jo,merge:qh,extend:$2,trim:U2,stripBOM:H2,inherits:W2,toFlatObject:Z2,kindOf:od,kindOfTest:qs,endsWith:q2,toArray:V2,forEachEntry:Q2,matchAll:K2,isHTMLForm:Y2,hasOwnProperty:Kx,hasOwnProp:Kx,reduceDescriptors:Mv,freezeMethods:e4,toObjectSet:t4,toCamelCase:J2,noop:s4,toFiniteNumber:r4,findKey:Lv,global:zn,isContextDefined:Ev,isSpecCompliantForm:n4,toJSONObject:i4,isAsyncFn:a4,isThenable:o4,setImmediate:Tv,asap:l4,isIterable:c4};function Me(e,s,r,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}se.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const Rv=Me.prototype,zv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zv[e]={value:e}});Object.defineProperties(Me,zv);Object.defineProperty(Rv,"isAxiosError",{value:!0});Me.from=(e,s,r,i,o,a)=>{const c=Object.create(Rv);se.toFlatObject(e,c,function(x){return x!==Error.prototype},f=>f!=="isAxiosError");const u=e&&e.message?e.message:"Error",h=s==null&&e?e.code:s;return Me.call(c,u,h,r,i,o),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",a&&Object.assign(c,a),c};const d4=null;function Vh(e){return se.isPlainObject(e)||se.isArray(e)}function Ov(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function Yx(e,s,r){return e?e.concat(s).map(function(o,a){return o=Ov(o),!r&&a?"["+o+"]":o}).join(r?".":""):s}function u4(e){return se.isArray(e)&&!e.some(Vh)}const h4=se.toFlatObject(se,{},null,function(s){return/^is[A-Z]/.test(s)});function cd(e,s,r){if(!se.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,w){return!se.isUndefined(w[N])});const i=r.metaTokens,o=r.visitor||x,a=r.dots,c=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(s);if(!se.isFunction(o))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(se.isDate(j))return j.toISOString();if(se.isBoolean(j))return j.toString();if(!h&&se.isBlob(j))throw new Me("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(j)||se.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,N,w){let b=j;if(j&&!w&&typeof j=="object"){if(se.endsWith(N,"{}"))N=i?N:N.slice(0,-2),j=JSON.stringify(j);else if(se.isArray(j)&&u4(j)||(se.isFileList(j)||se.endsWith(N,"[]"))&&(b=se.toArray(j)))return N=Ov(N),b.forEach(function(k,E){!(se.isUndefined(k)||k===null)&&s.append(c===!0?Yx([N],E,a):c===null?N:N+"[]",f(k))}),!1}return Vh(j)?!0:(s.append(Yx(w,N,a),f(j)),!1)}const p=[],g=Object.assign(h4,{defaultVisitor:x,convertValue:f,isVisitable:Vh});function _(j,N){if(!se.isUndefined(j)){if(p.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(j),se.forEach(j,function(b,v){(!(se.isUndefined(b)||b===null)&&o.call(s,b,se.isString(v)?v.trim():v,N,g))===!0&&_(b,N?N.concat(v):[v])}),p.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return _(e),s}function Jx(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return s[i]})}function hf(e,s){this._pairs=[],e&&cd(e,this,s)}const Av=hf.prototype;Av.append=function(s,r){this._pairs.push([s,r])};Av.toString=function(s){const r=s?function(i){return s.call(this,i,Jx)}:Jx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function m4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Iv(e,s,r){if(!s)return e;const i=r&&r.encode||m4;se.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(s,r):a=se.isURLSearchParams(s)?s.toString():new hf(s,r).toString(i),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Xx{constructor(){this.handlers=[]}use(s,r,i){return this.handlers.push({fulfilled:s,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){se.forEach(this.handlers,function(i){i!==null&&s(i)})}}const Fv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f4=typeof URLSearchParams<"u"?URLSearchParams:hf,p4=typeof FormData<"u"?FormData:null,x4=typeof Blob<"u"?Blob:null,g4={isBrowser:!0,classes:{URLSearchParams:f4,FormData:p4,Blob:x4},protocols:["http","https","file","blob","url","data"]},mf=typeof window<"u"&&typeof document<"u",Gh=typeof navigator=="object"&&navigator||void 0,y4=mf&&(!Gh||["ReactNative","NativeScript","NS"].indexOf(Gh.product)<0),v4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_4=mf&&window.location.href||"http://localhost",b4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mf,hasStandardBrowserEnv:y4,hasStandardBrowserWebWorkerEnv:v4,navigator:Gh,origin:_4},Symbol.toStringTag,{value:"Module"})),Ut={...b4,...g4};function w4(e,s){return cd(e,new Ut.classes.URLSearchParams,{visitor:function(r,i,o,a){return Ut.isNode&&se.isBuffer(r)?(this.append(i,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...s})}function j4(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function N4(e){const s={},r=Object.keys(e);let i;const o=r.length;let a;for(i=0;i<o;i++)a=r[i],s[a]=e[a];return s}function Dv(e){function s(r,i,o,a){let c=r[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=a>=r.length;return c=!c&&se.isArray(o)?o.length:c,h?(se.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!u):((!o[c]||!se.isObject(o[c]))&&(o[c]=[]),s(r,i,o[c],a)&&se.isArray(o[c])&&(o[c]=N4(o[c])),!u)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(i,o)=>{s(j4(i),o,r,0)}),r}return null}function k4(e,s,r){if(se.isString(e))try{return(s||JSON.parse)(e),se.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const Xo={transitional:Fv,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const i=r.getContentType()||"",o=i.indexOf("application/json")>-1,a=se.isObject(s);if(a&&se.isHTMLForm(s)&&(s=new FormData(s)),se.isFormData(s))return o?JSON.stringify(Dv(s)):s;if(se.isArrayBuffer(s)||se.isBuffer(s)||se.isStream(s)||se.isFile(s)||se.isBlob(s)||se.isReadableStream(s))return s;if(se.isArrayBufferView(s))return s.buffer;if(se.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let u;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return w4(s,this.formSerializer).toString();if((u=se.isFileList(s))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return cd(u?{"files[]":s}:s,h&&new h,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),k4(s)):s}],transformResponse:[function(s){const r=this.transitional||Xo.transitional,i=r&&r.forcedJSONParsing,o=this.responseType==="json";if(se.isResponse(s)||se.isReadableStream(s))return s;if(s&&se.isString(s)&&(i&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(s,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Xo.headers[e]={}});const C4=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S4=e=>{const s={};let r,i,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!r||s[r]&&C4[r])&&(r==="set-cookie"?s[r]?s[r].push(i):s[r]=[i]:s[r]=s[r]?s[r]+", "+i:i)}),s},eg=Symbol("internals");function Ga(e){return e&&String(e).trim().toLowerCase()}function oc(e){return e===!1||e==null?e:se.isArray(e)?e.map(oc):String(e)}function P4(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)s[i[1]]=i[2];return s}const L4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vu(e,s,r,i,o){if(se.isFunction(i))return i.call(this,s,r);if(o&&(s=r),!!se.isString(s)){if(se.isString(i))return s.indexOf(i)!==-1;if(se.isRegExp(i))return i.test(s)}}function E4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,i)=>r.toUpperCase()+i)}function M4(e,s){const r=se.toCamelCase(" "+s);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(o,a,c){return this[i].call(this,s,o,a,c)},configurable:!0})})}let cs=class{constructor(s){s&&this.set(s)}set(s,r,i){const o=this;function a(u,h,f){const x=Ga(h);if(!x)throw new Error("header name must be a non-empty string");const p=se.findKey(o,x);(!p||o[p]===void 0||f===!0||f===void 0&&o[p]!==!1)&&(o[p||h]=oc(u))}const c=(u,h)=>se.forEach(u,(f,x)=>a(f,x,h));if(se.isPlainObject(s)||s instanceof this.constructor)c(s,r);else if(se.isString(s)&&(s=s.trim())&&!L4(s))c(S4(s),r);else if(se.isObject(s)&&se.isIterable(s)){let u={},h,f;for(const x of s){if(!se.isArray(x))throw TypeError("Object iterator must return a key-value pair");u[f=x[0]]=(h=u[f])?se.isArray(h)?[...h,x[1]]:[h,x[1]]:x[1]}c(u,r)}else s!=null&&a(r,s,i);return this}get(s,r){if(s=Ga(s),s){const i=se.findKey(this,s);if(i){const o=this[i];if(!r)return o;if(r===!0)return P4(o);if(se.isFunction(r))return r.call(this,o,i);if(se.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Ga(s),s){const i=se.findKey(this,s);return!!(i&&this[i]!==void 0&&(!r||vu(this,this[i],i,r)))}return!1}delete(s,r){const i=this;let o=!1;function a(c){if(c=Ga(c),c){const u=se.findKey(i,c);u&&(!r||vu(i,i[u],u,r))&&(delete i[u],o=!0)}}return se.isArray(s)?s.forEach(a):a(s),o}clear(s){const r=Object.keys(this);let i=r.length,o=!1;for(;i--;){const a=r[i];(!s||vu(this,this[a],a,s,!0))&&(delete this[a],o=!0)}return o}normalize(s){const r=this,i={};return se.forEach(this,(o,a)=>{const c=se.findKey(i,a);if(c){r[c]=oc(o),delete r[a];return}const u=s?E4(a):String(a).trim();u!==a&&delete r[a],r[u]=oc(o),i[u]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return se.forEach(this,(i,o)=>{i!=null&&i!==!1&&(r[o]=s&&se.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const i=new this(s);return r.forEach(o=>i.set(o)),i}static accessor(s){const i=(this[eg]=this[eg]={accessors:{}}).accessors,o=this.prototype;function a(c){const u=Ga(c);i[u]||(M4(o,c),i[u]=!0)}return se.isArray(s)?s.forEach(a):a(s),this}};cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(cs.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(i){this[r]=i}}});se.freezeMethods(cs);function _u(e,s){const r=this||Xo,i=s||r,o=cs.from(i.headers);let a=i.data;return se.forEach(e,function(u){a=u.call(r,a,o.normalize(),s?s.status:void 0)}),o.normalize(),a}function Bv(e){return!!(e&&e.__CANCEL__)}function ya(e,s,r){Me.call(this,e??"canceled",Me.ERR_CANCELED,s,r),this.name="CanceledError"}se.inherits(ya,Me,{__CANCEL__:!0});function Uv(e,s,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):s(new Me("Request failed with status code "+r.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function T4(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function R4(e,s){e=e||10;const r=new Array(e),i=new Array(e);let o=0,a=0,c;return s=s!==void 0?s:1e3,function(h){const f=Date.now(),x=i[a];c||(c=f),r[o]=h,i[o]=f;let p=a,g=0;for(;p!==o;)g+=r[p++],p=p%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),f-c<s)return;const _=x&&f-x;return _?Math.round(g*1e3/_):void 0}}function z4(e,s){let r=0,i=1e3/s,o,a;const c=(f,x=Date.now())=>{r=x,o=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const x=Date.now(),p=x-r;p>=i?c(f,x):(o=f,a||(a=setTimeout(()=>{a=null,c(o)},i-p)))},()=>o&&c(o)]}const Fc=(e,s,r=3)=>{let i=0;const o=R4(50,250);return z4(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,h=c-i,f=o(h),x=c<=u;i=c;const p={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&x?(u-c)/f:void 0,event:a,lengthComputable:u!=null,[s?"download":"upload"]:!0};e(p)},r)},tg=(e,s)=>{const r=e!=null;return[i=>s[0]({lengthComputable:r,total:e,loaded:i}),s[1]]},sg=e=>(...s)=>se.asap(()=>e(...s)),O4=Ut.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,Ut.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(Ut.origin),Ut.navigator&&/(msie|trident)/i.test(Ut.navigator.userAgent)):()=>!0,A4=Ut.hasStandardBrowserEnv?{write(e,s,r,i,o,a,c){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(s)}`];se.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),se.isString(i)&&u.push(`path=${i}`),se.isString(o)&&u.push(`domain=${o}`),a===!0&&u.push("secure"),se.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function I4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function F4(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function $v(e,s,r){let i=!I4(s);return e&&(i||r==!1)?F4(e,s):s}const rg=e=>e instanceof cs?{...e}:e;function ri(e,s){s=s||{};const r={};function i(f,x,p,g){return se.isPlainObject(f)&&se.isPlainObject(x)?se.merge.call({caseless:g},f,x):se.isPlainObject(x)?se.merge({},x):se.isArray(x)?x.slice():x}function o(f,x,p,g){if(se.isUndefined(x)){if(!se.isUndefined(f))return i(void 0,f,p,g)}else return i(f,x,p,g)}function a(f,x){if(!se.isUndefined(x))return i(void 0,x)}function c(f,x){if(se.isUndefined(x)){if(!se.isUndefined(f))return i(void 0,f)}else return i(void 0,x)}function u(f,x,p){if(p in s)return i(f,x);if(p in e)return i(void 0,f)}const h={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,x,p)=>o(rg(f),rg(x),p,!0)};return se.forEach(Object.keys({...e,...s}),function(x){const p=h[x]||o,g=p(e[x],s[x],x);se.isUndefined(g)&&p!==u||(r[x]=g)}),r}const Hv=e=>{const s=ri({},e);let{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:u}=s;if(s.headers=c=cs.from(c),s.url=Iv($v(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),se.isFormData(r)){if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const h=r.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([x,p])=>{f.includes(x.toLowerCase())&&c.set(x,p)})}}if(Ut.hasStandardBrowserEnv&&(i&&se.isFunction(i)&&(i=i(s)),i||i!==!1&&O4(s.url))){const h=o&&a&&A4.read(a);h&&c.set(o,h)}return s},D4=typeof XMLHttpRequest<"u",B4=D4&&function(e){return new Promise(function(r,i){const o=Hv(e);let a=o.data;const c=cs.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=o,x,p,g,_,j;function N(){_&&_(),j&&j(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function b(){if(!w)return;const k=cs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:e,request:w};Uv(function(W){r(W),N()},function(W){i(W),N()},M),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(i(new Me("Request aborted",Me.ECONNABORTED,e,w)),w=null)},w.onerror=function(E){const M=E&&E.message?E.message:"Network Error",A=new Me(M,Me.ERR_NETWORK,e,w);A.event=E||null,i(A),w=null},w.ontimeout=function(){let E=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const M=o.transitional||Fv;o.timeoutErrorMessage&&(E=o.timeoutErrorMessage),i(new Me(E,M.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,e,w)),w=null},a===void 0&&c.setContentType(null),"setRequestHeader"in w&&se.forEach(c.toJSON(),function(E,M){w.setRequestHeader(M,E)}),se.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),u&&u!=="json"&&(w.responseType=o.responseType),f&&([g,j]=Fc(f,!0),w.addEventListener("progress",g)),h&&w.upload&&([p,_]=Fc(h),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",_)),(o.cancelToken||o.signal)&&(x=k=>{w&&(i(!k||k.type?new ya(null,e,w):k),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const v=T4(o.url);if(v&&Ut.protocols.indexOf(v)===-1){i(new Me("Unsupported protocol "+v+":",Me.ERR_BAD_REQUEST,e));return}w.send(a||null)})},U4=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let i=new AbortController,o;const a=function(f){if(!o){o=!0,u();const x=f instanceof Error?f:this.reason;i.abort(x instanceof Me?x:new ya(x instanceof Error?x.message:x))}};let c=s&&setTimeout(()=>{c=null,a(new Me(`timeout ${s} of ms exceeded`,Me.ETIMEDOUT))},s);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:h}=i;return h.unsubscribe=()=>se.asap(u),h}},$4=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let i=0,o;for(;i<r;)o=i+s,yield e.slice(i,o),i=o},H4=async function*(e,s){for await(const r of W4(e))yield*$4(r,s)},W4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:i}=await s.read();if(r)break;yield i}}finally{await s.cancel()}},ng=(e,s,r,i)=>{const o=H4(e,s);let a=0,c,u=h=>{c||(c=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:x}=await o.next();if(f){u(),h.close();return}let p=x.byteLength;if(r){let g=a+=p;r(g)}h.enqueue(new Uint8Array(x))}catch(f){throw u(f),f}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},ig=64*1024,{isFunction:Zl}=se,Z4=(({Request:e,Response:s})=>({Request:e,Response:s}))(se.global),{ReadableStream:ag,TextEncoder:og}=se.global,lg=(e,...s)=>{try{return!!e(...s)}catch{return!1}},q4=e=>{e=se.merge.call({skipUndefined:!0},Z4,e);const{fetch:s,Request:r,Response:i}=e,o=s?Zl(s):typeof fetch=="function",a=Zl(r),c=Zl(i);if(!o)return!1;const u=o&&Zl(ag),h=o&&(typeof og=="function"?(j=>N=>j.encode(N))(new og):async j=>new Uint8Array(await new r(j).arrayBuffer())),f=a&&u&&lg(()=>{let j=!1;const N=new r(Ut.origin,{body:new ag,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!N}),x=c&&u&&lg(()=>se.isReadableStream(new i("").body)),p={stream:x&&(j=>j.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!p[j]&&(p[j]=(N,w)=>{let b=N&&N[j];if(b)return b.call(N);throw new Me(`Response type '${j}' is not supported`,Me.ERR_NOT_SUPPORT,w)})});const g=async j=>{if(j==null)return 0;if(se.isBlob(j))return j.size;if(se.isSpecCompliantForm(j))return(await new r(Ut.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(se.isArrayBufferView(j)||se.isArrayBuffer(j))return j.byteLength;if(se.isURLSearchParams(j)&&(j=j+""),se.isString(j))return(await h(j)).byteLength},_=async(j,N)=>{const w=se.toFiniteNumber(j.getContentLength());return w??g(N)};return async j=>{let{url:N,method:w,data:b,signal:v,cancelToken:k,timeout:E,onDownloadProgress:M,onUploadProgress:A,responseType:W,headers:G,withCredentials:T="same-origin",fetchOptions:Z}=Hv(j),I=s||fetch;W=W?(W+"").toLowerCase():"text";let P=U4([v,k&&k.toAbortSignal()],E),J=null;const F=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let ue;try{if(A&&f&&w!=="get"&&w!=="head"&&(ue=await _(G,b))!==0){let ee=new r(N,{method:"POST",body:b,duplex:"half"}),me;if(se.isFormData(b)&&(me=ee.headers.get("content-type"))&&G.setContentType(me),ee.body){const[fe,ve]=tg(ue,Fc(sg(A)));b=ng(ee.body,ig,fe,ve)}}se.isString(T)||(T=T?"include":"omit");const ne=a&&"credentials"in r.prototype,xe={...Z,signal:P,method:w.toUpperCase(),headers:G.normalize().toJSON(),body:b,duplex:"half",credentials:ne?T:void 0};J=a&&new r(N,xe);let U=await(a?I(J,Z):I(N,xe));const O=x&&(W==="stream"||W==="response");if(x&&(M||O&&F)){const ee={};["status","statusText","headers"].forEach(ie=>{ee[ie]=U[ie]});const me=se.toFiniteNumber(U.headers.get("content-length")),[fe,ve]=M&&tg(me,Fc(sg(M),!0))||[];U=new i(ng(U.body,ig,fe,()=>{ve&&ve(),F&&F()}),ee)}W=W||"text";let H=await p[se.findKey(p,W)||"text"](U,j);return!O&&F&&F(),await new Promise((ee,me)=>{Uv(ee,me,{data:H,headers:cs.from(U.headers),status:U.status,statusText:U.statusText,config:j,request:J})})}catch(ne){throw F&&F(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,j,J),{cause:ne.cause||ne}):Me.from(ne,ne&&ne.code,j,J)}}},V4=new Map,Wv=e=>{let s=e&&e.env||{};const{fetch:r,Request:i,Response:o}=s,a=[i,o,r];let c=a.length,u=c,h,f,x=V4;for(;u--;)h=a[u],f=x.get(h),f===void 0&&x.set(h,f=u?new Map:q4(s)),x=f;return f};Wv();const ff={http:d4,xhr:B4,fetch:{get:Wv}};se.forEach(ff,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const cg=e=>`- ${e}`,G4=e=>se.isFunction(e)||e===null||e===!1;function Q4(e,s){e=se.isArray(e)?e:[e];const{length:r}=e;let i,o;const a={};for(let c=0;c<r;c++){i=e[c];let u;if(o=i,!G4(i)&&(o=ff[(u=String(i)).toLowerCase()],o===void 0))throw new Me(`Unknown adapter '${u}'`);if(o&&(se.isFunction(o)||(o=o.get(s))))break;a[u||"#"+c]=o}if(!o){const c=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?c.length>1?`since :
`+c.map(cg).join(`
`):" "+cg(c[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o}const Zv={getAdapter:Q4,adapters:ff};function bu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ya(null,e)}function dg(e){return bu(e),e.headers=cs.from(e.headers),e.data=_u.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zv.getAdapter(e.adapter||Xo.adapter,e)(e).then(function(i){return bu(e),i.data=_u.call(e,e.transformResponse,i),i.headers=cs.from(i.headers),i},function(i){return Bv(i)||(bu(e),i&&i.response&&(i.response.data=_u.call(e,e.transformResponse,i.response),i.response.headers=cs.from(i.response.headers))),Promise.reject(i)})}const qv="1.13.2",dd={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{dd[e]=function(i){return typeof i===e||"a"+(s<1?"n ":" ")+e}});const ug={};dd.transitional=function(s,r,i){function o(a,c){return"[Axios v"+qv+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,u)=>{if(s===!1)throw new Me(o(c," has been removed"+(r?" in "+r:"")),Me.ERR_DEPRECATED);return r&&!ug[c]&&(ug[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(a,c,u):!0}};dd.spelling=function(s){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${s}`),!0)};function K4(e,s,r){if(typeof e!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const a=i[o],c=s[a];if(c){const u=e[a],h=u===void 0||c(u,a,e);if(h!==!0)throw new Me("option "+a+" must be "+h,Me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Me("Unknown option "+a,Me.ERR_BAD_OPTION)}}const lc={assertOptions:K4,validators:dd},Js=lc.validators;let Gn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Xx,response:new Xx}}async request(s,r){try{return await this._request(s,r)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=ri(this.defaults,r);const{transitional:i,paramsSerializer:o,headers:a}=r;i!==void 0&&lc.assertOptions(i,{silentJSONParsing:Js.transitional(Js.boolean),forcedJSONParsing:Js.transitional(Js.boolean),clarifyTimeoutError:Js.transitional(Js.boolean)},!1),o!=null&&(se.isFunction(o)?r.paramsSerializer={serialize:o}:lc.assertOptions(o,{encode:Js.function,serialize:Js.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),lc.assertOptions(r,{baseUrl:Js.spelling("baseURL"),withXsrfToken:Js.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&se.merge(a.common,a[r.method]);a&&se.forEach(["delete","get","head","post","put","patch","common"],j=>{delete a[j]}),r.headers=cs.concat(c,a);const u=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(h=h&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const f=[];this.interceptors.response.forEach(function(N){f.push(N.fulfilled,N.rejected)});let x,p=0,g;if(!h){const j=[dg.bind(this),void 0];for(j.unshift(...u),j.push(...f),g=j.length,x=Promise.resolve(r);p<g;)x=x.then(j[p++],j[p++]);return x}g=u.length;let _=r;for(;p<g;){const j=u[p++],N=u[p++];try{_=j(_)}catch(w){N.call(this,w);break}}try{x=dg.call(this,_)}catch(j){return Promise.reject(j)}for(p=0,g=f.length;p<g;)x=x.then(f[p++],f[p++]);return x}getUri(s){s=ri(this.defaults,s);const r=$v(s.baseURL,s.url,s.allowAbsoluteUrls);return Iv(r,s.params,s.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(s){Gn.prototype[s]=function(r,i){return this.request(ri(i||{},{method:s,url:r,data:(i||{}).data}))}});se.forEach(["post","put","patch"],function(s){function r(i){return function(a,c,u){return this.request(ri(u||{},{method:s,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Gn.prototype[s]=r(),Gn.prototype[s+"Form"]=r(!0)});let Y4=class Vv{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(u=>{i.subscribe(u),a=u}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},s(function(a,c,u){i.reason||(i.reason=new ya(a,c,u),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=i=>{s.abort(i)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Vv(function(o){s=o}),cancel:s}}};function J4(e){return function(r){return e.apply(null,r)}}function X4(e){return se.isObject(e)&&e.isAxiosError===!0}const Qh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qh).forEach(([e,s])=>{Qh[s]=e});function Gv(e){const s=new Gn(e),r=kv(Gn.prototype.request,s);return se.extend(r,Gn.prototype,s,{allOwnKeys:!0}),se.extend(r,s,null,{allOwnKeys:!0}),r.create=function(o){return Gv(ri(e,o))},r}const de=Gv(Xo);de.Axios=Gn;de.CanceledError=ya;de.CancelToken=Y4;de.isCancel=Bv;de.VERSION=qv;de.toFormData=cd;de.AxiosError=Me;de.Cancel=de.CanceledError;de.all=function(s){return Promise.all(s)};de.spread=J4;de.isAxiosError=X4;de.mergeConfig=ri;de.AxiosHeaders=cs;de.formToJSON=e=>Dv(se.isHTMLForm(e)?new FormData(e):e);de.getAdapter=Zv.getAdapter;de.HttpStatusCode=Qh;de.default=de;const{Axios:eC,AxiosError:tC,CanceledError:sC,isCancel:rC,CancelToken:nC,VERSION:iC,all:aC,Cancel:oC,isAxiosError:lC,spread:cC,toFormData:dC,AxiosHeaders:uC,HttpStatusCode:hC,formToJSON:mC,getAdapter:fC,mergeConfig:pC}=de,wu=e=>{let s=e.base_price;return e.customizations.add_ons&&e.customizations.add_ons.length>0&&(s+=e.customizations.add_ons.reduce((r,i)=>r+i.price,0)),s*=e.quantity,Number(s.toFixed(2))},Rr=(e,s,r,i)=>{const o=e.reduce((f,x)=>f+x.item_total,0);let a=0;i&&(i.discount_type==="percentage"?a=o*i.discount_amount/100:i.discount_type==="fixed_amount"&&(a=i.discount_amount));const u=(o-a+s)*.085,h=o-a+s+u+r;return{subtotal:Number(o.toFixed(2)),tax:Number(u.toFixed(2)),grand_total:Number(h.toFixed(2))}},ce=y2()(N2((e,s)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},cart_state:{restaurant_id:null,restaurant_name:null,items:[],order_type:null,delivery_address:null,applied_discount:null,subtotal:0,delivery_fee:0,tax:0,tip:0,grand_total:0,last_updated:null},user_location:{latitude:null,longitude:null,city:null,state:null,permission_granted:!1,last_updated:null},active_filters:{cuisine_types:[],price_min:null,price_max:null,distance_max:null,rating_min:null,dietary_preferences:[],open_now:!1,has_discount:!1,sort_by:"recommended"},favorites_list:{restaurant_ids:[],last_synced:null},notification_state:{unread_count:0,notifications:[]},login_user:async(r,i)=>{var o,a;e(c=>({authentication_state:{...c.authentication_state,authentication_status:{...c.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const c=await de.post("https://123local-eats-app.launchpulse.ai/api/auth/login",{email:r,password:i},{headers:{"Content-Type":"application/json"}}),{user:u,auth_token:h}=c.data;e(()=>({authentication_state:{current_user:{user_id:u.user_id,email:u.email,full_name:u.full_name,phone_number:u.phone_number,profile_picture_url:u.profile_picture_url,is_verified:u.is_verified,created_at:u.created_at},auth_token:h,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),await s().sync_cart_from_backend()}catch(c){const u=((a=(o=c.response)==null?void 0:o.data)==null?void 0:a.message)||c.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:u}})),new Error(u)}},logout_user:()=>{try{e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},cart_state:{restaurant_id:null,restaurant_name:null,items:[],order_type:null,delivery_address:null,applied_discount:null,subtotal:0,delivery_fee:0,tax:0,tip:0,grand_total:0,last_updated:null},favorites_list:{restaurant_ids:[],last_synced:null},notification_state:{unread_count:0,notifications:[]}}));try{localStorage.removeItem("local-eats-storage")}catch(r){console.warn("Failed to clear localStorage:",r)}}catch(r){console.error("Error during logout_user:",r)}},register_user:async(r,i,o,a)=>{var c,u;e(h=>({authentication_state:{...h.authentication_state,authentication_status:{...h.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const h={email:r,password:i,full_name:o};a&&a.trim()&&(h.phone_number=a.trim());const f=await de.post("https://123local-eats-app.launchpulse.ai/api/auth/signup",h,{headers:{"Content-Type":"application/json"}}),{user:x,auth_token:p}=f.data;e(()=>({authentication_state:{current_user:{user_id:x.user_id,email:x.email,full_name:x.full_name,phone_number:x.phone_number,profile_picture_url:x.profile_picture_url,is_verified:x.is_verified,created_at:x.created_at},auth_token:p,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),await s().sync_cart_from_backend()}catch(h){const f=((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.message)||h.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:f}})),new Error(f)}},initialize_auth:async()=>{const{authentication_state:r}=s(),i=r.auth_token;if(!i){e(o=>({authentication_state:{...o.authentication_state,authentication_status:{...o.authentication_state.authentication_status,is_loading:!1}}}));return}try{const a=(await de.get("https://123local-eats-app.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${i}`}})).data;e(()=>({authentication_state:{current_user:{user_id:a.user_id,email:a.email,full_name:a.full_name,phone_number:a.phone_number,profile_picture_url:a.profile_picture_url,is_verified:a.is_verified,created_at:a.created_at},auth_token:i,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),await s().sync_cart_from_backend()}catch{e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_user_profile:r=>{e(i=>({authentication_state:{...i.authentication_state,current_user:i.authentication_state.current_user?{...i.authentication_state.current_user,...r}:null}}))},add_to_cart:async(r,i,o)=>{const{cart_state:a,authentication_state:c}=s(),u={...r,item_total:wu(r)};let h;if(a.restaurant_id&&a.restaurant_id!==i)h=[u];else{const x=a.items.findIndex(p=>p.menu_item_id===r.menu_item_id);x>=0?(h=[...a.items],h[x]={...h[x],quantity:h[x].quantity+r.quantity,item_total:wu({...h[x],quantity:h[x].quantity+r.quantity})}):h=[...a.items,u]}const f=Rr(h,a.delivery_fee,a.tip,a.applied_discount);if(e(x=>({cart_state:{...x.cart_state,restaurant_id:i,restaurant_name:o,items:h,subtotal:f.subtotal,tax:f.tax,grand_total:f.grand_total,last_updated:new Date().toISOString()}})),c.authentication_status.is_authenticated&&c.auth_token)try{await de.post("https://123local-eats-app.launchpulse.ai/api/cart/items",{menu_item_id:r.menu_item_id,selected_size:r.customizations.size,selected_addons:r.customizations.add_ons,selected_modifications:r.customizations.modifications,special_instructions:r.customizations.special_instructions,quantity:r.quantity},{headers:{Authorization:`Bearer ${c.auth_token}`,"Content-Type":"application/json"}}),await s().sync_cart_from_backend()}catch(x){console.error("Failed to sync cart with backend:",x)}},remove_from_cart:r=>{const{cart_state:i}=s(),o=i.items.filter(a=>a.menu_item_id!==r);if(o.length===0)e(()=>({cart_state:{restaurant_id:null,restaurant_name:null,items:[],order_type:null,delivery_address:null,applied_discount:null,subtotal:0,delivery_fee:0,tax:0,tip:0,grand_total:0,last_updated:new Date().toISOString()}}));else{const a=Rr(o,i.delivery_fee,i.tip,i.applied_discount);e(c=>({cart_state:{...c.cart_state,items:o,subtotal:a.subtotal,tax:a.tax,grand_total:a.grand_total,last_updated:new Date().toISOString()}}))}},update_cart_item:(r,i)=>{const{cart_state:o}=s(),a=o.items.map(u=>{if(u.menu_item_id===r){const h={...u,...i};return{...h,item_total:wu(h)}}return u}),c=Rr(a,o.delivery_fee,o.tip,o.applied_discount);e(u=>({cart_state:{...u.cart_state,items:a,subtotal:c.subtotal,tax:c.tax,grand_total:c.grand_total,last_updated:new Date().toISOString()}}))},clear_cart:()=>{e(()=>({cart_state:{restaurant_id:null,restaurant_name:null,items:[],order_type:null,delivery_address:null,applied_discount:null,subtotal:0,delivery_fee:0,tax:0,tip:0,grand_total:0,last_updated:new Date().toISOString()}}))},apply_discount:r=>{const{cart_state:i}=s(),o=Rr(i.items,i.delivery_fee,i.tip,r);e(a=>({cart_state:{...a.cart_state,applied_discount:r,subtotal:o.subtotal,tax:o.tax,grand_total:o.grand_total,last_updated:new Date().toISOString()}}))},remove_discount:()=>{const{cart_state:r}=s(),i=Rr(r.items,r.delivery_fee,r.tip,null);e(o=>({cart_state:{...o.cart_state,applied_discount:null,subtotal:i.subtotal,tax:i.tax,grand_total:i.grand_total,last_updated:new Date().toISOString()}}))},set_order_type:r=>{const{cart_state:i}=s(),o=r==="delivery"?i.delivery_fee:0,a=Rr(i.items,o,i.tip,i.applied_discount);e(c=>({cart_state:{...c.cart_state,order_type:r,delivery_fee:o,tax:a.tax,grand_total:a.grand_total,last_updated:new Date().toISOString()}}))},set_delivery_address:r=>{e(i=>({cart_state:{...i.cart_state,delivery_address:r,last_updated:new Date().toISOString()}}))},update_tip:r=>{const{cart_state:i}=s(),o=Rr(i.items,i.delivery_fee,r,i.applied_discount);e(a=>({cart_state:{...a.cart_state,tip:r,grand_total:o.grand_total,last_updated:new Date().toISOString()}}))},recalculate_totals:()=>{const{cart_state:r}=s(),i=Rr(r.items,r.delivery_fee,r.tip,r.applied_discount);e(o=>({cart_state:{...o.cart_state,subtotal:i.subtotal,tax:i.tax,grand_total:i.grand_total}}))},sync_cart_from_backend:async()=>{const{authentication_state:r}=s();if(!(!r.authentication_status.is_authenticated||!r.auth_token))try{const o=(await de.get("https://123local-eats-app.launchpulse.ai/api/cart",{headers:{Authorization:`Bearer ${r.auth_token}`}})).data,a=o.items.map(c=>({cart_item_id:c.cart_item_id,menu_item_id:c.menu_item_id,item_name:c.item_name,base_price:c.base_price,customizations:{size:c.selected_size||null,add_ons:c.selected_addons||[],modifications:c.selected_modifications||[],special_instructions:c.special_instructions||null},quantity:c.quantity,item_total:c.item_total_price}));e(()=>({cart_state:{restaurant_id:o.restaurant_id,restaurant_name:o.restaurant_name,items:a,order_type:null,delivery_address:null,applied_discount:o.applied_discount,subtotal:o.subtotal,delivery_fee:o.delivery_fee,tax:o.tax,tip:o.tip,grand_total:o.grand_total,last_updated:new Date().toISOString()}}))}catch(i){console.error("Failed to sync cart from backend:",i)}},set_user_location:(r,i,o,a)=>{e(()=>({user_location:{latitude:r,longitude:i,city:o||null,state:a||null,permission_granted:!0,last_updated:new Date().toISOString()}}))},clear_user_location:()=>{e(()=>({user_location:{latitude:null,longitude:null,city:null,state:null,permission_granted:!1,last_updated:null}}))},grant_location_permission:()=>{e(r=>({user_location:{...r.user_location,permission_granted:!0,last_updated:new Date().toISOString()}}))},deny_location_permission:()=>{e(()=>({user_location:{latitude:null,longitude:null,city:null,state:null,permission_granted:!1,last_updated:new Date().toISOString()}}))},update_filters:r=>{e(i=>({active_filters:{...i.active_filters,...r}}))},clear_filters:()=>{e(()=>({active_filters:{cuisine_types:[],price_min:null,price_max:null,distance_max:null,rating_min:null,dietary_preferences:[],open_now:!1,has_discount:!1,sort_by:"recommended"}}))},set_sort:r=>{e(i=>({active_filters:{...i.active_filters,sort_by:r}}))},add_favorite:r=>{e(i=>({favorites_list:{restaurant_ids:[...i.favorites_list.restaurant_ids,r],last_synced:new Date().toISOString()}}))},remove_favorite:r=>{e(i=>({favorites_list:{restaurant_ids:i.favorites_list.restaurant_ids.filter(o=>o!==r),last_synced:new Date().toISOString()}}))},toggle_favorite:r=>{const{favorites_list:i}=s();i.restaurant_ids.includes(r)?s().remove_favorite(r):s().add_favorite(r)},sync_favorites:r=>{e(()=>({favorites_list:{restaurant_ids:r,last_synced:new Date().toISOString()}}))},set_notifications:r=>{const i=r.filter(o=>!o.is_read).length;e(()=>({notification_state:{notifications:r,unread_count:i}}))},mark_notification_read:r=>{e(i=>({notification_state:{notifications:i.notification_state.notifications.map(o=>o.notification_id===r?{...o,is_read:!0,read_at:new Date().toISOString()}:o),unread_count:Math.max(0,i.notification_state.unread_count-1)}}))},mark_all_read:()=>{e(r=>({notification_state:{notifications:r.notification_state.notifications.map(i=>({...i,is_read:!0,read_at:i.read_at||new Date().toISOString()})),unread_count:0}}))},add_notification:r=>{e(i=>({notification_state:{notifications:[r,...i.notification_state.notifications],unread_count:r.is_read?i.notification_state.unread_count:i.notification_state.unread_count+1}}))},clear_notifications:()=>{e(()=>({notification_state:{notifications:[],unread_count:0}}))},increment_unread_count:()=>{e(r=>({notification_state:{...r.notification_state,unread_count:r.notification_state.unread_count+1}}))},decrement_unread_count:()=>{e(r=>({notification_state:{...r.notification_state,unread_count:Math.max(0,r.notification_state.unread_count-1)}}))}}),{name:"local-eats-storage",partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},cart_state:e.cart_state,user_location:e.user_location,favorites_list:e.favorites_list,notification_state:{unread_count:e.notification_state.unread_count,notifications:[]}})}));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qv=(...e)=>e.filter((s,r,i)=>!!s&&i.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=C.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...u},h)=>C.createElement("svg",{ref:h,...tk,width:s,height:s,stroke:e,strokeWidth:i?Number(r)*24/Number(s):r,className:Qv("lucide",o),...u},[...c.map(([f,x])=>C.createElement(f,x)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,s)=>{const r=C.forwardRef(({className:i,...o},a)=>C.createElement(sk,{ref:a,iconNode:s,className:Qv(`lucide-${ek(e)}`,i),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ye("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ye("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ye("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ye("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ye("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=ye("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ye("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ye("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ye("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ye("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=ye("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ye("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ye("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ye("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ye("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ye("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),kk=()=>{const e=ut(),s=Zs(),r=ar(),i=ce(D=>D.authentication_state.authentication_status.is_authenticated),o=ce(D=>D.authentication_state.current_user),a=ce(D=>D.authentication_state.auth_token),c=ce(D=>D.cart_state.items),u=ce(D=>D.notification_state.unread_count),h=ce(D=>D.active_filters),f=ce(D=>D.user_location.permission_granted),x=ce(D=>D.logout_user),p=c.length,g=[h.cuisine_types.length>0,h.price_min!==null,h.price_max!==null,h.distance_max!==null,h.rating_min!==null,h.dietary_preferences.length>0,h.open_now,h.has_discount].filter(Boolean).length,[_,j]=C.useState(""),[N,w]=C.useState(""),[b,v]=C.useState(null),[k,E]=C.useState(!1),M=C.useRef(null),A=C.useRef(null),W=C.useRef(null);C.useEffect(()=>{const D=setTimeout(()=>{w(_)},300);return()=>clearTimeout(D)},[_]);const{data:G=[]}=Fe({queryKey:["searchSuggestions",N],queryFn:async()=>N.trim()?(await de.get("https://123local-eats-app.launchpulse.ai/api/search/suggestions",{params:{query:N,limit:10}})).data.suggestions||[]:[],enabled:N.length>0,staleTime:6e4}),{data:T}=Fe({queryKey:["recentSearches"],queryFn:async()=>(await de.get("https://123local-eats-app.launchpulse.ai/api/search/recent",{params:{limit:10},headers:a?{Authorization:`Bearer ${a}`}:{}})).data,enabled:i&&k&&_.length===0,staleTime:6e4}),Z=(T==null?void 0:T.searches)||[],{data:I,refetch:P}=Fe({queryKey:["notifications"],queryFn:async()=>(await de.get("https://123local-eats-app.launchpulse.ai/api/notifications",{params:{limit:20,offset:0},headers:{Authorization:`Bearer ${a}`}})).data,enabled:!1,staleTime:3e4}),J=(I==null?void 0:I.notifications)||[],F=Ue({mutationFn:async()=>{await de.delete("https://123local-eats-app.launchpulse.ai/api/search/recent",{headers:{Authorization:`Bearer ${a}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["recentSearches"]})}}),ue=Ue({mutationFn:async D=>{await de.patch(`https://123local-eats-app.launchpulse.ai/api/notifications/${D}/read`,{},{headers:{Authorization:`Bearer ${a}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),ne=Ue({mutationFn:async()=>{await de.patch("https://123local-eats-app.launchpulse.ai/api/notifications/read-all",{},{headers:{Authorization:`Bearer ${a}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),xe=Ue({mutationFn:async()=>{if(a)try{await de.post("https://123local-eats-app.launchpulse.ai/api/auth/logout",{},{headers:{Authorization:`Bearer ${a}`}})}catch(D){console.warn("Logout API call failed, but proceeding with client-side logout:",D)}x()},onSuccess:()=>{e("/")},onError:D=>{console.error("Logout mutation error:",D),e("/")}}),U=D=>{D.preventDefault(),_.trim()&&(e(`/search?query=${encodeURIComponent(_.trim())}`),v(null),E(!1))},O=D=>{D.type==="restaurant"&&D.restaurant_id?e(`/restaurant/${D.restaurant_id}`):e(`/search?query=${encodeURIComponent(D.value)}`),j(""),v(null),E(!1)},H=D=>{e(`/search?query=${encodeURIComponent(D)}`),j(""),v(null),E(!1)},ee=D=>{D.is_read||ue.mutate(D.notification_id),D.action_url&&e(D.action_url),v(null)},me=async()=>{v(null);try{xe.mutate()}catch(D){console.error("Error during logout:",D),x(),e("/")}},fe=D=>{b===D?v(null):(v(D),D==="notifications"&&i&&P())};C.useEffect(()=>{const D=Q=>{const re=Q.target;M.current&&!M.current.contains(re)&&b==="search"&&(v(null),E(!1)),A.current&&!A.current.contains(re)&&b==="notifications"&&v(null),W.current&&!W.current.contains(re)&&b==="user_menu"&&v(null)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[b]),C.useEffect(()=>{const D=Q=>{Q.key==="Escape"&&(v(null),E(!1))};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[]),C.useEffect(()=>{v(null),E(!1)},[s.pathname]);const ve=D=>{switch(D){case"order_update":return t.jsx(em,{className:"w-4 h-4 text-blue-600"});case"promotion":case"discount":return t.jsx(Cu,{className:"w-4 h-4 text-orange-600"});case"badge_earned":return t.jsx(Yh,{className:"w-4 h-4 text-yellow-600"});default:return t.jsx(fo,{className:"w-4 h-4 text-gray-600"})}},ie=D=>{const Q=new Date(D),X=new Date().getTime()-Q.getTime(),$=Math.floor(X/6e4),V=Math.floor($/60),je=Math.floor(V/24);return $<1?"Just now":$<60?`${$}m ago`:V<24?`${V}h ago`:je<7?`${je}d ago`:Q.toLocaleDateString()},le=["/","/search","/favorites","/map"].some(D=>s.pathname.startsWith(D));return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"hidden md:block fixed top-0 left-0 right-0 z-50 bg-white shadow-sm",children:t.jsx("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-16 md:h-[70px]",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs(oe,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-all duration-200 group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity"}),t.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all group-hover:scale-105",children:t.jsx("div",{className:"text-xl",children:""})})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent leading-tight",children:"Local Eats"}),t.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Hidden Gems"})]})]})}),t.jsxs("div",{className:"flex-1 max-w-2xl mx-8 relative",ref:M,children:[t.jsx("form",{onSubmit:U,children:t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"text",placeholder:"Search restaurants, cuisines, dishes...",value:_,onChange:D=>j(D.target.value),onFocus:()=>{E(!0),v("search")},className:"w-full pl-12 pr-12 py-3.5 bg-white border-2 border-gray-200 rounded-xl text-sm font-medium text-gray-900 placeholder:text-gray-400 focus:outline-none focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 hover:border-gray-300 shadow-sm hover:shadow-md transition-all duration-200"}),t.jsx(ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-orange-500 transition-colors"}),_&&t.jsx("button",{type:"button",onClick:()=>{j(""),w("")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-all duration-200",children:t.jsx(Le,{className:"w-4 h-4"})})]})}),b==="search"&&t.jsxs("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-2xl shadow-2xl border-2 border-gray-100 max-h-[450px] overflow-y-auto z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[_.trim()&&G.length>0&&t.jsxs("div",{className:"p-3",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider px-4 py-2.5",children:"Suggestions"}),G.map((D,Q)=>t.jsxs("button",{onClick:()=>O(D),className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 rounded-xl transition-all duration-200 text-left group border border-transparent hover:border-orange-200 hover:shadow-sm",children:[D.type==="restaurant"&&t.jsx(Cu,{className:"w-5 h-5 text-gray-400 group-hover:text-orange-500 flex-shrink-0 transition-colors"}),D.type==="cuisine"&&t.jsx(Yh,{className:"w-5 h-5 text-gray-400 group-hover:text-orange-500 flex-shrink-0 transition-colors"}),D.type==="dish"&&t.jsx(Cu,{className:"w-5 h-5 text-gray-400 group-hover:text-orange-500 flex-shrink-0 transition-colors"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 group-hover:text-orange-600 transition-colors",children:D.value}),t.jsx("span",{className:"text-xs font-semibold text-gray-500 capitalize px-2 py-1 bg-gray-100 rounded-full group-hover:bg-orange-100 group-hover:text-orange-700 transition-colors",children:D.type})]},Q))]}),i&&!_.trim()&&Z.length>0&&t.jsxs("div",{className:"p-3",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recent Searches"}),t.jsx("button",{onClick:()=>F.mutate(),className:"text-xs text-orange-600 hover:text-orange-700 font-bold hover:underline transition-all",children:"Clear All"})]}),Z.map(D=>t.jsxs("button",{onClick:()=>H(D.search_query),className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-gradient-to-r hover:from-orange-50 hover:to-red-50 rounded-xl transition-all duration-200 text-left group border border-transparent hover:border-orange-200 hover:shadow-sm",children:[t.jsx(ss,{className:"w-5 h-5 text-gray-400 group-hover:text-orange-500 flex-shrink-0 transition-colors"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 group-hover:text-orange-600 transition-colors",children:D.search_query})]},D.search_id))]}),!_.trim()&&(!i||Z.length===0)&&t.jsxs("div",{className:"p-10 text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-100 to-red-100 rounded-2xl mb-4",children:t.jsx(ms,{className:"w-8 h-8 text-orange-500"})}),t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Start typing to search restaurants, cuisines, or dishes"})]}),_.trim()&&G.length===0&&t.jsxs("div",{className:"p-10 text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl mb-4",children:t.jsx(ms,{className:"w-8 h-8 text-gray-400"})}),t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"No suggestions found"}),t.jsxs("p",{className:"text-xs text-gray-500",children:['Press Enter to search for "',_,'"']})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(oe,{to:"/map",className:"relative p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Map",children:[t.jsx(it,{className:"w-5 h-5"}),!f&&t.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5",children:t.jsx(kt,{className:"w-4 h-4 text-orange-500"})})]}),le&&t.jsxs("button",{className:"relative p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Filters",children:[t.jsx(pf,{className:"w-5 h-5"}),g>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-600 text-white text-xs font-semibold rounded-full flex items-center justify-center",children:g})]}),i&&t.jsx(oe,{to:"/favorites",className:"relative p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Favorites",children:t.jsx(Et,{className:"w-5 h-5"})}),i&&t.jsxs(oe,{to:"/cart",className:"relative p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Shopping Cart",children:[t.jsx(Bi,{className:"w-5 h-5"}),p>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-600 text-white text-xs font-semibold rounded-full flex items-center justify-center",children:p})]}),i&&t.jsxs("div",{className:"relative",ref:A,children:[t.jsxs("button",{onClick:()=>fe("notifications"),className:"relative p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(fo,{className:"w-5 h-5"}),u>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 text-white text-xs font-semibold rounded-full flex items-center justify-center",children:u>9?"9+":u})]}),b==="notifications"&&t.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 max-h-[500px] overflow-hidden z-50",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),J.some(D=>!D.is_read)&&t.jsx("button",{onClick:()=>ne.mutate(),className:"text-xs text-orange-600 hover:text-orange-700 font-medium",children:"Mark All as Read"})]}),t.jsx("div",{className:"overflow-y-auto max-h-[420px]",children:J.length>0?J.map(D=>t.jsxs("button",{onClick:()=>ee(D),className:`w-full flex items-start space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 text-left ${D.is_read?"":"bg-blue-50"}`,children:[t.jsx("div",{className:"mt-0.5 flex-shrink-0",children:ve(D.notification_type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${D.is_read?"text-gray-700":"font-medium text-gray-900"}`,children:D.message}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ie(D.created_at)})]}),!D.is_read&&t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-2"})]},D.notification_id)):t.jsxs("div",{className:"p-8 text-center text-sm text-gray-500",children:[t.jsx(fo,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{children:"You're all caught up!"})]})}),J.length>0&&t.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:t.jsx(oe,{to:"/notifications",onClick:()=>v(null),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View All Notifications"})})]})]}),i?t.jsxs("div",{className:"relative ml-2",ref:W,children:[t.jsx("button",{onClick:()=>fe("user_menu"),className:"flex items-center space-x-2 p-1.5 hover:bg-gray-50 rounded-lg transition-colors","aria-label":"User Menu",children:o!=null&&o.profile_picture_url?t.jsx("img",{src:o.profile_picture_url,alt:o.full_name,className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}):t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:t.jsx(Do,{className:"w-4 h-4 text-white"})})}),b==="user_menu"&&t.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden z-50",children:[t.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[t.jsx("p",{className:"font-semibold text-gray-900 truncate",children:o==null?void 0:o.full_name}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:o==null?void 0:o.email})]}),t.jsxs("div",{className:"py-2",children:[t.jsxs(oe,{to:"/profile",onClick:()=>v(null),className:"flex items-center space-x-3 px-4 py-2.5 hover:bg-gray-50 transition-colors",children:[t.jsx(Do,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-900",children:"Profile"})]}),t.jsxs(oe,{to:"/order-history",onClick:()=>v(null),className:"flex items-center space-x-3 px-4 py-2.5 hover:bg-gray-50 transition-colors",children:[t.jsx(em,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-900",children:"Order History"})]}),t.jsxs(oe,{to:"/favorites",onClick:()=>v(null),className:"flex items-center space-x-3 px-4 py-2.5 hover:bg-gray-50 transition-colors",children:[t.jsx(Et,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-900",children:"Favorites"})]}),t.jsxs(oe,{to:"/settings",onClick:()=>v(null),className:"flex items-center space-x-3 px-4 py-2.5 hover:bg-gray-50 transition-colors",children:[t.jsx(vk,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-900",children:"Settings"})]})]}),t.jsx("div",{className:"border-t border-gray-200",children:t.jsxs("button",{onClick:me,disabled:xe.isPending,className:"w-full flex items-center space-x-3 px-4 py-2.5 hover:bg-gray-50 transition-colors text-red-600",children:[t.jsx(uk,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:xe.isPending?"Logging out...":"Log Out"})]})})]})]}):t.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[t.jsx(oe,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:"Log In"}),t.jsx(oe,{to:"/signup",className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg transition-colors shadow-sm",children:"Sign Up"})]})]})]})})}),t.jsx("div",{className:"hidden md:block h-16 md:h-[70px]"})]})},Ck=()=>{const e=ce(p=>p.authentication_state.authentication_status.is_authenticated),s=ce(p=>p.favorites_list.restaurant_ids.length),r=ce(p=>p.user_location.permission_granted),i=Zs(),o=ut(),[a,c]=C.useState(!1),u=p=>{const g=i.pathname;return p==="/"?g==="/":g.startsWith(p)},h=p=>{p.preventDefault(),e?o("/favorites"):c(!0)},f=p=>{p.preventDefault(),o(e?"/profile":"/login")},x=[{id:"home",label:"Home",icon:Bc,path:"/",action:null},{id:"search",label:"Search",icon:ms,path:"/search",action:null},{id:"map",label:"Map",icon:it,path:"/map",action:null,showBadge:!r,badgeType:"warning"},{id:"favorites",label:"Favorites",icon:Et,path:"/favorites",action:h,showBadge:e&&s>0,badgeType:"count",badgeCount:s},{id:"profile",label:e?"Profile":"Account",icon:Do,path:e?"/profile":"/login",action:f}];return t.jsxs(t.Fragment,{children:[t.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg",children:t.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:x.map(p=>{const g=p.icon,_=u(p.path),j=t.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full h-full min-w-[44px] min-h-[44px] transition-colors",children:[t.jsxs("div",{className:"relative",children:[t.jsx(g,{className:`transition-all duration-200 ${_?"text-orange-600":"text-gray-600"}`,size:24,strokeWidth:_?2.5:2,fill:_&&p.id==="favorites"&&e?"currentColor":"none"}),p.showBadge&&p.badgeType==="count"&&p.badgeCount&&p.badgeCount>0&&t.jsx("span",{className:"absolute -top-1 -right-2 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-[10px] font-bold text-white bg-red-600 rounded-full",children:p.badgeCount>99?"99+":p.badgeCount}),p.showBadge&&p.badgeType==="warning"&&t.jsx("span",{className:"absolute -top-1 -right-2 flex items-center justify-center w-[18px] h-[18px]",children:t.jsx(kt,{className:"text-orange-500",size:14})})]}),t.jsx("span",{className:`text-[11px] mt-1 font-medium transition-colors ${_?"text-orange-600":"text-gray-600"}`,children:p.label})]});return p.action?t.jsx("button",{onClick:p.action,className:"flex-1 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-inset rounded-lg","aria-label":p.label,children:j},p.id):t.jsx(oe,{to:p.path,className:"flex-1 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-inset rounded-lg","aria-label":p.label,children:j},p.id)})})}),a&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50 px-4",onClick:()=>c(!1),children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 relative",onClick:p=>p.stopPropagation(),children:[t.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 rounded","aria-label":"Close modal",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx(Et,{className:"text-orange-600",size:32})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join Local Eats"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Sign up to save your favorite restaurants and unlock exclusive features"}),t.jsxs("div",{className:"text-left mb-6 space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Save favorite restaurants for quick access"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Place orders in seconds"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Write reviews and earn badges"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Get personalized recommendations"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm text-gray-700",children:"Access exclusive discounts"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(oe,{to:"/signup",onClick:()=>c(!1),className:"block w-full px-6 py-3 bg-orange-600 text-white font-semibold rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-4 focus:ring-orange-100 transition-all duration-200",children:"Sign Up"}),t.jsx(oe,{to:"/login",onClick:()=>c(!1),className:"block w-full px-6 py-3 text-orange-600 font-semibold hover:bg-orange-50 rounded-lg transition-colors duration-200",children:"Log In"}),t.jsx("button",{onClick:()=>c(!1),className:"w-full text-sm text-gray-500 hover:text-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 rounded",children:"Continue as Guest"})]})]})]})})]})},Sk=()=>{const e=C.useMemo(()=>new Date().getFullYear(),[]),s=C.useMemo(()=>{const r=["Oak Street","Main Street","Elm Avenue","Maple Drive","Cedar Lane","Pine Road","Birch Boulevard","Willow Way","Cherry Street","Ash Avenue"],i=["Dublin","Cork","Galway","Limerick","Waterford","Kilkenny","Sligo","Drogheda"],o=Math.floor(Math.random()*999)+1,a=r[Math.floor(Math.random()*r.length)],c=i[Math.floor(Math.random()*i.length)];return`${o} ${a}, ${c}, Ireland`},[]);return t.jsxs("footer",{className:"bg-gray-950 text-gray-300 border-t border-gray-800 font-sans",children:[t.jsx("div",{className:"bg-gray-900/50 py-12 border-b border-gray-800",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"bg-orange-500/10 p-2 rounded-lg",children:t.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),t.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:"Local Eats"})]}),t.jsx("p",{className:"text-gray-400 max-w-md text-lg",children:"Delivering the best local food right to your doorstep. fast, fresh, and supporting your community."})]}),t.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-2xl border border-gray-700/50",children:[t.jsx("h4",{className:"text-white font-semibold mb-2",children:"Subscribe to our newsletter"}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Get the latest offers and updates delivered to your inbox."}),t.jsxs("form",{className:"flex gap-2",onSubmit:r=>r.preventDefault(),children:[t.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 bg-gray-950 border border-gray-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors"}),t.jsxs("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:["Subscribe ",t.jsx(yk,{size:16})]})]})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-white font-semibold text-sm uppercase tracking-wider border-b border-gray-800 pb-2 inline-block",children:"Discover"}),t.jsx("ul",{className:"space-y-3",children:[{name:"Home",path:"/"},{name:"Restaurants",path:"/search"},{name:"Local Picks",path:"/local-picks"},{name:"Favorites",path:"/favorites"},{name:"Latest Offers",path:"/search?sort=rating"}].map(r=>t.jsx("li",{children:t.jsxs(oe,{to:r.path,className:"text-gray-400 hover:text-orange-500 transition-colors text-sm flex items-center gap-2 group",children:[t.jsx(hg,{size:14,className:"text-gray-600 group-hover:text-orange-500 transition-colors"}),t.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:r.name})]})},r.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-white font-semibold text-sm uppercase tracking-wider border-b border-gray-800 pb-2 inline-block",children:"My Account"}),t.jsx("ul",{className:"space-y-3",children:[{name:"Profile",path:"/profile"},{name:"Orders",path:"/order-history"},{name:"Settings",path:"/settings"},{name:"Notifications",path:"/notifications"},{name:"Help Center",path:"/support"}].map(r=>t.jsx("li",{children:t.jsxs(oe,{to:r.path,className:"text-gray-400 hover:text-orange-500 transition-colors text-sm flex items-center gap-2 group",children:[t.jsx(hg,{size:14,className:"text-gray-600 group-hover:text-orange-500 transition-colors"}),t.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:r.name})]})},r.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-white font-semibold text-sm uppercase tracking-wider border-b border-gray-800 pb-2 inline-block",children:"Contact Us"}),t.jsxs("ul",{className:"space-y-4",children:[t.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-400",children:[t.jsx(it,{size:18,className:"text-orange-500 shrink-0 mt-0.5"}),t.jsx("span",{children:s})]}),t.jsx("li",{children:t.jsxs("a",{href:"tel:+3531234567",className:"flex items-center gap-3 text-sm text-gray-400 hover:text-orange-500 transition-colors",children:[t.jsx(da,{size:18,className:"text-orange-500 shrink-0"}),t.jsx("span",{children:"+353 1 234 567"})]})}),t.jsx("li",{children:t.jsxs("a",{href:"mailto:support@localeats.com",className:"flex items-center gap-3 text-sm text-gray-400 hover:text-orange-500 transition-colors",children:[t.jsx(ca,{size:18,className:"text-orange-500 shrink-0"}),t.jsx("span",{children:"support@localeats.com"})]})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-white font-semibold text-sm uppercase tracking-wider border-b border-gray-800 pb-2 inline-block",children:"Get the App"}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Order on the go with our top-rated app."}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{className:"w-full bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-gray-600 text-white p-3 rounded-xl flex items-center gap-3 transition-all group",children:[t.jsx("div",{className:"bg-white text-black p-1 rounded-full",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:t.jsx("path",{d:"M17.6 10.9l1.6-1c.4-.3.5-.8.2-1.2l-2.3-3.9c-.3-.4-.8-.5-1.2-.3l-1.9 1.1c-.9-.6-2-.9-3-.9s-2.1.3-3 .9L6.1 4.5c-.4-.2-.9-.1-1.2.3L2.6 8.7c-.3.4-.2.9.2 1.2l1.6 1c-.1.3-.1.7-.1 1.1s0 .8.1 1.1l-1.6 1c-.4.3-.5.8-.2 1.2l2.3 3.9c.3.4.8.5 1.2.3l1.9-1.1c.9.6 2 .9 3 .9s2.1-.3 3-.9l1.9 1.1c.4.2.9.1 1.2-.3l2.3-3.9c.3-.4.2-.9-.2-1.2l-1.6-1c.1-.3.1-.7.1-1.1s0-.8-.1-1.1zM12 15.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"})})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-[10px] uppercase text-gray-400 font-semibold leading-none",children:"Download on the"}),t.jsx("div",{className:"text-sm font-bold leading-none mt-1",children:"App Store"})]})]}),t.jsxs("button",{className:"w-full bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-gray-600 text-white p-3 rounded-xl flex items-center gap-3 transition-all group",children:[t.jsx("div",{className:"bg-white text-black p-1 rounded-full",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:t.jsx("path",{d:"M3 20.5v-17c0-.8.7-1.5 1.5-1.5.2 0 .4.1.6.2l14 8.5c.5.3.8.8.8 1.3 0 .6-.3 1.1-.8 1.3l-14 8.5c-.2.1-.4.2-.6.2-.8 0-1.5-.7-1.5-1.5z"})})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-[10px] uppercase text-gray-400 font-semibold leading-none",children:"Get it on"}),t.jsx("div",{className:"text-sm font-bold leading-none mt-1",children:"Google Play"})]})]})]})]})]}),t.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800 flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",e," Local Eats. All rights reserved."]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsx(oe,{to:"/privacy",className:"hover:text-orange-500 transition-colors",children:"Privacy"}),t.jsx("span",{className:"text-gray-700",children:""}),t.jsx(oe,{to:"/terms",className:"hover:text-orange-500 transition-colors",children:"Terms"}),t.jsx("span",{className:"text-gray-700",children:""}),t.jsx(oe,{to:"/cookies",className:"hover:text-orange-500 transition-colors",children:"Cookies"})]})]}),t.jsx("div",{className:"flex items-center gap-6",children:t.jsx("div",{className:"flex items-center gap-4",children:[ak,bk,lk,ck,Nk].map((r,i)=>t.jsx("a",{href:"#",className:"bg-gray-900 p-2 rounded-full text-gray-400 hover:text-white hover:bg-orange-500 transition-all hover:-translate-y-1",children:t.jsx(r,{size:18})},i))})})]})]})]})};function n_(e){var s,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(s=0;s<o;s++)e[s]&&(r=n_(e[s]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Pk(){for(var e,s,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(s=n_(e))&&(i&&(i+=" "),i+=s);return i}const xf="-",Lk=e=>{const s=Mk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{const u=c.split(xf);return u[0]===""&&u.length!==1&&u.shift(),i_(u,s)||Ek(c)},getConflictingClassGroupIds:(c,u)=>{const h=r[c]||[];return u&&i[c]?[...h,...i[c]]:h}}},i_=(e,s)=>{var c;if(e.length===0)return s.classGroupId;const r=e[0],i=s.nextPart.get(r),o=i?i_(e.slice(1),i):void 0;if(o)return o;if(s.validators.length===0)return;const a=e.join(xf);return(c=s.validators.find(({validator:u})=>u(a)))==null?void 0:c.classGroupId},xg=/^\[(.+)\]$/,Ek=e=>{if(xg.test(e)){const s=xg.exec(e)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},Mk=e=>{const{theme:s,prefix:r}=e,i={nextPart:new Map,validators:[]};return Rk(Object.entries(e.classGroups),r).forEach(([a,c])=>{sm(c,i,a,s)}),i},sm=(e,s,r,i)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?s:gg(s,o);a.classGroupId=r;return}if(typeof o=="function"){if(Tk(o)){sm(o(i),s,r,i);return}s.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,c])=>{sm(c,gg(s,a),r,i)})})},gg=(e,s)=>{let r=e;return s.split(xf).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},Tk=e=>e.isThemeGetter,Rk=(e,s)=>s?e.map(([r,i])=>{const o=i.map(a=>typeof a=="string"?s+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,u])=>[s+c,u])):a);return[r,o]}):e,zk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,i=new Map;const o=(a,c)=>{r.set(a,c),s++,s>e&&(s=0,i=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return o(a,c),c},set(a,c){r.has(a)?r.set(a,c):o(a,c)}}},a_="!",Ok=e=>{const{separator:s,experimentalParseClassName:r}=e,i=s.length===1,o=s[0],a=s.length,c=u=>{const h=[];let f=0,x=0,p;for(let w=0;w<u.length;w++){let b=u[w];if(f===0){if(b===o&&(i||u.slice(w,w+a)===s)){h.push(u.slice(x,w)),x=w+a;continue}if(b==="/"){p=w;continue}}b==="["?f++:b==="]"&&f--}const g=h.length===0?u:u.substring(x),_=g.startsWith(a_),j=_?g.substring(1):g,N=p&&p>x?p-x:void 0;return{modifiers:h,hasImportantModifier:_,baseClassName:j,maybePostfixModifierPosition:N}};return r?u=>r({className:u,parseClassName:c}):c},Ak=e=>{if(e.length<=1)return e;const s=[];let r=[];return e.forEach(i=>{i[0]==="["?(s.push(...r.sort(),i),r=[]):r.push(i)}),s.push(...r.sort()),s},Ik=e=>({cache:zk(e.cacheSize),parseClassName:Ok(e),...Lk(e)}),Fk=/\s+/,Dk=(e,s)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:o}=s,a=[],c=e.trim().split(Fk);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{modifiers:x,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:_}=r(f);let j=!!_,N=i(j?g.substring(0,_):g);if(!N){if(!j){u=f+(u.length>0?" "+u:u);continue}if(N=i(g),!N){u=f+(u.length>0?" "+u:u);continue}j=!1}const w=Ak(x).join(":"),b=p?w+a_:w,v=b+N;if(a.includes(v))continue;a.push(v);const k=o(N,j);for(let E=0;E<k.length;++E){const M=k[E];a.push(b+M)}u=f+(u.length>0?" "+u:u)}return u};function Bk(){let e=0,s,r,i="";for(;e<arguments.length;)(s=arguments[e++])&&(r=o_(s))&&(i&&(i+=" "),i+=r);return i}const o_=e=>{if(typeof e=="string")return e;let s,r="";for(let i=0;i<e.length;i++)e[i]&&(s=o_(e[i]))&&(r&&(r+=" "),r+=s);return r};function Uk(e,...s){let r,i,o,a=c;function c(h){const f=s.reduce((x,p)=>p(x),e());return r=Ik(f),i=r.cache.get,o=r.cache.set,a=u,u(h)}function u(h){const f=i(h);if(f)return f;const x=Dk(h,r);return o(h,x),x}return function(){return a(Bk.apply(null,arguments))}}const Je=e=>{const s=r=>r[e]||[];return s.isThemeGetter=!0,s},l_=/^\[(?:([a-z-]+):)?(.+)\]$/i,$k=/^\d+\/\d+$/,Hk=new Set(["px","full","screen"]),Wk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ur=e=>Ui(e)||Hk.has(e)||$k.test(e),zr=e=>va(e,"length",s6),Ui=e=>!!e&&!Number.isNaN(Number(e)),Su=e=>va(e,"number",Ui),Ka=e=>!!e&&Number.isInteger(Number(e)),Qk=e=>e.endsWith("%")&&Ui(e.slice(0,-1)),Re=e=>l_.test(e),Or=e=>Wk.test(e),Kk=new Set(["length","size","percentage"]),Yk=e=>va(e,Kk,c_),Jk=e=>va(e,"position",c_),Xk=new Set(["image","url"]),e6=e=>va(e,Xk,n6),t6=e=>va(e,"",r6),Ya=()=>!0,va=(e,s,r)=>{const i=l_.exec(e);return i?i[1]?typeof s=="string"?i[1]===s:s.has(i[1]):r(i[2]):!1},s6=e=>Zk.test(e)&&!qk.test(e),c_=()=>!1,r6=e=>Vk.test(e),n6=e=>Gk.test(e),i6=()=>{const e=Je("colors"),s=Je("spacing"),r=Je("blur"),i=Je("brightness"),o=Je("borderColor"),a=Je("borderRadius"),c=Je("borderSpacing"),u=Je("borderWidth"),h=Je("contrast"),f=Je("grayscale"),x=Je("hueRotate"),p=Je("invert"),g=Je("gap"),_=Je("gradientColorStops"),j=Je("gradientColorStopPositions"),N=Je("inset"),w=Je("margin"),b=Je("opacity"),v=Je("padding"),k=Je("saturate"),E=Je("scale"),M=Je("sepia"),A=Je("skew"),W=Je("space"),G=Je("translate"),T=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Re,s],P=()=>[Re,s],J=()=>["",ur,zr],F=()=>["auto",Ui,Re],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Re],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ui,Re];return{cacheSize:500,separator:":",theme:{colors:[Ya],spacing:[ur,zr],blur:["none","",Or,Re],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Or,Re],borderSpacing:P(),borderWidth:J(),contrast:ee(),grayscale:O(),hueRotate:ee(),invert:O(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Qk,zr],inset:I(),margin:I(),opacity:ee(),padding:P(),saturate:ee(),scale:ee(),sepia:O(),skew:ee(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[Or]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Re]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ka,Re]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Ka,Re]}],"grid-cols":[{"grid-cols":[Ya]}],"col-start-end":[{col:["auto",{span:["full",Ka,Re]},Re]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ya]}],"row-start-end":[{row:["auto",{span:[Ka,Re]},Re]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,s]}],"min-w":[{"min-w":[Re,s,"min","max","fit"]}],"max-w":[{"max-w":[Re,s,"none","full","min","max","fit","prose",{screen:[Or]},Or]}],h:[{h:[Re,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Or,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Su]}],"font-family":[{font:[Ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",Ui,Su]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ur,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ur,zr]}],"underline-offset":[{"underline-offset":["auto",ur,Re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),Jk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ne()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ur,Re]}],"outline-w":[{outline:[ur,zr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ur,zr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Or,t6]}],"shadow-color":[{shadow:[Ya]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Or,Re]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ka,Re]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ur,zr,Su]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a6=Uk(i6);function o6(...e){return a6(Pk(e))}const d_=C.forwardRef(({className:e,type:s,...r},i)=>t.jsx("input",{type:s,className:o6("flex h-10 w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-neutral-800 dark:bg-neutral-950 dark:ring-offset-neutral-950 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",e),ref:i,...r}));d_.displayName="Input";const l6=async e=>{const{data:s}=await de.get("https://123local-eats-app.launchpulse.ai/api/weekly-picks",{params:e});return s},c6=async(e,s)=>{const{data:r}=await de.get("https://123local-eats-app.launchpulse.ai/api/recommendations",{headers:{Authorization:`Bearer ${e}`},params:{limit:10,...s}});return r},d6=async e=>{const{data:s}=await de.get("https://123local-eats-app.launchpulse.ai/api/restaurants",{params:e});return s},u6=async(e,s)=>{const{data:r}=await de.post("https://123local-eats-app.launchpulse.ai/api/favorites",{restaurant_id:e},{headers:{Authorization:`Bearer ${s}`}});return r},h6=async(e,s)=>{const{data:r}=await de.delete(`https://123local-eats-app.launchpulse.ai/api/favorites/${e}`,{headers:{Authorization:`Bearer ${s}`}});return r},m6=async(e,s)=>{const{data:r}=await de.post("https://123local-eats-app.launchpulse.ai/api/recommendations/dismiss",{restaurant_id:e},{headers:{Authorization:`Bearer ${s}`}});return r},Pu=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden animate-pulse",children:[t.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-200 relative overflow-hidden",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})}),t.jsxs("div",{className:"p-6 space-y-3",children:[t.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-lg w-3/4 relative overflow-hidden",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-full w-20 relative overflow-hidden",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})}),t.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-full w-20 relative overflow-hidden",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-5 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded w-24 relative overflow-hidden",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})}),t.jsx("div",{className:"h-5 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded w-16 relative overflow-hidden",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"})})]})]})]}),f6=()=>{const e=ut(),[s,r]=gs(),i=ar(),o=ce(B=>B.authentication_state.authentication_status.is_authenticated),a=ce(B=>B.authentication_state.auth_token),c=ce(B=>B.user_location),u=ce(B=>B.favorites_list.restaurant_ids),h=ce(B=>B.toggle_favorite),[f,x]=C.useState(!1),[p,g]=C.useState(()=>sessionStorage.getItem("hero_dismissed")==="true"),[_,j]=C.useState(()=>sessionStorage.getItem("cta_section_dismissed")==="true"),[N,w]=C.useState(""),[b,v]=C.useState(!1),[k,E]=C.useState(""),[M,A]=C.useState(!1),[W,G]=C.useState(!1),T="WELCOME20",Z=C.useMemo(()=>{var B,ge;return{cuisine_types:((B=s.get("cuisine_types"))==null?void 0:B.split(",").filter(Boolean))||[],price_min:s.get("price_min")?Number(s.get("price_min")):null,price_max:s.get("price_max")?Number(s.get("price_max")):null,distance_max:s.get("distance_max")?Number(s.get("distance_max")):null,rating_min:s.get("rating_min")?Number(s.get("rating_min")):null,dietary_preferences:((ge=s.get("dietary_preferences"))==null?void 0:ge.split(",").filter(Boolean))||[],open_now:s.get("open_now")==="true",has_discount:s.get("has_discount")==="true"}},[s]),[I,P]=C.useState(Z),[J,F]=C.useState(s.get("sort_by")||"recommended"),[ue,ne]=C.useState(Number(s.get("page"))||1);C.useEffect(()=>{P(Z)},[Z]),C.useEffect(()=>{const B=sessionStorage.getItem("discount_popup_shown");if(!o&&!B){const ge=setTimeout(()=>{A(!0),sessionStorage.setItem("discount_popup_shown","true")},3e3);return()=>clearTimeout(ge)}},[o]);const{data:xe,isLoading:U}=Fe({queryKey:["weeklyPicks",c.latitude,c.longitude],queryFn:()=>l6({latitude:c.permission_granted&&c.latitude||void 0,longitude:c.permission_granted&&c.longitude||void 0}),staleTime:30*60*1e3,retry:1}),{data:O,isLoading:H,refetch:ee}=Fe({queryKey:["recommendations",c.latitude,c.longitude],queryFn:()=>c6(a,{latitude:c.permission_granted&&c.latitude||void 0,longitude:c.permission_granted&&c.longitude||void 0}),enabled:o&&!!a,staleTime:15*60*1e3,retry:1}),me=C.useMemo(()=>({cuisine_types:I.cuisine_types.length>0?I.cuisine_types.join(","):void 0,price_min:I.price_min||void 0,price_max:I.price_max||void 0,distance_max:I.distance_max||void 0,rating_min:I.rating_min||void 0,dietary_preferences:I.dietary_preferences.length>0?I.dietary_preferences.join(","):void 0,open_now:I.open_now||void 0,has_discount:I.has_discount||void 0,sort_by:J,latitude:c.permission_granted&&c.latitude||void 0,longitude:c.permission_granted&&c.longitude||void 0,limit:20,offset:(ue-1)*20}),[I,J,ue,c]),{data:fe,isLoading:ve}=Fe({queryKey:["restaurants",me],queryFn:()=>d6(me),staleTime:5*60*1e3,retry:1}),ie=Ue({mutationFn:({restaurant_id:B,isFavorited:ge})=>{if(!a)throw new Error("Not authenticated");return ge?h6(B,a):u6(B,a)},onMutate:async({restaurant_id:B})=>{h(B)},onError:(B,{restaurant_id:ge})=>{h(ge),console.error("Favorite toggle error:",B)},onSuccess:()=>{i.invalidateQueries({queryKey:["favorites"]})}}),le=Ue({mutationFn:B=>{if(!a)throw new Error("Not authenticated");return m6(B,a)},onSuccess:()=>{ee()}}),D=async B=>{if(B.preventDefault(),E(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)){E("Please enter a valid email address");return}try{await new Promise(Te=>setTimeout(Te,1e3)),v(!0),w(""),setTimeout(()=>{v(!1)},5e3)}catch{E("Something went wrong. Please try again.")}},Q=(B,ge)=>{if(ge.preventDefault(),ge.stopPropagation(),!o){alert("Please sign in to save favorites"),e("/login");return}const Te=u.includes(B);ie.mutate({restaurant_id:B,isFavorited:Te})},re=(B,ge)=>{ge.preventDefault(),ge.stopPropagation(),le.mutate(B)},X=()=>{const B=new URLSearchParams;I.cuisine_types.length>0&&B.set("cuisine_types",I.cuisine_types.join(",")),I.price_min&&B.set("price_min",String(I.price_min)),I.price_max&&B.set("price_max",String(I.price_max)),I.distance_max&&B.set("distance_max",String(I.distance_max)),I.rating_min&&B.set("rating_min",String(I.rating_min)),I.dietary_preferences.length>0&&B.set("dietary_preferences",I.dietary_preferences.join(",")),I.open_now&&B.set("open_now","true"),I.has_discount&&B.set("has_discount","true"),J!=="recommended"&&B.set("sort_by",J),r(B),x(!1),ne(1)},$=()=>{P({cuisine_types:[],price_min:null,price_max:null,distance_max:null,rating_min:null,dietary_preferences:[],open_now:!1,has_discount:!1}),F("recommended"),r(new URLSearchParams),ne(1)},V=(B,ge)=>{const Te={...I};B==="cuisine_types"&&ge?Te.cuisine_types=Te.cuisine_types.filter(Ve=>Ve!==ge):B==="dietary_preferences"&&ge?Te.dietary_preferences=Te.dietary_preferences.filter(Ve=>Ve!==ge):B==="price_min"||B==="price_max"||B==="distance_max"||B==="rating_min"?Te[B]=null:(B==="open_now"||B==="has_discount")&&(Te[B]=!1),P(Te);const bt=new URLSearchParams(s);if(B==="cuisine_types"){const Ve=Te.cuisine_types;Ve.length>0?bt.set("cuisine_types",Ve.join(",")):bt.delete("cuisine_types")}else if(B==="dietary_preferences"){const Ve=Te.dietary_preferences;Ve.length>0?bt.set("dietary_preferences",Ve.join(",")):bt.delete("dietary_preferences")}else bt.delete(B);r(bt),ne(1)},je=B=>{const ge={...I};switch(B){case"near_me":ge.distance_max=ge.distance_max===2?null:2;break;case"open_now":ge.open_now=!ge.open_now;break;case"highly_rated":ge.rating_min=ge.rating_min===4?null:4;break;case"best_deals":ge.has_discount=!ge.has_discount;break}P(ge);const Te=new URLSearchParams(s);ge.distance_max?Te.set("distance_max",String(ge.distance_max)):Te.delete("distance_max"),ge.open_now?Te.set("open_now","true"):Te.delete("open_now"),ge.rating_min?Te.set("rating_min",String(ge.rating_min)):Te.delete("rating_min"),ge.has_discount?Te.set("has_discount","true"):Te.delete("has_discount"),r(Te),ne(1)},Qe=()=>{ne(ge=>ge+1);const B=new URLSearchParams(s);B.set("page",String(ue+1)),r(B)},$e=()=>{g(!0),sessionStorage.setItem("hero_dismissed","true")},Se=()=>{j(!0),sessionStorage.setItem("cta_section_dismissed","true")},vs=async()=>{try{await navigator.clipboard.writeText(T),G(!0),setTimeout(()=>G(!1),2e3)}catch(B){console.error("Failed to copy discount code:",B)}},Ht=()=>{A(!1)},Tt=C.useMemo(()=>{let B=0;return I.cuisine_types.length>0&&(B+=I.cuisine_types.length),(I.price_min||I.price_max)&&B++,I.distance_max&&B++,I.rating_min&&B++,I.dietary_preferences.length>0&&(B+=I.dietary_preferences.length),I.open_now&&B++,I.has_discount&&B++,B},[I]);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50",children:[!o&&!p&&t.jsxs("section",{className:"relative bg-gradient-to-r from-orange-600 via-red-500 to-red-600 text-white py-24 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-25 scale-110 animate-slow-zoom",style:{backgroundImage:"url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=1600&q=80')",filter:"brightness(0.8) contrast(1.1)"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/95 via-red-500/90 to-red-600/95"}),t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMDUiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"})]}),t.jsx("button",{onClick:$e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-all duration-200 hover:rotate-90 z-10 backdrop-blur-sm","aria-label":"Dismiss hero section",children:t.jsx(Le,{className:"w-5 h-5"})}),t.jsxs("div",{className:"max-w-7xl mx-auto text-center relative z-10",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 mb-6 px-5 py-2.5 bg-white/20 backdrop-blur-md rounded-full text-sm font-bold animate-bounce shadow-xl border border-white/30",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{children:"New users get 20% off first order"})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-extrabold mb-6 leading-tight drop-shadow-2xl",children:["Discover Hidden Gem",t.jsx("br",{}),t.jsx("span",{className:"bg-gradient-to-r from-yellow-200 to-orange-200 bg-clip-text text-transparent",children:"Restaurants"})]}),t.jsx("p",{className:"text-xl md:text-2xl mb-12 text-orange-50 max-w-3xl mx-auto leading-relaxed drop-shadow-lg",children:"Support local eateries, earn rewards, and enjoy exclusive deals from your neighborhood's best kept secrets"}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:[t.jsxs(oe,{to:"/signup",className:"inline-flex items-center px-8 py-4 bg-white text-orange-600 rounded-xl font-bold text-lg hover:bg-orange-50 transition-all duration-200 shadow-2xl hover:shadow-3xl transform hover:scale-105 active:scale-95 group",children:[t.jsx("span",{children:"Get Started Free"}),t.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),t.jsx(oe,{to:"/search",className:"inline-flex items-center px-8 py-4 bg-white/10 border-2 border-white/50 text-white rounded-xl font-semibold text-lg hover:bg-white/20 transition-all duration-200 backdrop-blur-md shadow-xl",children:"Browse Restaurants"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-semibold",children:"Local Favorites"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-semibold",children:"Exclusive Deals"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-semibold",children:"Earn Rewards"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-semibold",children:"Fast Delivery"})]})]})]})]}),t.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-orange-50 via-white to-red-50 border-y border-gray-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmN2E0NSIgc3Ryb2tlLW9wYWNpdHk9IjAuMDUiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-40"}),t.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 mb-4 px-4 py-2 bg-gradient-to-r from-orange-100 to-red-100 rounded-full",children:[t.jsx(ro,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm font-semibold text-orange-800",children:"Our Impact"})]}),t.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4",children:"Supporting Local Communities"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of food lovers discovering hidden gems and making a real difference in their neighborhoods"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",children:[t.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-300",children:[t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow",children:t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),t.jsx("div",{className:"text-5xl md:text-6xl font-black bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-3 animate-pulse",children:"1,200+"}),t.jsx("div",{className:"text-base md:text-lg text-gray-700 font-semibold",children:"Local Restaurants"}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Across 50 cities"})]}),t.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-300",children:[t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow",children:t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),t.jsx("div",{className:"text-5xl md:text-6xl font-black bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-3 animate-pulse",children:"250K+"}),t.jsx("div",{className:"text-base md:text-lg text-gray-700 font-semibold",children:"Active Users"}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Monthly food lovers"})]}),t.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-300",children:[t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow",children:t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),t.jsx("div",{className:"text-5xl md:text-6xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-3 animate-pulse",children:"2M+"}),t.jsx("div",{className:"text-base md:text-lg text-gray-700 font-semibold",children:"Orders Delivered"}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"With 99% satisfaction"})]}),t.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-300",children:[t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-3xl shadow-xl hover:shadow-2xl transition-shadow",children:t.jsx(nt,{className:"w-10 h-10 text-white fill-white"})})}),t.jsx("div",{className:"text-5xl md:text-6xl font-black bg-gradient-to-r from-yellow-600 to-amber-600 bg-clip-text text-transparent mb-3 animate-pulse",children:"4.8"}),t.jsx("div",{className:"text-base md:text-lg text-gray-700 font-semibold",children:"Platform Rating"}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"From 50K+ reviews"})]})]}),t.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 md:p-12 border-2 border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[t.jsxs("div",{className:"text-center group hover:scale-105 transition-transform duration-300",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[t.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-100 to-red-100 rounded-2xl group-hover:shadow-lg transition-shadow",children:t.jsx(ro,{className:"w-7 h-7 text-orange-600"})}),t.jsx("span",{className:"text-4xl md:text-5xl font-black text-gray-900",children:"$12M+"})]}),t.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Supporting local businesses annually"}),t.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 text-green-600 text-sm font-semibold",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),"+78% this year"]})]}),t.jsxs("div",{className:"text-center group hover:scale-105 transition-transform duration-300",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[t.jsx("div",{className:"p-3 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl group-hover:shadow-lg transition-shadow",children:t.jsx(ss,{className:"w-7 h-7 text-green-600"})}),t.jsx("span",{className:"text-4xl md:text-5xl font-black text-gray-900",children:"22 min"})]}),t.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Average delivery time"}),t.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 text-green-600 text-sm font-semibold",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"8 min faster than average"]})]}),t.jsxs("div",{className:"text-center group hover:scale-105 transition-transform duration-300",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[t.jsx("div",{className:"p-3 bg-gradient-to-br from-red-100 to-pink-100 rounded-2xl group-hover:shadow-lg transition-shadow",children:t.jsx(On,{className:"w-7 h-7 text-red-600"})}),t.jsx("span",{className:"text-4xl md:text-5xl font-black text-gray-900",children:"25%"})]}),t.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"Average savings with exclusive deals"}),t.jsxs("div",{className:"mt-3 inline-flex items-center gap-1 text-orange-600 text-sm font-semibold",children:[t.jsx(Qa,{className:"w-4 h-4"}),"50+ new deals weekly"]})]})]}),t.jsx("div",{className:"mt-12 pt-12 border-t-2 border-gray-100",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-black text-orange-600 mb-2",children:"95%"}),t.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Customer Retention Rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-black text-green-600 mb-2",children:"3.2M"}),t.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Community Reviews"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-black text-blue-600 mb-2",children:"$45"}),t.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Average Order Value"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-black text-purple-600 mb-2",children:"4.2"}),t.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Orders Per User/Month"})]})]})})]}),t.jsxs("div",{className:"mt-16 text-center",children:[t.jsx("p",{className:"text-gray-500 text-sm mb-6 font-medium tracking-wider",children:"TRUSTED BY FOOD LOVERS EVERYWHERE"}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 hover:text-orange-600 transition-colors",children:[t.jsxs("div",{className:"flex -space-x-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-500 border-2 border-white flex items-center justify-center text-white font-bold text-sm shadow-md",children:"A"}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 border-2 border-white flex items-center justify-center text-white font-bold text-sm shadow-md",children:"B"}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-white flex items-center justify-center text-white font-bold text-sm shadow-md",children:"C"}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-pink-500 border-2 border-white flex items-center justify-center text-white font-bold text-sm shadow-md",children:"D"})]}),t.jsx("span",{className:"font-semibold",children:"50K+ Verified Reviews"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 hover:text-green-600 transition-colors",children:[t.jsx(vi,{className:"w-6 h-6 text-orange-600"}),t.jsx("span",{className:"font-semibold",children:"99% On-time Delivery"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors",children:[t.jsx(Et,{className:"w-6 h-6 text-red-600 fill-red-600"}),t.jsx("span",{className:"font-semibold",children:"2.5M+ Favorites Saved"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",children:[t.jsx(br,{className:"w-6 h-6 text-blue-600"}),t.jsx("span",{className:"font-semibold",children:"85% Repeat Customers"})]})]})]})]})]}),t.jsxs("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-orange-600 via-red-600 to-pink-600 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0",children:t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC4xIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-40"})}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-3xl mb-6 shadow-xl",children:t.jsx(ca,{className:"w-10 h-10 text-white"})}),t.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white mb-4 leading-tight",children:"Never Miss a Delicious Deal"}),t.jsx("p",{className:"text-xl md:text-2xl text-orange-50 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Get weekly restaurant picks, exclusive offers, and local food updates delivered straight to your inbox"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10 max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2 text-white",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-2",children:t.jsx(On,{className:"w-7 h-7"})}),t.jsx("span",{className:"font-semibold text-lg",children:"Exclusive Discounts"}),t.jsx("span",{className:"text-sm text-orange-100",children:"Up to 30% off"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2 text-white",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-2",children:t.jsx(Nu,{className:"w-7 h-7"})}),t.jsx("span",{className:"font-semibold text-lg",children:"Weekly Picks"}),t.jsx("span",{className:"text-sm text-orange-100",children:"Curated just for you"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2 text-white",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-2",children:t.jsx(Qa,{className:"w-7 h-7"})}),t.jsx("span",{className:"font-semibold text-lg",children:"Early Access"}),t.jsx("span",{className:"text-sm text-orange-100",children:"New restaurants first"})]})]}),b?t.jsxs("div",{className:"max-w-xl mx-auto bg-white/20 backdrop-blur-sm rounded-2xl p-8 border-2 border-white/30 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-4 animate-in zoom-in duration-300",children:t.jsx(ot,{className:"w-10 h-10 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"You're all set!"}),t.jsx("p",{className:"text-orange-100 text-lg",children:"Check your inbox for a welcome email with your first exclusive deal "})]}):t.jsxs("form",{onSubmit:D,className:"max-w-xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(d_,{type:"email",placeholder:"Enter your email address",value:N,onChange:B=>w(B.target.value),className:"w-full h-14 px-6 text-lg bg-white/95 backdrop-blur-sm border-2 border-white/50 rounded-xl focus:border-white focus:ring-4 focus:ring-white/30 placeholder:text-gray-400 text-gray-900",required:!0})}),t.jsxs("button",{type:"submit",className:"px-8 py-4 bg-white text-orange-600 rounded-xl font-bold text-lg hover:bg-orange-50 transition-all duration-200 shadow-2xl hover:shadow-3xl transform hover:scale-105 active:scale-95 whitespace-nowrap flex items-center justify-center gap-2",children:[t.jsx(ca,{className:"w-5 h-5"}),t.jsx("span",{children:"Subscribe"})]})]}),k&&t.jsx("p",{className:"text-white bg-red-500/30 backdrop-blur-sm px-4 py-2 rounded-lg border border-red-300/30",children:k}),t.jsx("p",{className:"text-sm text-orange-100",children:"Join 50,000+ food lovers. Unsubscribe anytime. No spam, we promise! "})]}),t.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 flex-wrap text-white/80 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ot,{className:"w-5 h-5"}),t.jsx("span",{children:"No spam, ever"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ot,{className:"w-5 h-5"}),t.jsx("span",{children:"Unsubscribe anytime"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ot,{className:"w-5 h-5"}),t.jsx("span",{children:"50K+ subscribers"})]})]})]})]}),xe&&xe.picks.length>0&&t.jsx("section",{className:"py-12 lg:py-20 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg shadow-md",children:t.jsx(Nu,{className:"w-7 h-7 text-white"})}),"Weekly Picks"]}),t.jsxs("p",{className:"text-gray-600 mt-2 ml-14",children:["Week of ",new Date(xe.week_start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(xe.week_end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})}),U?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(B=>t.jsx(Pu,{},B))}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:xe.picks.map(B=>t.jsxs(oe,{to:`/restaurant/${B.restaurant.restaurant_id}`,className:"group bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl hover:scale-[1.03] hover:-translate-y-2 transition-all duration-300 relative",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-orange-600 to-red-600 text-white px-3 py-1.5 rounded-full text-sm font-bold shadow-lg z-10 flex items-center gap-1",children:[t.jsx(Nu,{className:"w-4 h-4"}),"Featured"]}),t.jsx("button",{onClick:ge=>Q(B.restaurant.restaurant_id,ge),className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm hover:bg-white rounded-full transition-all duration-200 z-10 shadow-lg hover:scale-110 active:scale-95","aria-label":u.includes(B.restaurant.restaurant_id)?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-6 h-6 transition-all duration-200 ${u.includes(B.restaurant.restaurant_id)?"fill-red-600 text-red-600 scale-110":"text-gray-600 hover:text-red-500"}`})}),t.jsx("img",{src:B.restaurant.primary_hero_image_url||`https://images.unsplash.com/photo-${["1517248135467-4c7edcad34c4","1504674900247-0877df9cc836","1414235077428-338989a2e8c0","1555939594-58d7cb561ad1","1546069901-ba9599a7e63c","1565299624946-b28f40a0ae38"][Math.floor(Math.random()*6)]}?w=800&q=80`,alt:B.restaurant.restaurant_name,className:"w-full h-56 object-cover",loading:"lazy"})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-orange-600 transition-colors",children:B.restaurant.restaurant_name}),B.featured_description&&t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:B.featured_description}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:B.restaurant.cuisine_types.slice(0,2).map(ge=>t.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-medium",children:ge},ge))}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[B.restaurant.accepts_delivery&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[t.jsx(vi,{className:"w-3 h-3"}),"Delivery"]}),B.restaurant.accepts_pickup&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[t.jsx(br,{className:"w-3 h-3"}),"Pickup"]})]}),t.jsx("div",{className:"mb-3",children:B.restaurant.is_currently_open?t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-green-600 font-medium",children:[t.jsx(ss,{className:"w-4 h-4"}),"Open Now"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-gray-500",children:[t.jsx(ss,{className:"w-4 h-4"}),"Closed"]})}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"font-semibold",children:Number(B.restaurant.average_rating).toFixed(1)}),t.jsxs("span",{className:"text-gray-500",children:["(",B.restaurant.total_review_count,")"]})]}),t.jsx("span",{className:"text-gray-700",children:"$".repeat(B.restaurant.price_range)})]}),B.restaurant.distance_miles!==null&&B.restaurant.distance_miles!==void 0&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-3",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsxs("span",{children:[Number(B.restaurant.distance_miles).toFixed(1)," mi away"]})]}),t.jsxs("button",{onClick:ge=>{ge.preventDefault(),e(`/restaurant/${B.restaurant.restaurant_id}`)},className:"w-full py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg font-bold hover:from-orange-700 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[t.jsx("span",{children:"View Menu"}),t.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 5l7 7-7 7"})})]})]})]},B.pick_id))})]})}),o&&O&&O.recommendations.length>0&&t.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-50 to-indigo-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-md",children:t.jsx(Qa,{className:"w-6 h-6 text-white"})}),"Recommended for You"]}),t.jsxs("button",{onClick:()=>ee(),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors","aria-label":"Refresh recommendations",children:[t.jsx(pk,{className:"w-5 h-5"}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),H?t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[1,2,3].map(B=>t.jsx("div",{className:"flex-none w-80",children:t.jsx(Pu,{})},B))}):t.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4 scrollbar-hide",children:O.recommendations.map(B=>t.jsx("div",{className:"flex-none w-80",children:t.jsxs(oe,{to:`/restaurant/${B.restaurant.restaurant_id}`,className:"block bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl hover:scale-[1.03] transition-all duration-300",children:[t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:ge=>re(B.restaurant.restaurant_id,ge),className:"absolute top-2 left-2 p-1.5 bg-white/90 hover:bg-white rounded-full transition-colors z-10 shadow-lg","aria-label":"Dismiss recommendation",children:t.jsx(Le,{className:"w-4 h-4 text-gray-600"})}),t.jsx("button",{onClick:ge=>Q(B.restaurant.restaurant_id,ge),className:"absolute top-2 right-2 p-2 bg-white/90 hover:bg-white rounded-full transition-colors z-10 shadow-lg","aria-label":u.includes(B.restaurant.restaurant_id)?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-5 h-5 transition-colors ${u.includes(B.restaurant.restaurant_id)?"fill-red-600 text-red-600":"text-gray-600"}`})}),t.jsx("img",{src:B.restaurant.primary_hero_image_url||`https://images.unsplash.com/photo-${["1517248135467-4c7edcad34c4","1504674900247-0877df9cc836","1414235077428-338989a2e8c0","1555939594-58d7cb561ad1","1546069901-ba9599a7e63c","1565299624946-b28f40a0ae38"][Math.floor(Math.random()*6)]}?w=800&q=80`,alt:B.restaurant.restaurant_name,className:"w-full h-40 object-cover",loading:"lazy"})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"mb-2",children:t.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:B.reason})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-1",children:B.restaurant.restaurant_name}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:B.restaurant.cuisine_types.slice(0,2).map(ge=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:ge},ge))}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[B.restaurant.accepts_delivery&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[t.jsx(vi,{className:"w-3 h-3"}),"Delivery"]}),B.restaurant.accepts_pickup&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[t.jsx(br,{className:"w-3 h-3"}),"Pickup"]})]}),t.jsx("div",{className:"mb-2",children:B.restaurant.is_currently_open?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 font-medium",children:[t.jsx(ss,{className:"w-3 h-3"}),"Open Now"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(ss,{className:"w-3 h-3"}),"Closed"]})}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"font-semibold",children:Number(B.restaurant.average_rating).toFixed(1)}),t.jsxs("span",{className:"text-gray-500",children:["(",B.restaurant.total_review_count,")"]})]}),t.jsx("span",{className:"text-gray-700",children:"$".repeat(B.restaurant.price_range)})]}),B.restaurant.distance_miles!==null&&B.restaurant.distance_miles!==void 0&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[t.jsx(it,{className:"w-3 h-3"}),t.jsxs("span",{children:[Number(B.restaurant.distance_miles).toFixed(1)," mi away"]})]})]})]})},B.restaurant.restaurant_id))})]})}),t.jsx("section",{className:"py-6 px-4 sm:px-6 lg:px-8 border-t border-gray-200 bg-gradient-to-b from-white to-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:[t.jsxs("button",{onClick:()=>je("near_me"),disabled:!c.permission_granted,className:`flex items-center gap-2 px-5 py-2.5 rounded-full border-2 font-medium text-sm transition-all whitespace-nowrap shadow-sm hover:shadow-md ${I.distance_max===2?"bg-gradient-to-r from-orange-600 to-red-600 border-transparent text-white":"bg-white border-gray-300 text-gray-700 hover:border-orange-500"} ${c.permission_granted?"":"opacity-50 cursor-not-allowed"}`,children:[t.jsx(it,{className:"w-4 h-4"}),"Near Me"]}),t.jsxs("button",{onClick:()=>je("open_now"),className:`flex items-center gap-2 px-5 py-2.5 rounded-full border-2 font-medium text-sm transition-all whitespace-nowrap shadow-sm hover:shadow-md ${I.open_now?"bg-gradient-to-r from-green-600 to-emerald-600 border-transparent text-white":"bg-white border-gray-300 text-gray-700 hover:border-green-500"}`,children:[t.jsx(ss,{className:"w-4 h-4"}),"Open Now"]}),t.jsxs("button",{onClick:()=>je("highly_rated"),className:`flex items-center gap-2 px-5 py-2.5 rounded-full border-2 font-medium text-sm transition-all whitespace-nowrap shadow-sm hover:shadow-md ${I.rating_min===4?"bg-gradient-to-r from-yellow-500 to-amber-600 border-transparent text-white":"bg-white border-gray-300 text-gray-700 hover:border-yellow-500"}`,children:[t.jsx(nt,{className:"w-4 h-4"}),"Highly Rated (4+)"]}),t.jsxs("button",{onClick:()=>je("best_deals"),className:`flex items-center gap-2 px-5 py-2.5 rounded-full border-2 font-medium text-sm transition-all whitespace-nowrap shadow-sm hover:shadow-md ${I.has_discount?"bg-gradient-to-r from-blue-600 to-indigo-600 border-transparent text-white":"bg-white border-gray-300 text-gray-700 hover:border-blue-500"}`,children:[t.jsx(On,{className:"w-4 h-4"}),"Best Deals"]})]})})}),t.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("div",{children:t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:fe?`${fe.total_count} Restaurants`:"Restaurants"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:J,onChange:B=>{F(B.target.value);const ge=new URLSearchParams(s);B.target.value!=="recommended"?ge.set("sort_by",B.target.value):ge.delete("sort_by"),r(ge),ne(1)},className:"appearance-none pl-4 pr-10 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent cursor-pointer",children:[t.jsx("option",{value:"recommended",children:"Recommended"}),t.jsx("option",{value:"distance",children:"Distance"}),t.jsx("option",{value:"rating",children:"Rating"}),t.jsx("option",{value:"price_low",children:"Price: Low to High"}),t.jsx("option",{value:"price_high",children:"Price: High to Low"}),t.jsx("option",{value:"newest",children:"Newest"}),t.jsx("option",{value:"popular",children:"Most Popular"})]}),t.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),t.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[t.jsx(s_,{className:"w-4 h-4"}),"Filters",Tt>0&&t.jsx("span",{className:"ml-1 px-2 py-0.5 bg-orange-600 text-white rounded-full text-xs",children:Tt})]})]})]}),Tt>0&&t.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[I.cuisine_types.map(B=>t.jsxs("button",{onClick:()=>V("cuisine_types",B),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:[B,t.jsx(Le,{className:"w-3.5 h-3.5"})]},B)),I.price_min&&t.jsxs("button",{onClick:()=>V("price_min"),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:["Min: ","$".repeat(I.price_min),t.jsx(Le,{className:"w-3.5 h-3.5"})]}),I.price_max&&t.jsxs("button",{onClick:()=>V("price_max"),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:["Max: ","$".repeat(I.price_max),t.jsx(Le,{className:"w-3.5 h-3.5"})]}),I.distance_max&&t.jsxs("button",{onClick:()=>V("distance_max"),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:["Within ",I.distance_max," mi",t.jsx(Le,{className:"w-3.5 h-3.5"})]}),I.rating_min&&t.jsxs("button",{onClick:()=>V("rating_min"),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:[I.rating_min,"+ Stars",t.jsx(Le,{className:"w-3.5 h-3.5"})]}),I.dietary_preferences.map(B=>t.jsxs("button",{onClick:()=>V("dietary_preferences",B),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:[B,t.jsx(Le,{className:"w-3.5 h-3.5"})]},B)),I.open_now&&t.jsxs("button",{onClick:()=>V("open_now"),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:["Open Now",t.jsx(Le,{className:"w-3.5 h-3.5"})]}),I.has_discount&&t.jsxs("button",{onClick:()=>V("has_discount"),className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:["Has Discount",t.jsx(Le,{className:"w-3.5 h-3.5"})]}),t.jsx("button",{onClick:$,className:"px-3 py-1.5 text-orange-700 hover:text-orange-800 text-sm font-medium underline",children:"Clear All"})]}),ve?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(12)].map((B,ge)=>t.jsx(Pu,{},ge))}):fe&&fe.restaurants.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:fe.restaurants.map((B,ge)=>t.jsxs(Qn.Fragment,{children:[t.jsxs(oe,{to:`/restaurant/${B.restaurant_id}`,className:"group bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl hover:scale-[1.02] transition-all duration-300",children:[t.jsxs("div",{className:"relative",children:[B.is_featured&&t.jsx("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-orange-600 to-red-600 text-white px-2.5 py-1 rounded-full text-xs font-bold shadow-lg z-10",children:"Featured"}),t.jsx("button",{onClick:Te=>Q(B.restaurant_id,Te),className:"absolute top-3 right-3 p-2 bg-white/90 hover:bg-white rounded-full transition-colors z-10 shadow-lg","aria-label":u.includes(B.restaurant_id)?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-5 h-5 transition-colors ${u.includes(B.restaurant_id)?"fill-red-600 text-red-600":"text-gray-600"}`})}),t.jsx("img",{src:B.primary_hero_image_url||`https://images.unsplash.com/photo-${["1517248135467-4c7edcad34c4","1504674900247-0877df9cc836","1414235077428-338989a2e8c0","1555939594-58d7cb561ad1","1546069901-ba9599a7e63c","1565299624946-b28f40a0ae38","1493770348161-369560ae357d","1540189549336-e6e99c3679fe","1567620905732-2d1ec7ab7445","1565958011703-44f9829ba187"][ge%10]}?w=800&q=80`,alt:B.restaurant_name,className:"w-full h-48 object-cover",loading:"lazy"})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-orange-600 transition-colors",children:B.restaurant_name}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:B.cuisine_types.slice(0,2).map(Te=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:Te},Te))}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[B.accepts_delivery&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[t.jsx(vi,{className:"w-3 h-3"}),"Delivery"]}),B.accepts_pickup&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[t.jsx(br,{className:"w-3 h-3"}),"Pickup"]})]}),t.jsx("div",{className:"mb-3",children:B.is_currently_open?t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-green-600 font-medium",children:[t.jsx(ss,{className:"w-4 h-4"}),"Open Now"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-gray-500",children:[t.jsx(ss,{className:"w-4 h-4"}),"Closed"]})}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"font-semibold",children:Number(B.average_rating).toFixed(1)}),t.jsxs("span",{className:"text-gray-500",children:["(",B.total_review_count,")"]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-gray-700",children:"$".repeat(B.price_range)})})]}),B.distance_miles!==null&&B.distance_miles!==void 0&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-3",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsxs("span",{children:[Number(B.distance_miles).toFixed(1)," mi away"]})]}),t.jsx("button",{onClick:Te=>{Te.preventDefault(),e(`/restaurant/${B.restaurant_id}`)},className:"w-full py-2.5 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"View Menu"})]})]}),!o&&!_&&ge===11&&t.jsxs("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4 bg-gradient-to-br from-orange-600 to-red-600 rounded-xl p-8 text-white relative",children:[t.jsx("button",{onClick:Se,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors","aria-label":"Dismiss CTA",children:t.jsx(Le,{className:"w-5 h-5"})}),t.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[t.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Save Your Favorites & Get Exclusive Deals"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(Et,{className:"w-6 h-6"})}),t.jsx("span",{className:"text-sm",children:"Save Favorites"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(On,{className:"w-6 h-6"})}),t.jsx("span",{className:"text-sm",children:"Exclusive Deals"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(ro,{className:"w-6 h-6"})}),t.jsx("span",{className:"text-sm",children:"Earn Badges"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(Qa,{className:"w-6 h-6"})}),t.jsx("span",{className:"text-sm",children:"Personalized"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[t.jsx(oe,{to:"/signup",className:"px-8 py-3 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors shadow-lg",children:"Sign Up Free"}),t.jsx(oe,{to:"/login",className:"text-white hover:text-orange-100 font-medium underline",children:"Already have an account? Log in"})]})]})]})]},B.restaurant_id))}),fe.restaurants.length<fe.total_count&&t.jsx("div",{className:"mt-8 text-center",children:t.jsx("button",{onClick:Qe,className:"px-8 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors shadow-lg hover:shadow-xl",children:"Load More Restaurants"})})]}):t.jsxs("div",{className:"text-center py-20",children:[t.jsxs("div",{className:"mb-6 relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-orange-200 rounded-full blur-2xl opacity-20 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-orange-100 to-red-100 rounded-full p-6",children:t.jsx(ro,{className:"w-16 h-16 text-orange-500 mx-auto"})})]}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-3",children:"No restaurants found"}),t.jsx("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:"Try adjusting your filters or search criteria to discover more delicious options"}),Tt>0&&t.jsx("button",{onClick:$,className:"px-8 py-3.5 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-red-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:"Clear All Filters"})]})]})}),f&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:()=>x(!1)}),t.jsxs("div",{className:"fixed inset-y-0 right-0 w-full md:w-96 bg-white shadow-2xl z-50 overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Filters"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close filters",children:t.jsx(Le,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Cuisine Type"}),t.jsx("div",{className:"space-y-2",children:["Italian","Mexican","Chinese","Japanese","Thai","Indian","American","Mediterranean"].map(B=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:I.cuisine_types.includes(B),onChange:ge=>{const Te=ge.target.checked?[...I.cuisine_types,B]:I.cuisine_types.filter(bt=>bt!==B);P({...I,cuisine_types:Te})},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("span",{className:"text-gray-700",children:B})]},B))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Price Range"}),t.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(B=>t.jsx("button",{onClick:()=>{P({...I,price_min:I.price_min===B?null:B,price_max:I.price_max===B?null:B})},className:`flex-1 py-2 rounded-lg font-medium transition-colors ${I.price_min===B||I.price_max===B?"bg-orange-600 text-white":"border border-gray-300 text-gray-700 hover:border-orange-600"}`,children:"$".repeat(B)},B))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Minimum Rating"}),t.jsx("div",{className:"flex gap-2",children:[3,3.5,4,4.5].map(B=>t.jsxs("button",{onClick:()=>{P({...I,rating_min:I.rating_min===B?null:B})},className:`flex-1 py-2 rounded-lg font-medium transition-colors ${I.rating_min===B?"bg-orange-600 text-white":"border border-gray-300 text-gray-700 hover:border-orange-600"}`,children:[B,"+"]},B))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Distance"}),t.jsx("div",{className:"flex gap-2",children:[.5,1,2,5,10].map(B=>t.jsxs("button",{onClick:()=>{P({...I,distance_max:I.distance_max===B?null:B})},disabled:!c.permission_granted,className:`flex-1 py-2 rounded-lg font-medium transition-colors ${I.distance_max===B?"bg-orange-600 text-white":"border border-gray-300 text-gray-700 hover:border-orange-600"} ${c.permission_granted?"":"opacity-50 cursor-not-allowed"}`,children:[B," mi"]},B))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Dietary Preferences"}),t.jsx("div",{className:"space-y-2",children:["Vegetarian","Vegan","Gluten-Free","Halal","Kosher"].map(B=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:I.dietary_preferences.includes(B),onChange:ge=>{const Te=ge.target.checked?[...I.dietary_preferences,B]:I.dietary_preferences.filter(bt=>bt!==B);P({...I,dietary_preferences:Te})},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("span",{className:"text-gray-700",children:B})]},B))})]})]}),t.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex gap-3",children:[t.jsx("button",{onClick:$,className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Clear All"}),t.jsx("button",{onClick:X,className:"flex-1 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"Apply Filters"})]})]})]}),M&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 transition-opacity animate-in fade-in duration-300",onClick:Ht}),t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:t.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden pointer-events-auto animate-in zoom-in-95 slide-in-from-bottom-4 duration-500",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 opacity-10"}),t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full blur-3xl opacity-20 -translate-y-1/2 translate-x-1/2"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-br from-red-500 to-pink-500 rounded-full blur-3xl opacity-20 translate-y-1/2 -translate-x-1/2"}),t.jsx("button",{onClick:Ht,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-all duration-200 hover:rotate-90 z-10","aria-label":"Close discount popup",children:t.jsx(Le,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{className:"relative p-8 text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-full mb-6 shadow-xl animate-bounce",children:t.jsx(ok,{className:"w-10 h-10 text-white"})}),t.jsxs("div",{className:"inline-flex items-center gap-2 mb-4 px-4 py-2 bg-gradient-to-r from-orange-100 to-red-100 rounded-full",children:[t.jsx(Qa,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-sm font-bold text-orange-800",children:"Limited Time Offer"})]}),t.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-3",children:["Get ",t.jsx("span",{className:"bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"20% OFF"})]}),t.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Your first order from any local restaurant!"}),t.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-6 mb-6 border-2 border-dashed border-orange-300",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Use code at checkout:"}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("span",{className:"text-3xl font-black tracking-widest text-orange-600 bg-white px-6 py-3 rounded-xl shadow-inner border border-orange-200",children:T}),t.jsx("button",{onClick:vs,className:`p-3 rounded-xl transition-all duration-200 ${W?"bg-green-500 text-white":"bg-orange-600 text-white hover:bg-orange-700"}`,"aria-label":"Copy discount code",children:W?t.jsx(Dt,{className:"w-5 h-5"}):t.jsx(Yv,{className:"w-5 h-5"})})]}),W&&t.jsx("p",{className:"text-sm text-green-600 mt-2 font-medium animate-in fade-in duration-200",children:"Code copied to clipboard!"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx(vi,{className:"w-5 h-5 text-orange-600"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Free Delivery"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(ss,{className:"w-5 h-5 text-red-600"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Fast Service"})]}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:t.jsx(nt,{className:"w-5 h-5 text-pink-600"})}),t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Top Rated"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(oe,{to:"/signup",onClick:Ht,className:"block w-full py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl font-bold text-lg hover:from-orange-700 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]",children:"Sign Up & Save 20%"}),t.jsx("button",{onClick:Ht,className:"w-full py-3 text-gray-500 hover:text-gray-700 font-medium transition-colors",children:"Maybe Later"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Valid for new customers only. Minimum order $15. Expires in 7 days."})]})]})})]})]})})},Lu=e=>e.trim()?e.trim().length<2?"Name must be at least 2 characters":e.length>50?"Name must not exceed 50 characters":/^[a-zA-Z\s'-]+$/.test(e)?null:"Name contains invalid characters":"Name is required",Eu=e=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.length>255?"Email must not exceed 255 characters":null:"Please enter a valid email address":"Email is required",p6=e=>{if(!e)return{level:0,label:"",color:""};let s=0;return e.length>=8&&s++,e.length>=12&&s++,/[a-z]/.test(e)&&s++,/[A-Z]/.test(e)&&s++,/[0-9]/.test(e)&&s++,/[^a-zA-Z0-9]/.test(e)&&s++,s<=2?{level:1,label:"Weak",color:"bg-red-500"}:s<=4?{level:2,label:"Medium",color:"bg-orange-500"}:{level:3,label:"Strong",color:"bg-green-500"}},Mu=e=>e?e.length<8?"Password must be at least 8 characters":/[a-zA-Z]/.test(e)?/[0-9]/.test(e)?null:"Password must include at least one number":"Password must include at least one letter":"Password is required",Tu=e=>e.trim()?/^\+?[1-9]\d{1,14}$/.test(e.replace(/[\s-]/g,""))?null:"Please enter a valid phone number":null,x6=()=>{const e=ut(),[s]=gs(),r=s.get("redirect")||"/",i=ce(ie=>ie.register_user),o=ce(ie=>ie.authentication_state.error_message),a=ce(ie=>ie.authentication_state.authentication_status.is_loading),c=ce(ie=>ie.authentication_state.authentication_status.is_authenticated),u=ce(ie=>ie.clear_auth_error),[h,f]=C.useState(""),[x,p]=C.useState(""),[g,_]=C.useState(""),[j,N]=C.useState(""),[w,b]=C.useState(""),[v,k]=C.useState(!1),[E,M]=C.useState(!1),[A,W]=C.useState(!1),[G,T]=C.useState(!1),[Z,I]=C.useState(!1),[P,J]=C.useState({full_name:null,email:null,password:null,confirm_password:null,phone_number:null,terms_accepted:null}),[F,ue]=C.useState({level:0,label:"",color:""});C.useEffect(()=>{c&&e(r)},[c,e,r]),C.useEffect(()=>{u()},[u]),C.useEffect(()=>{ue(p6(g))},[g]);const ne=()=>{const ie=Lu(h);J(le=>({...le,full_name:ie}))},xe=()=>{const ie=Eu(x);J(le=>({...le,email:ie}))},U=()=>{const ie=Mu(g);J(le=>({...le,password:ie}))},O=()=>{Z||I(!0),H()},H=()=>{if(Z){const ie=g!==j?"Passwords do not match":null;J(le=>({...le,confirm_password:ie}))}},ee=()=>{const ie=Tu(w);J(le=>({...le,phone_number:ie}))};C.useEffect(()=>{H()},[j,g,Z]);const me=()=>!(!h.trim()||!x.trim()||!g||!j||!v||Lu(h)||Eu(x)||Mu(g)||g!==j||w&&Tu(w)),fe=async ie=>{ie&&ie.preventDefault(),u();const le=Lu(h),D=Eu(x),Q=Mu(g),re=g!==j?"Passwords do not match":null,X=w?Tu(w):null,$=v?null:"You must accept the Terms and Privacy Policy to create an account";if(J({full_name:le,email:D,password:Q,confirm_password:re,phone_number:X,terms_accepted:$}),!(le||D||Q||re||X||$)){T(!0);try{const V=w.trim();await i(x.trim(),g,h.trim(),V||void 0)}catch(V){console.error("Registration failed:",V)}finally{T(!1)}}},ve=ie=>{if(ie.key==="Enter"){const le=ie.target;le.tagName!=="TEXTAREA"&&le.tagName!=="BUTTON"&&(ie.preventDefault(),me()&&!G&&!a&&fe())}};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-red-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10 animate-slow-zoom",style:{backgroundImage:"url('https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=1600&q=80')",filter:"blur(2px)"}}),t.jsx("div",{className:"absolute top-10 -right-20 w-72 h-72 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),t.jsx("div",{className:"absolute -bottom-20 left-10 w-72 h-72 bg-red-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 bg-amber-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),t.jsxs("div",{className:"max-w-md w-full bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 p-8 sm:p-10 relative z-10",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-orange-400 to-red-500 rounded-full blur-lg opacity-30 animate-pulse"}),t.jsx("div",{className:"relative inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-600 mb-4 shadow-2xl transform transition-transform hover:scale-110 hover:rotate-12 duration-300 ring-4 ring-orange-100",children:t.jsx("div",{className:"text-4xl",children:""})})]}),t.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent leading-tight",children:"Join Local Eats"}),t.jsxs("p",{className:"mt-2 text-sm text-gray-600 flex items-center justify-center gap-2",children:[t.jsx("span",{children:"Discover hidden gems and earn rewards"}),t.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:"Free forever"})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3 text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Exclusive deals"})]}),t.jsx("span",{children:""}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Earn rewards"})]})]})]}),o&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 rounded-lg p-4 flex items-start gap-3 animate-shake",children:[t.jsx(kt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-red-800 font-semibold",children:"Registration Failed"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]}),t.jsx("button",{onClick:u,className:"text-red-400 hover:text-red-600 transition-colors","aria-label":"Dismiss error",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("form",{onSubmit:fe,onKeyDown:ve,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{id:"full_name",name:"full_name",type:"text",required:!0,value:h,onChange:ie=>{f(ie.target.value),P.full_name&&J(le=>({...le,full_name:null}))},onBlur:ne,placeholder:"John Smith","data-testid":"signup-fullname-input",className:`block w-full px-4 py-3 rounded-lg border-2 transition-all ${P.full_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-orange-500 focus:ring-orange-100"} focus:outline-none focus:ring-4 text-gray-900 placeholder-gray-400 bg-white`}),P.full_name&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-red-600",children:[t.jsx(Dr,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:P.full_name})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:x,onChange:ie=>{p(ie.target.value),P.email&&J(le=>({...le,email:null}))},onBlur:xe,placeholder:"john@example.com","data-testid":"signup-email-input",className:`block w-full px-4 py-3 rounded-lg border-2 transition-all ${P.email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-orange-500 focus:ring-orange-100"} focus:outline-none focus:ring-4 text-gray-900 placeholder-gray-400 bg-white`}),P.email&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-red-600",children:[t.jsx(Dr,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:P.email})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",t.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),t.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",autoComplete:"tel",value:w,onChange:ie=>{b(ie.target.value),P.phone_number&&J(le=>({...le,phone_number:null}))},onBlur:ee,placeholder:"+1 234 567 8900",className:`block w-full px-4 py-3 rounded-lg border-2 transition-all ${P.phone_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-orange-500 focus:ring-orange-100"} focus:outline-none focus:ring-4 text-gray-900 placeholder-gray-400 bg-white`}),P.phone_number&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-red-600",children:[t.jsx(Dr,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:P.phone_number})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",name:"password",type:E?"text":"password",autoComplete:"new-password",required:!0,value:g,onChange:ie=>{_(ie.target.value),P.password&&J(le=>({...le,password:null}))},onBlur:U,placeholder:"",className:`block w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all ${P.password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-orange-500 focus:ring-orange-100"} focus:outline-none focus:ring-4 text-gray-900 placeholder-gray-400 bg-white`}),t.jsx("button",{type:"button",onClick:()=>M(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":E?"Hide password":"Show password",children:E?t.jsx(Dc,{className:"w-5 h-5"}):t.jsx(Io,{className:"w-5 h-5"})})]}),g&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-gray-600",children:"Password strength:"}),t.jsx("span",{className:`text-xs font-medium ${F.level===1?"text-red-600":F.level===2?"text-orange-600":"text-green-600"}`,children:F.label})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${F.color}`,style:{width:`${F.level/3*100}%`}})})]}),P.password&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-red-600",children:[t.jsx(Dr,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:P.password})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"confirm_password",name:"confirm_password",type:A?"text":"password",autoComplete:"new-password",required:!0,value:j,onChange:ie=>{N(ie.target.value),P.confirm_password&&J(le=>({...le,confirm_password:null}))},onBlur:O,placeholder:"",className:`block w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all ${P.confirm_password?"border-red-300 focus:border-red-500 focus:ring-red-100":Z&&!P.confirm_password&&j?"border-green-300 focus:border-green-500 focus:ring-green-100":"border-gray-200 focus:border-orange-500 focus:ring-orange-100"} focus:outline-none focus:ring-4 text-gray-900 placeholder-gray-400 bg-white`}),t.jsx("button",{type:"button",onClick:()=>W(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":A?"Hide password":"Show password",children:A?t.jsx(Dc,{className:"w-5 h-5"}):t.jsx(Io,{className:"w-5 h-5"})})]}),P.confirm_password&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-red-600",children:[t.jsx(Dr,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:P.confirm_password})]}),Z&&!P.confirm_password&&j&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-green-600",children:[t.jsx(ot,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:"Passwords match"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[t.jsx("input",{type:"checkbox",checked:v,onChange:ie=>{k(ie.target.checked),P.terms_accepted&&J(le=>({...le,terms_accepted:null}))},className:"mt-1 w-4 h-4 rounded border-2 border-gray-300 text-orange-600 focus:ring-4 focus:ring-orange-100 focus:outline-none cursor-pointer"}),t.jsxs("span",{className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",t.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 font-medium underline",children:"Terms of Service"})," ","and"," ",t.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 font-medium underline",children:"Privacy Policy"})]})]}),P.terms_accepted&&t.jsxs("div",{className:"mt-1.5 flex items-center gap-1.5 text-red-600",children:[t.jsx(Dr,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:P.terms_accepted})]})]}),t.jsxs("button",{type:"submit",disabled:G||a,id:"create-account-button","data-testid":"signup-submit-button","aria-label":"Create Account",className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold py-3.5 px-6 rounded-lg shadow-lg hover:shadow-xl hover:from-orange-700 hover:to-red-700 focus:outline-none focus:ring-4 focus:ring-orange-300 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] relative overflow-hidden group",children:[t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),G||a?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating your account..."]}):t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Create Free Account"]})]})]}),t.jsx("div",{className:"mt-6 text-center p-4 bg-gray-50 rounded-lg border border-gray-100",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",t.jsx(oe,{to:"/login",className:"text-orange-600 hover:text-orange-700 font-bold underline decoration-2 underline-offset-2 transition-all duration-200 hover:underline-offset-4",children:"Log in here"})]})}),t.jsxs("div",{className:"mt-6 flex justify-center gap-6 text-xs text-gray-500",children:[t.jsx(oe,{to:"/terms",className:"hover:text-gray-700 transition-colors hover:underline",children:"Terms"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx(oe,{to:"/privacy",className:"hover:text-gray-700 transition-colors hover:underline",children:"Privacy"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("a",{href:"mailto:support@localeats.com",className:"hover:text-gray-700 transition-colors hover:underline",children:"Support"})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 rounded-full text-xs font-medium",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure & encrypted"]})})]})]})})},g6=()=>{var I;const[e,s]=C.useState(""),[r,i]=C.useState(""),[o,a]=C.useState(!1),[c,u]=C.useState(!1),[h,f]=C.useState({email:null,password:null}),[x,p]=C.useState(null),[g,_]=C.useState(!1),j=ut(),N=Zs(),b=new URLSearchParams(N.search).get("redirect")||((I=N.state)==null?void 0:I.from)||"/",v=ce(P=>P.authentication_state.authentication_status.is_authenticated);C.useEffect(()=>{v&&j(b,{replace:!0})},[v,j,b]);const k=P=>P?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?null:"Please enter a valid email address":"Email is required",E=P=>P?null:"Password is required",M=()=>{const P=k(e);f(J=>({...J,email:P}))},A=()=>{const P=E(r);f(J=>({...J,password:P}))},W=P=>{s(P.target.value),h.email&&f(J=>({...J,email:null})),x&&p(null)},G=P=>{const J=P.target.value;i(J),h.password&&f(F=>({...F,password:null})),x&&p(null)},T=()=>{u(!c)},Z=async P=>{var ue,ne,xe;P.preventDefault();const J=k(e),F=E(r);if(J||F){f({email:J,password:F});return}_(!0),p(null);try{const U=await de.post("https://123local-eats-app.launchpulse.ai/api/auth/login",{email:e,password:r,remember_me:o},{headers:{"Content-Type":"application/json"}}),{user:O,auth_token:H}=U.data;ce.setState(()=>({authentication_state:{current_user:{user_id:O.user_id,email:O.email,full_name:O.full_name,phone_number:O.phone_number,profile_picture_url:O.profile_picture_url,is_verified:O.is_verified,created_at:O.created_at},auth_token:H,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),j(b,{replace:!0})}catch(U){_(!1),((ue=U.response)==null?void 0:ue.status)===401?p("Invalid email or password"):U.response?(xe=(ne=U.response)==null?void 0:ne.data)!=null&&xe.message?p(U.response.data.message):p("An error occurred. Please try again."):p("Unable to connect. Please check your network and try again."),i("")}};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-red-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10 animate-slow-zoom",style:{backgroundImage:"url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1600&q=80')",filter:"blur(2px)"}}),t.jsx("div",{className:"absolute top-0 -right-20 w-72 h-72 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),t.jsx("div",{className:"absolute -bottom-20 left-10 w-72 h-72 bg-red-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 bg-amber-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),t.jsxs("div",{className:"max-w-md w-full bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden transform transition-all duration-300 hover:shadow-3xl relative z-10",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&q=80')"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-600/90 via-red-500/85 to-red-600/90"}),t.jsx("div",{className:"absolute top-4 left-4 text-white/30 text-4xl",children:""}),t.jsx("div",{className:"absolute top-6 right-8 text-white/20 text-3xl",children:""}),t.jsx("div",{className:"absolute bottom-4 right-4 text-white/25 text-3xl",children:""})]}),t.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-600 shadow-2xl border-4 border-white ring-4 ring-orange-100",children:t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})]}),t.jsxs("div",{className:"px-8 pt-14 pb-6 text-center",children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Sign in to continue your culinary journey"})]}),t.jsxs("form",{className:"px-8 pb-8",onSubmit:Z,noValidate:!0,children:[x&&t.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",role:"alert",children:t.jsx("p",{className:"text-sm",children:x})}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 mb-2",children:"Email Address"}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:W,onBlur:M,placeholder:"you@example.com","data-testid":"login-email-input",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${h.email?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} focus:outline-none text-gray-900 placeholder-gray-500 bg-white`,"aria-invalid":h.email?"true":"false","aria-describedby":h.email?"email-error":void 0}),h.email&&t.jsx("p",{id:"email-error",className:"mt-2 text-sm text-red-600",role:"alert",children:h.email})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),t.jsx(oe,{to:"/password-reset",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200",children:"Forgot Password?"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:G,onBlur:A,placeholder:"Enter your password","data-testid":"login-password-input",className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${h.password?"border-red-500 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} focus:outline-none text-gray-900 placeholder-gray-500 bg-white`,"aria-invalid":h.password?"true":"false","aria-describedby":h.password?"password-error":void 0}),t.jsx("button",{type:"button",onClick:T,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded p-1","aria-label":c?"Hide password":"Show password",tabIndex:0,children:c?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),h.password&&t.jsx("p",{id:"password-error",className:"mt-2 text-sm text-red-600",role:"alert",children:h.password})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:o,onChange:P=>a(P.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2 focus:ring-offset-2 transition-colors duration-200"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Remember me for 30 days"})]})}),t.jsx("button",{type:"submit",disabled:g,"data-testid":"login-submit-button","aria-label":"Log In",className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:from-blue-700 hover:to-indigo-700 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-blue-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",children:g?t.jsxs("span",{className:"flex items-center justify-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing you in..."]}):t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Log In"]})}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",t.jsx(oe,{to:"/signup",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors duration-200 underline decoration-2 underline-offset-2",children:"Sign up for free"})]})}),t.jsxs("div",{className:"relative my-6",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-200"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Quick access"})})]}),t.jsxs("div",{className:"flex justify-center gap-6 text-xs text-gray-500",children:[t.jsx(oe,{to:"/terms",className:"hover:text-gray-700 transition-colors",children:"Terms"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx(oe,{to:"/privacy",className:"hover:text-gray-700 transition-colors",children:"Privacy"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("a",{href:"mailto:support@localeats.com",className:"hover:text-gray-700 transition-colors",children:"Support"})]})]})]})]})})},y6=()=>{const[e,s]=C.useState(""),[r,i]=C.useState(!1),[o,a]=C.useState(0),[c,u]=C.useState({email:null}),[h,f]=C.useState(null),x=Ue({mutationFn:async v=>(await de.post("https://123local-eats-app.launchpulse.ai/api/auth/password-reset/request",{email:v},{headers:{"Content-Type":"application/json"}})).data,onSuccess:()=>{i(!0),a(60),f(null)},onError:v=>{var E,M;const k=((M=(E=v.response)==null?void 0:E.data)==null?void 0:M.message)||v.message||"Unable to send reset email. Please try again.";f(k)}});C.useEffect(()=>{if(o>0){const v=setTimeout(()=>{a(o-1)},1e3);return()=>clearTimeout(v)}},[o]);const p=v=>!v||v.trim()===""?(u({email:"Email is required"}),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)?(u({email:null}),!0):(u({email:"Please enter a valid email address"}),!1),g=()=>{e&&p(e)},_=v=>{s(v.target.value),c.email&&u({email:null}),h&&f(null)},j=async v=>{v.preventDefault(),p(e)&&x.mutate(e)},N=()=>{o===0&&x.mutate(e)},w=x.isPending,b=e.trim()!==""&&!c.email;return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsxs("div",{className:"px-8 py-10 sm:px-10",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg",children:t.jsx("span",{className:"text-white text-2xl font-bold",children:"LE"})})}),r?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full",children:t.jsx("svg",{className:"h-10 w-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Check Your Email"}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed text-left",children:["If an account exists with ",t.jsx("strong",{className:"text-gray-900",children:e}),", you'll receive a reset link shortly. Check your inbox and spam folder."]})]})}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:t.jsxs("p",{className:"text-xs text-gray-600 leading-relaxed",children:[t.jsx("strong",{className:"text-gray-700",children:"Note:"})," Link valid for 24 hours. For security, if you didn't request this, you can safely ignore this message."]})}),t.jsxs("div",{className:"space-y-4",children:[o>0?t.jsxs("p",{className:"text-sm text-gray-600",children:["Resend in ",t.jsxs("span",{className:"font-semibold text-blue-600",children:[o,"s"]})]}):t.jsx("button",{onClick:N,disabled:w,className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Sending...":"Didn't receive it? Resend"}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsxs(oe,{to:"/login",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Login"]})})]})]})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password?"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Enter your email and we'll send you a reset link"})]}),h&&t.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-red-700 font-medium",children:h}),h.includes("Unable to send")&&t.jsx("button",{onClick:()=>x.mutate(e),className:"mt-2 text-sm font-medium text-red-800 hover:text-red-900 underline",children:"Retry"})]})]})}),t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:_,onBlur:g,placeholder:"you@example.com",className:`block w-full px-4 py-3 rounded-lg border-2 ${c.email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200 text-gray-900 placeholder-gray-400 bg-white focus:outline-none`}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:t.jsx("svg",{className:`h-5 w-5 ${c.email?"text-red-400":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),c.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.email]})]}),t.jsx("button",{type:"submit",disabled:!b||w,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600 shadow-lg hover:shadow-xl",children:w?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"}),t.jsx("div",{className:"text-center pt-4",children:t.jsxs(oe,{to:"/login",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Login"]})})]})]})]})}),t.jsx("div",{className:"text-center mt-6",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Need help?"," ",t.jsx("a",{href:"mailto:support@localeats.com",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"Contact Support"})]})})]})})})},v6=e=>{if(e.length===0)return{level:0,label:"",color:"",bgColor:"",width:"0%"};const s=/[a-zA-Z]/.test(e),r=/\d/.test(e),i=/[A-Z]/.test(e),o=/[!@#$%^&*()_+=[\]{};':"\\|,.<>/?-]/.test(e),a=e.length;return a<8||!s||!r?{level:0,label:"Weak",color:"text-red-600",bgColor:"bg-red-500",width:"25%"}:a===8?{level:1,label:"Weak",color:"text-red-600",bgColor:"bg-red-500",width:"25%"}:a<=12&&(o||i)?{level:2,label:"Medium",color:"text-orange-600",bgColor:"bg-orange-500",width:"66%"}:a>=12&&i&&o?{level:3,label:"Strong",color:"text-green-600",bgColor:"bg-green-500",width:"100%"}:{level:2,label:"Medium",color:"text-orange-600",bgColor:"bg-orange-500",width:"66%"}},_6=e=>e.length===0?"Password is required":e.length<8?"Password must be at least 8 characters":/[a-zA-Z]/.test(e)?/\d/.test(e)?null:"Password must include at least one number":"Password must include at least one letter",b6=()=>{const{reset_token:e}=oi(),s=ut(),[r,i]=C.useState(""),[o,a]=C.useState(""),[c,u]=C.useState(""),[h,f]=C.useState({level:0,label:"",color:"",bgColor:"",width:"0%"}),[x,p]=C.useState(null),[g,_]=C.useState(!0),[j,N]=C.useState({new_password:null,confirm_password:null}),[w,b]=C.useState(null),[v,k]=C.useState(!1),[E,M]=C.useState(0),[A,W]=C.useState(!1),[G,T]=C.useState(!1),[Z,I]=C.useState(!1);C.useEffect(()=>{e?(i(e),p(!0),_(!1)):(p(!1),_(!1))},[e]),C.useEffect(()=>{const H=v6(o);f(H)},[o]),C.useEffect(()=>{if(v&&E>0){const H=setTimeout(()=>{M(ee=>ee-1)},1e3);return()=>clearTimeout(H)}else v&&E===0&&s("/login")},[v,E,s]);const P=H=>{const ee=H.target.value;a(ee),N(me=>({...me,new_password:null})),b(null)},J=H=>{const ee=H.target.value;u(ee),N(ee&&ee!==o?me=>({...me,confirm_password:"Passwords do not match"}):me=>({...me,confirm_password:null})),b(null)},F=()=>{c&&c!==o&&N(H=>({...H,confirm_password:"Passwords do not match"}))},ue=async H=>{var me,fe,ve;H.preventDefault(),b(null),N({new_password:null,confirm_password:null});const ee=_6(o);if(ee){N(ie=>({...ie,new_password:ee}));return}if(o!==c){N(ie=>({...ie,confirm_password:"Passwords do not match"}));return}W(!0);try{await de.post("https://123local-eats-app.launchpulse.ai/api/auth/password-reset/complete",{reset_token:r,new_password:o},{headers:{"Content-Type":"application/json"}}),k(!0),M(3)}catch(ie){const le=((fe=(me=ie.response)==null?void 0:me.data)==null?void 0:fe.message)||ie.message||"Unable to reset password. Please try again.";((ve=ie.response)==null?void 0:ve.status)===400&&(le.toLowerCase().includes("token")||le.toLowerCase().includes("expired")||le.toLowerCase().includes("invalid"))?(p(!1),b("Your reset link has expired or is invalid.")):b(le)}finally{W(!1)}},ne=()=>{T(H=>!H)},xe=()=>{I(H=>!H)},U=()=>{s("/login")},O=C.useCallback(()=>o.length>=8&&/[a-zA-Z]/.test(o)&&/\d/.test(o)&&c===o&&!j.new_password&&!j.confirm_password,[o,c,j]);return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full",children:[g&&t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Validating reset link..."})]})}),!g&&x===!1&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("h1",{className:"text-4xl font-bold text-orange-600",children:"Local Eats"})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[t.jsx("div",{className:"bg-red-100 rounded-full p-4",children:t.jsx(Dr,{className:"h-12 w-12 text-red-600"})}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset Link Expired"}),t.jsx("p",{className:"text-gray-600",children:"Your reset link has expired or is invalid."})]}),t.jsxs("div",{className:"w-full space-y-3",children:[t.jsx(oe,{to:"/password-reset",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors",children:"Request a new reset link"}),t.jsx(oe,{to:"/login",className:"block text-center text-orange-600 hover:text-orange-500 text-sm font-medium transition-colors",children:"Back to Login"})]})]})})]}),!g&&v&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("h1",{className:"text-4xl font-bold text-orange-600",children:"Local Eats"})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[t.jsx("div",{className:"bg-green-100 rounded-full p-4",children:t.jsx(ot,{className:"h-12 w-12 text-green-600"})}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Password Reset Successful!"}),t.jsx("p",{className:"text-gray-600",children:"Your password has been successfully reset."}),t.jsx("p",{className:"text-gray-600",children:"You can now log in with your new password."})]}),E>0&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 w-full",children:t.jsxs("p",{className:"text-blue-700 text-sm text-center",children:["Redirecting to login in ",t.jsx("span",{className:"font-bold",children:E}),"..."]})}),t.jsx("button",{onClick:U,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors",children:"Login Now"})]})})]}),!g&&x===!0&&!v&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("h1",{className:"text-4xl font-bold text-orange-600",children:"Local Eats"})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Password"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your new password below"})]}),w&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[t.jsx(kt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-sm text-red-700",children:w})})]}),t.jsxs("form",{onSubmit:ue,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"new-password",name:"new-password",type:G?"text":"password",autoComplete:"new-password",required:!0,value:o,onChange:P,placeholder:"Create a strong password",className:`block w-full px-4 py-3 pr-12 border ${j.new_password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-orange-500 focus:ring-orange-100"} rounded-lg placeholder-gray-400 text-gray-900 bg-white focus:outline-none focus:ring-4 transition-colors text-sm`}),t.jsx("button",{type:"button",onClick:ne,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors","aria-label":G?"Hide password":"Show password",children:G?t.jsx(Dc,{className:"h-5 w-5"}):t.jsx(Io,{className:"h-5 w-5"})})]}),j.new_password&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.new_password}),o.length>0&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Password strength:"}),t.jsx("span",{className:`text-xs font-semibold ${h.color}`,children:h.label})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:`h-full ${h.bgColor} transition-all duration-300 ease-out`,style:{width:h.width}})})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"confirm-password",name:"confirm-password",type:Z?"text":"password",autoComplete:"new-password",required:!0,value:c,onChange:J,onBlur:F,placeholder:"Re-enter your password",className:`block w-full px-4 py-3 pr-12 border ${j.confirm_password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-300 focus:border-orange-500 focus:ring-orange-100"} rounded-lg placeholder-gray-400 text-gray-900 bg-white focus:outline-none focus:ring-4 transition-colors text-sm`}),t.jsx("button",{type:"button",onClick:xe,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors","aria-label":Z?"Hide password":"Show password",children:Z?t.jsx(Dc,{className:"h-5 w-5"}):t.jsx(Io,{className:"h-5 w-5"})})]}),j.confirm_password&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.confirm_password})]}),t.jsx("div",{className:"pt-2",children:t.jsx("button",{type:"submit",disabled:!O()||A,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:A?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting password..."]}):"Reset Password"})})]}),t.jsx("div",{className:"text-center pt-2",children:t.jsx(oe,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Back to Login"})})]})})]})]})})})},w6=(e,s,r,i)=>{const a=(r-e)*Math.PI/180,c=(i-s)*Math.PI/180,u=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 3959*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},j6=e=>e<.1?"Less than 0.1 mi":`${e.toFixed(1)} mi`,yg=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e],An=e=>{const[s,r]=e.split(":"),i=parseInt(s),o=i>=12?"PM":"AM";return`${i===0?12:i>12?i-12:i}:${r} ${o}`},N6=e=>{const s=new Date,r=s.getDay(),i=`${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}`,o=e.find(c=>c.day_of_week===r);if(!o||o.is_closed||!o.open_time||!o.close_time)return{isOpen:!1,message:"Closed today"};if(i>=o.open_time&&i<=o.close_time)return{isOpen:!0,message:`Closes at ${An(o.close_time)}`};if(i<o.open_time)return{isOpen:!1,message:`Opens at ${An(o.open_time)}`};{const c=e.find(u=>u.day_of_week===(r+1)%7);return c&&!c.is_closed&&c.open_time?{isOpen:!1,message:`Opens tomorrow at ${An(c.open_time)}`}:{isOpen:!1,message:"Closed"}}},k6=e=>"$".repeat(e),C6=e=>{const s=new Date(e),i=new Date().getTime()-s.getTime(),o=Math.floor(i/6e4),a=Math.floor(i/36e5),c=Math.floor(i/864e5);return o<60?`${o} minutes ago`:a<24?`${a} hours ago`:c<7?`${c} days ago`:c<30?`${Math.floor(c/7)} weeks ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},S6=()=>{var ol,li;const{restaurant_id:e}=oi(),[s]=gs(),r=ut(),i=s.get("section"),o=ce(Y=>Y.authentication_state.authentication_status.is_authenticated),a=ce(Y=>Y.user_location.latitude),c=ce(Y=>Y.user_location.longitude),u=ce(Y=>Y.user_location.permission_granted),h=ce(Y=>Y.favorites_list.restaurant_ids),f=ce(Y=>Y.toggle_favorite),x=ce(Y=>Y.add_to_cart),p=ce(Y=>Y.cart_state.items),g=ce(Y=>Y.cart_state.restaurant_id),[_,j]=C.useState(0),[N,w]=C.useState(!1),[b,v]=C.useState(!1),[k,E]=C.useState(!1),[M,A]=C.useState(null),[W,G]=C.useState(!1),[T]=C.useState(null),[Z,I]=C.useState(""),[P,J]=C.useState("created_at"),[F,ue]=C.useState(null),[ne,xe]=C.useState(0),[U,O]=C.useState(new Set),[H,ee]=C.useState(!1),[me,fe]=C.useState(!1),[ve,ie]=C.useState(new Set),[le,D]=C.useState({}),[Q,re]=C.useState(!1),[X,$]=C.useState(""),V=C.useRef(null),je=C.useRef(null),Qe=C.useRef(null),$e="https://123local-eats-app.launchpulse.ai",{data:Se,isLoading:vs,error:Ht}=Fe({queryKey:["restaurant",e],queryFn:async()=>(await de.get(`${$e}/api/restaurants/${e}`)).data,enabled:!!e,staleTime:5*60*1e3,retry:1}),{data:Tt}=Fe({queryKey:["restaurant-hours",e],queryFn:async()=>(await de.get(`${$e}/api/restaurants/${e}/hours`)).data,enabled:!!e,staleTime:5*60*1e3}),{data:B}=Fe({queryKey:["restaurant-photos",e],queryFn:async()=>(await de.get(`${$e}/api/restaurants/${e}/photos`)).data,enabled:!!e,staleTime:5*60*1e3}),{data:ge,isLoading:Te}=Fe({queryKey:["restaurant-menu",e],queryFn:async()=>(await de.get(`${$e}/api/restaurants/${e}/menu`)).data,enabled:!!e,staleTime:5*60*1e3}),{data:bt}=Fe({queryKey:["restaurant-discounts",e],queryFn:async()=>(await de.get(`${$e}/api/restaurants/${e}/discounts`)).data,enabled:!!e,staleTime:5*60*1e3}),{data:Ve,isLoading:K}=Fe({queryKey:["restaurant-reviews",e,P,F,ne],queryFn:async()=>{const Y={sort_by:P,sort_order:"desc",limit:20,offset:ne};return F!==null&&(Y.min_rating=F,Y.max_rating=F),(await de.get(`${$e}/api/restaurants/${e}/reviews`,{params:Y})).data},enabled:!!e,staleTime:2*60*1e3});C.useEffect(()=>{i&&!vs&&setTimeout(()=>{i==="menu"&&V.current?V.current.scrollIntoView({behavior:"smooth"}):i==="reviews"&&je.current?je.current.scrollIntoView({behavior:"smooth"}):i==="discounts"&&Qe.current&&Qe.current.scrollIntoView({behavior:"smooth"})},500)},[i,vs]);const Ne=e?h.includes(e):!1,ht=Se&&a&&c&&u?w6(a,c,Se.latitude,Se.longitude):null,st=Tt!=null&&Tt.hours?N6(Tt.hours):null,bn=(B==null?void 0:B.photos)||[],Ct=Se!=null&&Se.primary_hero_image_url?[{photo_url:Se.primary_hero_image_url,photo_id:"primary",display_order:-1,caption:null},...bn]:bn,wa=(ge==null?void 0:ge.categories.map(Y=>({...Y,items:Y.items.filter(pe=>Z===""||pe.item_name.toLowerCase().includes(Z.toLowerCase())||pe.description&&pe.description.toLowerCase().includes(Z.toLowerCase()))})).filter(Y=>Y.items.length>0))||[],sl=()=>{if(!o){ee(!0);return}e&&f(e)},ja=async()=>{const Y=window.location.href;if(navigator.share)try{await navigator.share({title:(Se==null?void 0:Se.restaurant_name)||"Restaurant",url:Y})}catch{}else navigator.clipboard.writeText(Y),alert("Link copied to clipboard!")},Na=()=>{if(!Se)return;const Y=`${Se.street_address}, ${Se.city}, ${Se.state} ${Se.zip_code}`,pe=encodeURIComponent(Y);/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(`maps://maps.apple.com/?q=${pe}`,"_blank"):window.open(`https://www.google.com/maps/search/?api=1&query=${pe}`,"_blank")},ka=()=>{Se!=null&&Se.phone_number&&(window.location.href=`tel:${Se.phone_number}`)},hd=Y=>{if(!o){ee(!0);return}A(Y),v(!0)},wn=Y=>{A(Y),E(!0)},md=()=>{M!=null&&M.coupon_code&&(navigator.clipboard.writeText(M.coupon_code),fe(!0),setTimeout(()=>fe(!1),2e3))},fd=Y=>{J(Y),xe(0)},Ca=Y=>{ue(Y),xe(0)},rl=()=>{xe(Y=>Y+20)},nl=Y=>{O(pe=>{const Ze=new Set(pe);return Ze.has(Y)?Ze.delete(Y):Ze.add(Y),Ze})},pd=Y=>{ie(pe=>{const Ze=new Set(pe);return Ze.has(Y)?Ze.delete(Y):Ze.add(Y),Ze})},il=()=>{if(!o){ee(!0);return}r(`/restaurant/${e}/review`)},xd=async Y=>{if(!Se||!e||g&&g!==e&&!window.confirm(`Your cart contains items from ${p.length>0?"another restaurant":""}. Adding items from ${Se.restaurant_name} will clear your current cart. Continue?`))return;const pe=le[Y.menu_item_id]||1;await x({menu_item_id:Y.menu_item_id,item_name:Y.item_name,base_price:parseFloat(String(Y.base_price)),customizations:{size:null,add_ons:[],modifications:[],special_instructions:null},quantity:pe},e,Se.restaurant_name),D(Ze=>({...Ze,[Y.menu_item_id]:1})),$(`${pe} x ${Y.item_name}`),re(!0),setTimeout(()=>re(!1),4e3)},al=(Y,pe)=>{D(Ze=>{const Vs=Ze[Y]||1,Wt=Math.max(1,Math.min(99,Vs+pe));return{...Ze,[Y]:Wt}})},gd=Y=>le[Y]||1;return Ht?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:t.jsxs("div",{className:"text-center max-w-md",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Restaurant Not Found"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"The restaurant you're looking for doesn't exist or has been removed."}),t.jsx(oe,{to:"/",className:"inline-block bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Browse Restaurants"})]})})}):vs?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"w-full h-64 md:h-96 bg-gray-200 animate-pulse"}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsx("div",{className:"h-12 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-48 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]})]})})]})}):Se?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative w-full h-64 md:h-96 bg-gray-900",children:Ct.length>0?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:((ol=Ct[_])==null?void 0:ol.photo_url)||"",alt:Se.restaurant_name,className:"w-full h-full object-cover cursor-pointer",onClick:()=>w(!0)}),t.jsxs("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-full text-sm",children:[_+1," / ",Ct.length]}),Ct.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>j(Y=>Y===0?Ct.length-1:Y-1),className:"hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 p-2 rounded-full transition-all","aria-label":"Previous image",children:t.jsx(Ao,{className:"w-6 h-6 text-gray-900"})}),t.jsx("button",{onClick:()=>j(Y=>Y===Ct.length-1?0:Y+1),className:"hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 p-2 rounded-full transition-all","aria-label":"Next image",children:t.jsx(ni,{className:"w-6 h-6 text-gray-900"})})]})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:t.jsx("p",{className:"text-gray-500",children:"No photos available"})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight mb-3",children:Se.restaurant_name}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Se.cuisine_types.map((Y,pe)=>t.jsx(oe,{to:`/search?cuisine_types=${encodeURIComponent(Y)}`,className:"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium hover:bg-orange-200 transition-colors",children:Y},pe))}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[t.jsxs("button",{onClick:()=>{var Y;return(Y=je.current)==null?void 0:Y.scrollIntoView({behavior:"smooth"})},className:"flex items-center gap-1 hover:underline",children:[t.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((Y,pe)=>t.jsx(nt,{className:`w-5 h-5 ${pe<Math.floor(Se.average_rating)?"fill-yellow-400 text-yellow-400":pe<Se.average_rating?"fill-yellow-200 text-yellow-400":"text-gray-300"}`},pe))}),t.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:Number(Se.average_rating).toFixed(1)}),t.jsxs("span",{className:"text-gray-600",children:["(",Se.total_review_count," reviews)"]})]}),t.jsx("span",{className:"text-gray-900 font-medium",children:k6(Se.price_range)}),ht!==null&&t.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx(it,{className:"w-4 h-4"}),j6(ht)]})]}),Se.description&&t.jsx("p",{className:"mt-4 text-gray-600 leading-relaxed",children:Se.description})]}),t.jsxs("div",{className:"hidden lg:flex flex-col gap-2 ml-6",children:[t.jsx("button",{onClick:sl,className:`p-3 rounded-lg border-2 transition-all ${Ne?"bg-red-50 border-red-500 text-red-600 hover:bg-red-100":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"}`,"aria-label":Ne?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-6 h-6 ${Ne?"fill-current":""}`})}),t.jsx("button",{onClick:ja,className:"p-3 rounded-lg border-2 border-gray-300 bg-white text-gray-600 hover:bg-gray-50 transition-all","aria-label":"Share restaurant",children:t.jsx(pg,{className:"w-6 h-6"})})]})]}),t.jsxs("div",{className:"lg:hidden grid grid-cols-2 gap-3 mt-6",children:[t.jsxs("button",{onClick:sl,className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${Ne?"bg-red-600 text-white hover:bg-red-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[t.jsx(Et,{className:`w-5 h-5 ${Ne?"fill-current":""}`}),Ne?"Favorited":"Favorite"]}),t.jsxs("button",{onClick:ja,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-gray-100 text-gray-900 font-medium hover:bg-gray-200 transition-all",children:[t.jsx(pg,{className:"w-5 h-5"}),"Share"]})]})]}),bt&&bt.discounts.length>0&&t.jsxs("div",{ref:Qe,className:"space-y-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Exclusive Discounts"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:bt.discounts.map(Y=>t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl p-6 shadow-lg",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:Y.discount_type==="percentage"?`${Number(Y.discount_value)}% OFF`:`$${Number(Y.discount_value).toFixed(2)} OFF`}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:Y.description})]})}),t.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Valid until ",new Date(Y.end_date).toLocaleDateString()]}),Y.terms_conditions&&t.jsx("button",{onClick:()=>pd(Y.discount_id),className:"flex items-center gap-1 text-sm text-orange-700 hover:text-orange-800 font-medium mb-3",children:ve.has(Y.discount_id)?t.jsxs(t.Fragment,{children:[t.jsx(Jh,{className:"w-4 h-4"}),"Hide Terms"]}):t.jsxs(t.Fragment,{children:[t.jsx(Bs,{className:"w-4 h-4"}),"View Terms"]})}),ve.has(Y.discount_id)&&Y.terms_conditions&&t.jsx("div",{className:"bg-white bg-opacity-60 rounded-lg p-3 mb-3 text-xs text-gray-700",children:Y.terms_conditions}),t.jsxs("div",{className:"flex gap-2",children:[Y.qr_code_data&&t.jsx("button",{onClick:()=>hd(Y),className:"flex-1 bg-orange-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Redeem with QR"}),Y.coupon_code&&t.jsx("button",{onClick:()=>wn(Y),className:"flex-1 bg-white border-2 border-orange-600 text-orange-600 px-4 py-2 rounded-lg font-medium hover:bg-orange-50 transition-colors",children:"Get Code"})]})]},Y.discount_id))})]}),t.jsxs("div",{ref:V,className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Menu"}),ge&&ge.categories.length>0&&t.jsxs("div",{className:"relative w-64",children:[t.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search menu...",value:Z,onChange:Y=>I(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),Z&&t.jsx("button",{onClick:()=>I(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(Le,{className:"w-4 h-4"})})]})]}),Te?t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),t.jsx("div",{className:"h-24 bg-gray-200 rounded"}),t.jsx("div",{className:"h-24 bg-gray-200 rounded"}),t.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})}):wa.length>0?t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[ge&&ge.categories.length>1&&t.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200",children:t.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:ge.categories.map(Y=>t.jsx("button",{onClick:()=>{const pe=document.getElementById(`category-${Y.category.category_id}`);pe==null||pe.scrollIntoView({behavior:"smooth",block:"start"})},className:`px-6 py-4 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${T===Y.category.category_id?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:Y.category.category_name},Y.category.category_id))})}),t.jsx("div",{className:"p-6 space-y-8",children:wa.map(Y=>t.jsxs("div",{id:`category-${Y.category.category_id}`,children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:Y.category.category_name}),t.jsx("div",{className:"space-y-6",children:Y.items.map(pe=>t.jsxs("div",{className:"flex gap-4 pb-6 border-b border-gray-100 last:border-0",children:[pe.item_photo_url&&t.jsx("img",{src:pe.item_photo_url,alt:pe.item_name,className:"w-20 h-20 md:w-24 md:h-24 object-cover rounded-lg flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:pe.item_name}),pe.is_popular&&t.jsx("span",{className:"bg-orange-100 text-orange-700 text-xs px-2 py-0.5 rounded-full font-medium",children:"Popular"})]}),pe.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:pe.description}),pe.dietary_preferences.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:pe.dietary_preferences.map((Ze,Vs)=>t.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full",children:Ze},Vs))}),pe.spice_level!==null&&pe.spice_level>0&&t.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[t.jsx("span",{className:"text-xs text-gray-600",children:"Spice:"}),t.jsx("span",{className:"text-red-500",children:"".repeat(pe.spice_level)})]})]}),t.jsxs("span",{className:"font-bold text-gray-900 flex-shrink-0",children:["$",parseFloat(String(pe.base_price)).toFixed(2)]})]}),pe.allergen_info.length>0&&t.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Contains: ",pe.allergen_info.join(", ")]}),pe.is_available&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[t.jsx("button",{onClick:()=>al(pe.menu_item_id,-1),className:"p-2 hover:bg-gray-100 transition-colors","aria-label":"Decrease quantity",children:t.jsx(Xh,{className:"w-4 h-4 text-gray-600"})}),t.jsx("span",{className:"px-4 py-2 min-w-[3rem] text-center font-medium text-gray-900",children:gd(pe.menu_item_id)}),t.jsx("button",{onClick:()=>al(pe.menu_item_id,1),className:"p-2 hover:bg-gray-100 transition-colors","aria-label":"Increase quantity",children:t.jsx(Fo,{className:"w-4 h-4 text-gray-600"})})]}),t.jsxs("button",{onClick:()=>xd(pe),className:"flex-1 flex items-center justify-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:[t.jsx(Bi,{className:"w-4 h-4"}),"Add to Cart"]})]}),!pe.is_available&&t.jsx("div",{className:"bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium text-center",children:"Currently Unavailable"})]})]},pe.menu_item_id))})]},Y.category.category_id))})]}):ge&&ge.categories.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Menu coming soon"}),t.jsx("button",{onClick:ka,className:"text-orange-600 hover:text-orange-700 font-medium",children:"Call restaurant for current menu"})]}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 text-center",children:[t.jsx("p",{className:"text-gray-600",children:"No menu items match your search."}),t.jsx("button",{onClick:()=>I(""),className:"mt-4 text-orange-600 hover:text-orange-700 font-medium",children:"Clear search"})]})]}),t.jsxs("div",{ref:je,className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews"}),Ve&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:Number(Ve.average_rating).toFixed(1)}),t.jsx("div",{className:"flex items-center justify-center gap-1 mb-2",children:Array.from({length:5}).map((Y,pe)=>t.jsx(nt,{className:`w-6 h-6 ${pe<Math.floor(Ve.average_rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},pe))}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",Ve.total_count," reviews"]})]}),t.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(Y=>{const pe=Ve.rating_distribution[`${["one","two","three","four","five"][Y-1]}_star`],Ze=Ve.total_count>0?pe/Ve.total_count*100:0;return t.jsxs("button",{onClick:()=>Ca(F===Y?null:Y),className:`w-full flex items-center gap-3 hover:bg-gray-50 p-2 rounded transition-colors ${F===Y?"bg-orange-50":""}`,children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700 w-12",children:[Y," "]}),t.jsx("div",{className:"flex-1 h-3 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${Ze}%`}})}),t.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:pe})]},Y)})})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsx("button",{onClick:il,className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Write a Review"})})]}),Ve&&Ve.reviews.length>0&&t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("select",{value:P,onChange:Y=>fd(Y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"created_at",children:"Most Recent"}),t.jsx("option",{value:"star_rating",children:"Highest Rated"}),t.jsx("option",{value:"helpful_count",children:"Most Helpful"})]}),F!==null&&t.jsxs("button",{onClick:()=>Ca(null),className:"flex items-center gap-2 px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors",children:[F," stars",t.jsx(Le,{className:"w-4 h-4"})]})]}),K?t.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((Y,pe)=>t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 animate-pulse",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})},pe))}):Ve&&Ve.reviews.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-6",children:Ve.reviews.map(({review:Y,user:pe,photos:Ze})=>{const Vs=U.has(Y.review_id),Wt=Y.review_text.length>200;return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[pe.profile_picture_url?t.jsx("img",{src:pe.profile_picture_url,alt:pe.full_name,className:"w-12 h-12 rounded-full object-cover"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx("span",{className:"text-gray-600 font-medium",children:pe.full_name.charAt(0)})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:pe.full_name}),Y.is_verified_visit&&t.jsxs("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Verified"]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((ke,Sa)=>t.jsx(nt,{className:`w-4 h-4 ${Sa<Y.star_rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Sa))}),t.jsx("span",{className:"text-sm text-gray-500",children:C6(Y.created_at)}),Y.is_edited&&t.jsx("span",{className:"text-xs text-gray-400 italic",children:"(edited)"})]})]})]}),Y.review_title&&t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:Y.review_title}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:Wt&&!Vs?`${Y.review_text.substring(0,200)}...`:Y.review_text}),Wt&&t.jsx("button",{onClick:()=>nl(Y.review_id),className:"text-orange-600 hover:text-orange-700 text-sm font-medium mt-2",children:Vs?"Show less":"Read more"}),Ze.length>0&&t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 mt-4",children:Ze.map(ke=>t.jsx("img",{src:ke.photo_url,alt:"Review photo",className:"w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{}},ke.photo_id))}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-200",children:[t.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[t.jsx(_k,{className:"w-4 h-4"}),"Helpful (",Y.helpful_count,")"]}),t.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[t.jsx(e_,{className:"w-4 h-4"}),"Report"]})]})]},Y.review_id)})}),Ve.total_count>Ve.reviews.length&&t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:rl,className:"bg-white border-2 border-gray-300 text-gray-900 px-8 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Load More Reviews"})})]}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"No reviews yet. Be the first to review!"}),t.jsx("button",{onClick:il,className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Write a Review"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 sticky top-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Contact & Hours"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(it,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-900",children:Se.street_address}),Se.apartment_suite&&t.jsx("p",{className:"text-gray-900",children:Se.apartment_suite}),t.jsxs("p",{className:"text-gray-900",children:[Se.city,", ",Se.state," ",Se.zip_code]})]})]}),t.jsx("button",{onClick:Na,className:"w-full bg-orange-100 text-orange-700 px-4 py-2 rounded-lg font-medium hover:bg-orange-200 transition-colors",children:"Get Directions"})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("button",{onClick:ka,className:"w-full flex items-center justify-center gap-2 bg-gray-100 text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[t.jsx(da,{className:"w-5 h-5"}),Se.phone_number]})}),Tt&&Tt.hours.length>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ss,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Hours"})]}),st&&t.jsx("span",{className:`text-sm font-medium ${st.isOpen?"text-green-600":"text-red-600"}`,children:st.isOpen?"Open":"Closed"})]}),st&&t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:st.message}),(()=>{const Y=new Date().getDay(),pe=Tt.hours.find(Ze=>Ze.day_of_week===Y);return t.jsxs("div",{className:"text-sm text-gray-900 mb-2",children:[t.jsxs("span",{className:"font-medium",children:[yg(Y),": "]}),pe!=null&&pe.is_closed||!(pe!=null&&pe.open_time)||!(pe!=null&&pe.close_time)?"Closed":`${An(pe.open_time)} - ${An(pe.close_time)}`]})})(),t.jsx("button",{onClick:()=>G(!W),className:"flex items-center gap-1 text-sm text-orange-600 hover:text-orange-700 font-medium",children:W?t.jsxs(t.Fragment,{children:[t.jsx(Jh,{className:"w-4 h-4"}),"Hide weekly hours"]}):t.jsxs(t.Fragment,{children:[t.jsx(Bs,{className:"w-4 h-4"}),"View weekly hours"]})}),W&&t.jsx("div",{className:"mt-3 space-y-2 text-sm",children:[0,1,2,3,4,5,6].map(Y=>{const pe=Tt.hours.find(Vs=>Vs.day_of_week===Y),Ze=Y===new Date().getDay();return t.jsxs("div",{className:`flex justify-between ${Ze?"font-semibold":""}`,children:[t.jsx("span",{className:Ze?"text-orange-600":"text-gray-700",children:yg(Y)}),t.jsx("span",{className:Ze?"text-orange-600":"text-gray-600",children:pe!=null&&pe.is_closed||!(pe!=null&&pe.open_time)||!(pe!=null&&pe.close_time)?"Closed":`${An(pe.open_time)} - ${An(pe.close_time)}`})]},Y)})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>{var Y;return(Y=V.current)==null?void 0:Y.scrollIntoView({behavior:"smooth"})},disabled:!(st!=null&&st.isOpen),className:`w-full px-6 py-4 rounded-lg font-medium text-lg transition-all ${st!=null&&st.isOpen?"bg-orange-600 text-white hover:bg-orange-700 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:st!=null&&st.isOpen?"Start Order":"Closed"}),p.length>0&&g===e&&t.jsxs("button",{onClick:()=>r("/cart"),className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:[t.jsx(Bi,{className:"w-5 h-5"}),"View Cart (",p.length,")"]})]})]})]})}),N&&t.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:[t.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 p-2","aria-label":"Close lightbox",children:t.jsx(Le,{className:"w-8 h-8"})}),Ct.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>j(Y=>Y===0?Ct.length-1:Y-1),className:"absolute left-4 text-white hover:text-gray-300 p-2","aria-label":"Previous image",children:t.jsx(Ao,{className:"w-8 h-8"})}),t.jsx("button",{onClick:()=>j(Y=>Y===Ct.length-1?0:Y+1),className:"absolute right-4 text-white hover:text-gray-300 p-2","aria-label":"Next image",children:t.jsx(ni,{className:"w-8 h-8"})})]}),t.jsx("img",{src:((li=Ct[_])==null?void 0:li.photo_url)||"",alt:"Restaurant",className:"max-w-full max-h-full object-contain"}),t.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white bg-black bg-opacity-60 px-4 py-2 rounded-full",children:[_+1," / ",Ct.length]})]}),b&&M&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[t.jsx("button",{onClick:()=>{v(!1),A(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:t.jsx(Le,{className:"w-6 h-6"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Scan to Redeem"}),t.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:M.description}),t.jsx("div",{className:"bg-white border-4 border-gray-200 p-6 rounded-xl mb-6",children:t.jsx("div",{className:"w-64 h-64 mx-auto bg-gray-100 flex items-center justify-center",children:t.jsxs("p",{className:"text-gray-400 text-sm text-center",children:["QR Code",t.jsx("br",{}),M.qr_code_data]})})}),t.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"Show this code to restaurant staff at checkout"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center mb-6",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Backup Code"}),t.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:M.qr_code_data||"DISCOUNT123"})]}),t.jsx("button",{onClick:()=>{v(!1),A(null)},className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Done"})]})}),k&&M&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[t.jsx("button",{onClick:()=>{E(!1),A(null),fe(!1)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:t.jsx(Le,{className:"w-6 h-6"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Your Coupon Code"}),t.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:M.description}),t.jsxs("div",{className:"border-2 border-dashed border-orange-400 rounded-xl p-6 mb-6 bg-orange-50",children:[t.jsx("p",{className:"text-3xl font-mono font-bold text-orange-700 text-center mb-4",children:M.coupon_code}),t.jsx("button",{onClick:md,className:"w-full flex items-center justify-center gap-2 bg-orange-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:me?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5"}),"Code Copied!"]}):t.jsxs(t.Fragment,{children:[t.jsx(Yv,{className:"w-5 h-5"}),"Copy Code"]})})]}),t.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Apply this code at checkout when ordering online"}),t.jsx("button",{onClick:()=>{E(!1),A(null),fe(!1)},className:"w-full bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Close"})]})}),H&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[t.jsx("button",{onClick:()=>ee(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:t.jsx(Le,{className:"w-6 h-6"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Join Local Eats"}),t.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Sign up to save favorites, write reviews, and unlock exclusive discounts!"}),t.jsxs("ul",{className:"space-y-3 mb-8",children:[t.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx(Dt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),"Save favorite restaurants"]}),t.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx(Dt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),"Place orders in seconds"]}),t.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx(Dt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),"Write reviews and earn badges"]}),t.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx(Dt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),"Get personalized recommendations"]}),t.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx(Dt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),"Access exclusive discounts"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(oe,{to:"/signup",className:"block w-full bg-orange-600 text-white text-center px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Sign Up"}),t.jsx(oe,{to:"/login",className:"block w-full bg-gray-100 text-gray-900 text-center px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Log In"}),t.jsx("button",{onClick:()=>ee(!1),className:"block w-full text-gray-600 text-center py-2 hover:text-gray-900 transition-colors text-sm",children:"Continue as Guest"})]})]})}),Q&&t.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-top duration-300",children:t.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-lg shadow-2xl flex items-center gap-3 min-w-[300px] max-w-[90vw]",children:[t.jsx(ot,{className:"w-6 h-6 flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold",children:"Added to cart!"}),t.jsx("p",{className:"text-sm text-green-100",children:X})]}),t.jsx("button",{onClick:()=>re(!1),className:"text-white hover:text-green-100 transition-colors","aria-label":"Close notification",children:t.jsx(Le,{className:"w-5 h-5"})})]})}),p.length>0&&g===e&&t.jsx("div",{className:"fixed bottom-20 right-4 z-40 md:hidden",children:t.jsxs("button",{onClick:()=>r("/cart"),className:"bg-green-600 text-white p-4 rounded-full shadow-2xl hover:bg-green-700 transition-all hover:scale-110 flex items-center gap-3 pr-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Bi,{className:"w-6 h-6"}),t.jsx("span",{className:"absolute -top-2 -right-2 bg-white text-green-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:p.length})]}),t.jsx("span",{className:"font-semibold",children:"View Cart"})]})})]}):null},P6=["Italian","Mexican","Chinese","Japanese","Thai","Indian","American","Mediterranean","Korean","Vietnamese","Middle Eastern","French","Greek","Spanish","Caribbean","African"],L6=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Nut-Free","Halal","Kosher"],E6=[{value:"recommended",label:"Recommended"},{value:"distance",label:"Distance"},{value:"rating",label:"Rating"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"newest",label:"Newest"},{value:"popular",label:"Most Popular"}],M6=[{value:.5,label:"0.5 miles"},{value:1,label:"1 mile"},{value:2,label:"2 miles"},{value:5,label:"5 miles"},{value:10,label:"10 miles"}],T6=[{value:null,label:"Any Rating"},{value:3,label:"3.0+"},{value:3.5,label:"3.5+"},{value:4,label:"4.0+"},{value:4.5,label:"4.5+"}],R6=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200"}),t.jsxs("div",{className:"p-6 space-y-3",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),t.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})]}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})]}),z6=()=>{const[e,s]=gs(),r=ce(T=>T.user_location.latitude),i=ce(T=>T.user_location.longitude),o=ce(T=>T.favorites_list.restaurant_ids),a=ce(T=>T.toggle_favorite),[c,u]=C.useState(!1),h=e.get("query")||"",f=e.get("sort_by")||"recommended",x=Number(e.get("page"))||1,p=C.useMemo(()=>{var T,Z;return{cuisine_types:((T=e.get("cuisine_types"))==null?void 0:T.split(",").filter(Boolean))||[],price_min:e.get("price_min")?Number(e.get("price_min")):null,price_max:e.get("price_max")?Number(e.get("price_max")):null,distance_max:e.get("distance_max")?Number(e.get("distance_max")):null,rating_min:e.get("rating_min")?Number(e.get("rating_min")):null,dietary_preferences:((Z=e.get("dietary_preferences"))==null?void 0:Z.split(",").filter(Boolean))||[],open_now:e.get("open_now")==="true",has_discount:e.get("has_discount")==="true"}},[e]),{data:g,isLoading:_,error:j,refetch:N}=Fe({queryKey:["restaurants","search",{query:h,filters:p,sort:f,page:x,lat:r,lng:i}],queryFn:async()=>{const T={limit:20,offset:(x-1)*20};return h&&(T.query=h),p.cuisine_types.length>0&&(T.cuisine_types=p.cuisine_types.join(",")),p.price_min!==null&&(T.price_min=p.price_min),p.price_max!==null&&(T.price_max=p.price_max),p.distance_max!==null&&(T.distance_max=p.distance_max),p.rating_min!==null&&(T.rating_min=p.rating_min),p.dietary_preferences.length>0&&(T.dietary_preferences=p.dietary_preferences.join(",")),p.open_now&&(T.open_now=!0),p.has_discount&&(T.has_discount=!0),r&&i&&(T.latitude=r,T.longitude=i),f==="distance"?(T.sort_by="distance",T.sort_order="asc"):f==="rating"?(T.sort_by="average_rating",T.sort_order="desc"):f==="price_low"?(T.sort_by="price_range",T.sort_order="asc"):f==="price_high"?(T.sort_by="price_range",T.sort_order="desc"):f==="newest"?(T.sort_by="created_at",T.sort_order="desc"):f==="popular"?(T.sort_by="total_order_count",T.sort_order="desc"):(T.sort_by="average_rating",T.sort_order="desc"),(await de.get("https://123local-eats-app.launchpulse.ai/api/restaurants",{params:T})).data},staleTime:6e4,select:T=>({restaurants:T.restaurants.map(Z=>({...Z,price_range:Number(Z.price_range),average_rating:Number(Z.average_rating),total_review_count:Number(Z.total_review_count),total_order_count:Number(Z.total_order_count)})),total_count:Number(T.total_count),page:Number(T.page),limit:Number(T.limit)})}),w=T=>{const Z=new URLSearchParams(e);Object.entries(T).forEach(([I,P])=>{P===null||P===""?Z.delete(I):Z.set(I,P)}),s(Z)},b=T=>{w({sort_by:T,page:"1"})},v=T=>{const Z={cuisine_types:T.cuisine_types.length>0?T.cuisine_types.join(","):null,price_min:T.price_min!==null?String(T.price_min):null,price_max:T.price_max!==null?String(T.price_max):null,distance_max:T.distance_max!==null?String(T.distance_max):null,rating_min:T.rating_min!==null?String(T.rating_min):null,dietary_preferences:T.dietary_preferences.length>0?T.dietary_preferences.join(","):null,open_now:T.open_now?"true":null,has_discount:T.has_discount?"true":null,page:"1"};w(Z),u(!1)},k=(T,Z)=>{const I={...p};T==="cuisine_types"&&Z?I.cuisine_types=I.cuisine_types.filter(P=>P!==Z):T==="dietary_preferences"&&Z?I.dietary_preferences=I.dietary_preferences.filter(P=>P!==Z):T==="price_min"?I.price_min=null:T==="price_max"?I.price_max=null:T==="distance_max"?I.distance_max=null:T==="rating_min"?I.rating_min=null:T==="open_now"?I.open_now=!1:T==="has_discount"&&(I.has_discount=!1),v(I)},E=()=>{v({cuisine_types:[],price_min:null,price_max:null,distance_max:null,rating_min:null,dietary_preferences:[],open_now:!1,has_discount:!1})},M=()=>{w({query:null,page:"1"})},A=()=>{w({page:String(x+1)})},W=T=>{a(T)},G=C.useMemo(()=>{let T=0;return p.cuisine_types.length>0&&(T+=p.cuisine_types.length),p.dietary_preferences.length>0&&(T+=p.dietary_preferences.length),p.price_min!==null&&(T+=1),p.price_max!==null&&(T+=1),p.distance_max!==null&&(T+=1),p.rating_min!==null&&(T+=1),p.open_now&&(T+=1),p.has_discount&&(T+=1),T},[p]);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[t.jsxs(oe,{to:"/",className:"hover:text-orange-600 transition-colors flex items-center gap-1",children:[t.jsx(Bc,{className:"w-4 h-4"}),"Home"]}),t.jsx(ni,{className:"w-4 h-4"}),t.jsx("span",{className:"text-gray-900",children:"Search"}),h&&t.jsxs(t.Fragment,{children:[t.jsx(ni,{className:"w-4 h-4"}),t.jsx("span",{className:"text-gray-900 font-medium",children:h})]})]}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:h?`Results for "${h}"`:"Search Results"}),!_&&g&&t.jsxs("p",{className:"text-gray-600",children:["Found ",g.total_count," restaurant",g.total_count!==1?"s":"",h&&` matching "${h}"`]}),h&&t.jsx("div",{className:"mt-4",children:t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-100 text-orange-800 px-4 py-2 rounded-full",children:[t.jsx(ms,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:h}),t.jsx("button",{onClick:M,className:"hover:bg-orange-200 rounded-full p-1 transition-colors","aria-label":"Clear search",children:t.jsx(Le,{className:"w-4 h-4"})})]})})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{htmlFor:"sort",className:"sr-only",children:"Sort by"}),t.jsx("select",{id:"sort",value:f,onChange:T=>b(T.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-10 text-gray-900 font-medium hover:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all cursor-pointer",children:E6.map(T=>t.jsxs("option",{value:T.value,children:["Sort: ",T.label]},T.value))}),t.jsx(Bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),t.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 font-medium hover:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all",children:[t.jsx(s_,{className:"w-5 h-5"}),"Filters",G>0&&t.jsx("span",{className:"bg-orange-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:G})]})]}),G>0&&t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Active Filters:"}),p.cuisine_types.map(T=>t.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsx("span",{children:T}),t.jsx("button",{onClick:()=>k("cuisine_types",T),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${T} filter`,children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]},T)),p.dietary_preferences.map(T=>t.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsx("span",{children:T}),t.jsx("button",{onClick:()=>k("dietary_preferences",T),className:"hover:bg-green-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${T} filter`,children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]},T)),(p.price_min!==null||p.price_max!==null)&&t.jsxs("div",{className:"inline-flex items-center gap-2 bg-purple-100 text-purple-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsxs("span",{children:["$".repeat(p.price_min||1),p.price_max&&p.price_max!==p.price_min?` - ${"$".repeat(p.price_max)}`:""]}),t.jsx("button",{onClick:()=>{k("price_min"),k("price_max")},className:"hover:bg-purple-200 rounded-full p-0.5 transition-colors","aria-label":"Remove price filter",children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]}),p.distance_max!==null&&t.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-100 text-indigo-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsxs("span",{children:["Within ",p.distance_max," mi"]}),t.jsx("button",{onClick:()=>k("distance_max"),className:"hover:bg-indigo-200 rounded-full p-0.5 transition-colors","aria-label":"Remove distance filter",children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]}),p.rating_min!==null&&t.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-100 text-yellow-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsxs("span",{children:[p.rating_min,"+ Stars"]}),t.jsx("button",{onClick:()=>k("rating_min"),className:"hover:bg-yellow-200 rounded-full p-0.5 transition-colors","aria-label":"Remove rating filter",children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]}),p.open_now&&t.jsxs("div",{className:"inline-flex items-center gap-2 bg-teal-100 text-teal-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsx("span",{children:"Open Now"}),t.jsx("button",{onClick:()=>k("open_now"),className:"hover:bg-teal-200 rounded-full p-0.5 transition-colors","aria-label":"Remove open now filter",children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]}),p.has_discount&&t.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-100 text-red-800 px-3 py-1.5 rounded-full text-sm",children:[t.jsx("span",{children:"Has Discount"}),t.jsx("button",{onClick:()=>k("has_discount"),className:"hover:bg-red-200 rounded-full p-0.5 transition-colors","aria-label":"Remove discount filter",children:t.jsx(Le,{className:"w-3.5 h-3.5"})})]}),t.jsx("button",{onClick:E,className:"text-sm text-orange-600 hover:text-orange-700 font-medium underline",children:"Clear All"})]})}),_&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:20}).map((T,Z)=>t.jsx(R6,{},Z))}),j&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[t.jsx(kt,{className:"w-16 h-16 text-red-500 mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Results"}),t.jsx("p",{className:"text-gray-600 mb-6",children:j instanceof Error?j.message:"Something went wrong. Please try again."}),t.jsx("button",{onClick:()=>N(),className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Try Again"})]}),!_&&!j&&g&&g.restaurants.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[t.jsx(ms,{className:"w-20 h-20 text-gray-300 mb-6"}),t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:["No restaurants found",h&&` for "${h}"`]}),t.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:G>0?"Try adjusting your filters or search terms to find what you're looking for.":"Try different search terms or browse all restaurants."}),t.jsxs("div",{className:"flex gap-4",children:[G>0&&t.jsx("button",{onClick:E,className:"bg-white border-2 border-orange-600 text-orange-600 px-6 py-3 rounded-lg font-medium hover:bg-orange-50 transition-colors",children:"Clear Filters"}),t.jsx(oe,{to:"/",className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Browse All Restaurants"})]})]}),!_&&!j&&g&&g.restaurants.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.restaurants.map(T=>{const Z=o.includes(T.restaurant_id),I="$".repeat(T.price_range);return t.jsx("div",{className:"group",children:t.jsxs(oe,{to:`/restaurant/${T.restaurant_id}`,className:"block bg-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 overflow-hidden",children:[t.jsxs("div",{className:"relative h-48 bg-gray-200",children:[T.primary_hero_image_url?t.jsx("img",{src:T.primary_hero_image_url,alt:T.restaurant_name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-orange-100 to-red-100",children:t.jsx("span",{className:"text-4xl",children:""})}),t.jsx("button",{onClick:P=>{P.preventDefault(),W(T.restaurant_id)},className:"absolute top-3 right-3 bg-white rounded-full p-2 shadow-lg hover:scale-110 transition-transform z-10","aria-label":Z?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-5 h-5 ${Z?"fill-red-500 text-red-500":"text-gray-400"}`})}),t.jsx("div",{className:"absolute top-3 left-3",children:T.is_currently_open?t.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"OPEN"}):t.jsx("span",{className:"bg-gray-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"CLOSED"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:T.restaurant_name}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[T.cuisine_types.slice(0,2).map(P=>t.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:P},P)),T.cuisine_types.length>2&&t.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs font-medium px-2.5 py-0.5 rounded-full",children:["+",T.cuisine_types.length-2]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((P,J)=>{const F=J<Math.floor(T.average_rating),ue=J===Math.floor(T.average_rating)&&T.average_rating%1>=.5;return t.jsx(nt,{className:`w-4 h-4 ${F||ue?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},J)})}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Number(T.average_rating).toFixed(1)}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",T.total_review_count,")"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700 font-semibold",children:I}),r&&i&&t.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsxs("span",{children:[(Math.sqrt(Math.pow(T.latitude-r,2)+Math.pow(T.longitude-i,2))*69).toFixed(1)," mi"]})]})]})]})]})},T.restaurant_id)})}),g.restaurants.length<g.total_count&&t.jsx("div",{className:"mt-12 text-center",children:t.jsxs("button",{onClick:A,className:"bg-orange-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors inline-flex items-center gap-2",children:["Load More Restaurants",t.jsx(Bs,{className:"w-5 h-5"})]})}),g.restaurants.length>=g.total_count&&g.total_count>20&&t.jsx("div",{className:"mt-12 text-center",children:t.jsxs("p",{className:"text-gray-600",children:["You've seen all ",g.total_count," restaurants"]})})]})]}),c&&t.jsx(O6,{activeFilters:p,onApply:v,onClose:()=>u(!1),hasLocationPermission:r!==null&&i!==null})]})})},O6=({activeFilters:e,onApply:s,onClose:r,hasLocationPermission:i})=>{const[o,a]=C.useState(e),[c,u]=C.useState(new Set(["cuisine","price","distance","rating","dietary","other"])),h=p=>{u(g=>{const _=new Set(g);return _.has(p)?_.delete(p):_.add(p),_})},f=()=>{s(o)},x=()=>{a({cuisine_types:[],price_min:null,price_max:null,distance_max:null,rating_min:null,dietary_preferences:[],open_now:!1,has_discount:!1})};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:r}),t.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col animate-slide-in-right",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Filters"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close filters",children:t.jsx(Le,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[t.jsxs("button",{onClick:()=>h("cuisine"),className:"w-full flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cuisine Type"}),t.jsx(Bs,{className:`w-5 h-5 transition-transform ${c.has("cuisine")?"":"-rotate-90"}`})]}),c.has("cuisine")&&t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:P6.map(p=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[t.jsx("input",{type:"checkbox",checked:o.cuisine_types.includes(p),onChange:g=>{g.target.checked?a(_=>({..._,cuisine_types:[..._.cuisine_types,p]})):a(_=>({..._,cuisine_types:_.cuisine_types.filter(j=>j!==p)}))},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("span",{className:"text-gray-900",children:p})]},p))})]}),t.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[t.jsxs("button",{onClick:()=>h("price"),className:"w-full flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Price Range"}),t.jsx(Bs,{className:`w-5 h-5 transition-transform ${c.has("price")?"":"-rotate-90"}`})]}),c.has("price")&&t.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(p=>{const g=o.price_min!==null&&o.price_min<=p&&o.price_max!==null&&o.price_max>=p;return t.jsx("button",{onClick:()=>{o.price_min===p&&o.price_max===p?a(_=>({..._,price_min:null,price_max:null})):a(_=>{const j=_.price_min===null?p:Math.min(_.price_min,p),N=_.price_max===null?p:Math.max(_.price_max,p);return{..._,price_min:j,price_max:N}})},className:`flex-1 py-3 px-4 rounded-lg border-2 font-semibold transition-all ${g?"bg-orange-600 border-orange-600 text-white":"bg-white border-gray-300 text-gray-700 hover:border-orange-500"}`,children:"$".repeat(p)},p)})})]}),t.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[t.jsxs("button",{onClick:()=>h("distance"),className:"w-full flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distance"}),t.jsx(Bs,{className:`w-5 h-5 transition-transform ${c.has("distance")?"":"-rotate-90"}`})]}),c.has("distance")&&t.jsxs(t.Fragment,{children:[!i&&t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enable location to filter by distance"}),t.jsxs("div",{className:"space-y-2",children:[M6.map(p=>t.jsxs("label",{className:`flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors ${i?"":"opacity-50 cursor-not-allowed"}`,children:[t.jsx("input",{type:"radio",name:"distance",checked:o.distance_max===p.value,onChange:()=>{a(g=>({...g,distance_max:p.value}))},disabled:!i,className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500"}),t.jsx("span",{className:"text-gray-900",children:p.label})]},p.value)),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[t.jsx("input",{type:"radio",name:"distance",checked:o.distance_max===null,onChange:()=>{a(p=>({...p,distance_max:null}))},className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500"}),t.jsx("span",{className:"text-gray-900",children:"Any Distance"})]})]})]})]}),t.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[t.jsxs("button",{onClick:()=>h("rating"),className:"w-full flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Minimum Rating"}),t.jsx(Bs,{className:`w-5 h-5 transition-transform ${c.has("rating")?"":"-rotate-90"}`})]}),c.has("rating")&&t.jsx("div",{className:"space-y-2",children:T6.map(p=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[t.jsx("input",{type:"radio",name:"rating",checked:o.rating_min===p.value,onChange:()=>{a(g=>({...g,rating_min:p.value}))},className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500"}),t.jsxs("div",{className:"flex items-center gap-1",children:[p.value!==null&&t.jsx("div",{className:"flex",children:Array.from({length:5}).map((g,_)=>{const j=_<Math.floor(p.value);return t.jsx(nt,{className:`w-4 h-4 ${j?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},_)})}),t.jsx("span",{className:"text-gray-900 ml-2",children:p.label})]})]},p.value||"any"))})]}),t.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[t.jsxs("button",{onClick:()=>h("dietary"),className:"w-full flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dietary Preferences"}),t.jsx(Bs,{className:`w-5 h-5 transition-transform ${c.has("dietary")?"":"-rotate-90"}`})]}),c.has("dietary")&&t.jsx("div",{className:"space-y-2",children:L6.map(p=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[t.jsx("input",{type:"checkbox",checked:o.dietary_preferences.includes(p),onChange:g=>{g.target.checked?a(_=>({..._,dietary_preferences:[..._.dietary_preferences,p]})):a(_=>({..._,dietary_preferences:_.dietary_preferences.filter(j=>j!==p)}))},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("span",{className:"text-gray-900",children:p})]},p))})]}),t.jsxs("div",{className:"pb-6",children:[t.jsxs("button",{onClick:()=>h("other"),className:"w-full flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Other Filters"}),t.jsx(Bs,{className:`w-5 h-5 transition-transform ${c.has("other")?"":"-rotate-90"}`})]}),c.has("other")&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors",children:[t.jsx("span",{className:"text-gray-900 font-medium",children:"Open Now"}),t.jsx("input",{type:"checkbox",checked:o.open_now,onChange:p=>{a(g=>({...g,open_now:p.target.checked}))},className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"})]}),t.jsxs("label",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors",children:[t.jsx("span",{className:"text-gray-900 font-medium",children:"Has Discount"}),t.jsx("input",{type:"checkbox",checked:o.has_discount,onChange:p=>{a(g=>({...g,has_discount:p.target.checked}))},className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"})]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 p-6 flex gap-3",children:[t.jsx("button",{onClick:x,className:"flex-1 bg-white border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Clear All"}),t.jsx("button",{onClick:f,className:"flex-1 bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Apply Filters"})]})]})]})};function gf(e,s){const r=C.useRef(s);C.useEffect(function(){s!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),s!=null&&e.attributionControl.addAttribution(s)),r.current=s},[e,s])}function A6(e,s,r){s.center!==r.center&&e.setLatLng(s.center),s.radius!=null&&s.radius!==r.radius&&e.setRadius(s.radius)}const u_=1;function h_(e){return Object.freeze({__version:u_,map:e})}function m_(e,s){return Object.freeze({...e,...s})}const yf=C.createContext(null),vf=yf.Provider;function _a(){const e=C.useContext(yf);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function _f(e){function s(r,i){const{instance:o,context:a}=e(r).current;return C.useImperativeHandle(i,()=>o),r.children==null?null:Qn.createElement(vf,{value:a},r.children)}return C.forwardRef(s)}function f_(e){function s(r,i){const[o,a]=C.useState(!1),{instance:c}=e(r,a).current;C.useImperativeHandle(i,()=>c),C.useEffect(function(){o&&c.update()},[c,o,r.children]);const u=c._contentNode;return u?Ky.createPortal(r.children,u):null}return C.forwardRef(s)}function bf(e){function s(r,i){const{instance:o}=e(r).current;return C.useImperativeHandle(i,()=>o),null}return C.forwardRef(s)}function p_(e){return function(r){const i=_a(),o=e(r,i),{instance:a}=o.current,c=C.useRef(r.position),{position:u}=r;return C.useEffect(function(){return a.addTo(i.map),function(){a.remove()}},[i.map,a]),C.useEffect(function(){u!=null&&u!==c.current&&(a.setPosition(u),c.current=u)},[a,u]),o}}function ud(e,s){const r=C.useRef();C.useEffect(function(){return s!=null&&e.instance.on(s),r.current=s,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,s])}function el(e,s){const r=e.pane??s.pane;return r?{...e,pane:r}:e}function x_(e,s){return function(i,o){const a=_a(),c=e(el(i,a),a);return gf(a.map,i.attribution),ud(c.current,i.eventHandlers),s(c.current,a,i,o),c}}var rm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,s){(function(r,i){i(s)})(fn,function(r){var i="1.9.4";function o(n){var l,d,m,y;for(d=1,m=arguments.length;d<m;d++){y=arguments[d];for(l in y)n[l]=y[l]}return n}var a=Object.create||function(){function n(){}return function(l){return n.prototype=l,new n}}();function c(n,l){var d=Array.prototype.slice;if(n.bind)return n.bind.apply(n,d.call(arguments,1));var m=d.call(arguments,2);return function(){return n.apply(l,m.length?m.concat(d.call(arguments)):arguments)}}var u=0;function h(n){return"_leaflet_id"in n||(n._leaflet_id=++u),n._leaflet_id}function f(n,l,d){var m,y,S,R;return R=function(){m=!1,y&&(S.apply(d,y),y=!1)},S=function(){m?y=arguments:(n.apply(d,arguments),setTimeout(R,l),m=!0)},S}function x(n,l,d){var m=l[1],y=l[0],S=m-y;return n===m&&d?n:((n-y)%S+S)%S+y}function p(){return!1}function g(n,l){if(l===!1)return n;var d=Math.pow(10,l===void 0?6:l);return Math.round(n*d)/d}function _(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function j(n){return _(n).split(/\s+/)}function N(n,l){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var d in l)n.options[d]=l[d];return n.options}function w(n,l,d){var m=[];for(var y in n)m.push(encodeURIComponent(d?y.toUpperCase():y)+"="+encodeURIComponent(n[y]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function v(n,l){return n.replace(b,function(d,m){var y=l[m];if(y===void 0)throw new Error("No value provided for variable "+d);return typeof y=="function"&&(y=y(l)),y})}var k=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function E(n,l){for(var d=0;d<n.length;d++)if(n[d]===l)return d;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var W=0;function G(n){var l=+new Date,d=Math.max(0,16-(l-W));return W=l+d,window.setTimeout(n,d)}var T=window.requestAnimationFrame||A("RequestAnimationFrame")||G,Z=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function I(n,l,d){if(d&&T===G)n.call(l);else return T.call(window,c(n,l))}function P(n){n&&Z.call(window,n)}var J={__proto__:null,extend:o,create:a,bind:c,get lastId(){return u},stamp:h,throttle:f,wrapNum:x,falseFn:p,formatNum:g,trim:_,splitWords:j,setOptions:N,getParamString:w,template:v,isArray:k,indexOf:E,emptyImageUrl:M,requestFn:T,cancelFn:Z,requestAnimFrame:I,cancelAnimFrame:P};function F(){}F.extend=function(n){var l=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,m=a(d);m.constructor=l,l.prototype=m;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return n.statics&&o(l,n.statics),n.includes&&(ue(n.includes),o.apply(null,[m].concat(n.includes))),o(m,n),delete m.statics,delete m.includes,m.options&&(m.options=d.options?a(d.options):{},o(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,R=m._initHooks.length;S<R;S++)m._initHooks[S].call(this)}},l},F.include=function(n){var l=this.prototype.options;return o(this.prototype,n),n.options&&(this.prototype.options=l,this.mergeOptions(n.options)),this},F.mergeOptions=function(n){return o(this.prototype.options,n),this},F.addInitHook=function(n){var l=Array.prototype.slice.call(arguments,1),d=typeof n=="function"?n:function(){this[n].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ue(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=k(n)?n:[n];for(var l=0;l<n.length;l++)n[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(n,l,d){if(typeof n=="object")for(var m in n)this._on(m,n[m],l);else{n=j(n);for(var y=0,S=n.length;y<S;y++)this._on(n[y],l,d)}return this},off:function(n,l,d){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],l);else{n=j(n);for(var y=arguments.length===1,S=0,R=n.length;S<R;S++)y?this._off(n[S]):this._off(n[S],l,d)}return this},_on:function(n,l,d,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(n,l,d)===!1){d===this&&(d=void 0);var y={fn:l,ctx:d};m&&(y.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(y)}},_off:function(n,l,d){var m,y,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(y=0,S=m.length;y<S;y++)m[y].fn=p;delete this._events[n];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var R=this._listens(n,l,d);if(R!==!1){var q=m[R];this._firingCount&&(q.fn=p,this._events[n]=m=m.slice()),m.splice(R,1)}}},fire:function(n,l,d){if(!this.listens(n,d))return this;var m=o({},l,{type:n,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[n];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,R=y.length;S<R;S++){var q=y[S],te=q.fn;q.once&&this.off(n,te,q.ctx),te.call(q.ctx||this,m)}this._firingCount--}}return d&&this._propagateEvent(m),this},listens:function(n,l,d,m){typeof n!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(m=!!l,y=void 0,d=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,y,d)!==!1)return!0;if(m){for(var R in this._eventParents)if(this._eventParents[R].listens(n,l,d,m))return!0}return!1},_listens:function(n,l,d){if(!this._events)return!1;var m=this._events[n]||[];if(!l)return!!m.length;d===this&&(d=void 0);for(var y=0,S=m.length;y<S;y++)if(m[y].fn===l&&m[y].ctx===d)return y;return!1},once:function(n,l,d){if(typeof n=="object")for(var m in n)this._on(m,n[m],l,!0);else{n=j(n);for(var y=0,S=n.length;y<S;y++)this._on(n[y],l,d,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[h(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[h(n)],this},_propagateEvent:function(n){for(var l in this._eventParents)this._eventParents[l].fire(n.type,o({layer:n.target,propagatedFrom:n.target},n),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var xe=F.extend(ne);function U(n,l,d){this.x=d?Math.round(n):n,this.y=d?Math.round(l):l}var O=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(n){return this.clone()._add(H(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(H(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new U(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new U(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(n){n=H(n);var l=n.x-this.x,d=n.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(n){return n=H(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=H(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function H(n,l,d){return n instanceof U?n:k(n)?new U(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new U(n.x,n.y):new U(n,l,d)}function ee(n,l){if(n)for(var d=l?[n,l]:n,m=0,y=d.length;m<y;m++)this.extend(d[m])}ee.prototype={extend:function(n){var l,d;if(!n)return this;if(n instanceof U||typeof n[0]=="number"||"x"in n)l=d=H(n);else if(n=me(n),l=n.min,d=n.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(n){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var l,d;return typeof n[0]=="number"||n instanceof U?n=H(n):n=me(n),n instanceof ee?(l=n.min,d=n.max):l=d=n,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(n){n=me(n);var l=this.min,d=this.max,m=n.min,y=n.max,S=y.x>=l.x&&m.x<=d.x,R=y.y>=l.y&&m.y<=d.y;return S&&R},overlaps:function(n){n=me(n);var l=this.min,d=this.max,m=n.min,y=n.max,S=y.x>l.x&&m.x<d.x,R=y.y>l.y&&m.y<d.y;return S&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var l=this.min,d=this.max,m=Math.abs(l.x-d.x)*n,y=Math.abs(l.y-d.y)*n;return me(H(l.x-m,l.y-y),H(d.x+m,d.y+y))},equals:function(n){return n?(n=me(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function me(n,l){return!n||n instanceof ee?n:new ee(n,l)}function fe(n,l){if(n)for(var d=l?[n,l]:n,m=0,y=d.length;m<y;m++)this.extend(d[m])}fe.prototype={extend:function(n){var l=this._southWest,d=this._northEast,m,y;if(n instanceof ie)m=n,y=n;else if(n instanceof fe){if(m=n._southWest,y=n._northEast,!m||!y)return this}else return n?this.extend(le(n)||ve(n)):this;return!l&&!d?(this._southWest=new ie(m.lat,m.lng),this._northEast=new ie(y.lat,y.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),d.lat=Math.max(y.lat,d.lat),d.lng=Math.max(y.lng,d.lng)),this},pad:function(n){var l=this._southWest,d=this._northEast,m=Math.abs(l.lat-d.lat)*n,y=Math.abs(l.lng-d.lng)*n;return new fe(new ie(l.lat-m,l.lng-y),new ie(d.lat+m,d.lng+y))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ie||"lat"in n?n=le(n):n=ve(n);var l=this._southWest,d=this._northEast,m,y;return n instanceof fe?(m=n.getSouthWest(),y=n.getNorthEast()):m=y=n,m.lat>=l.lat&&y.lat<=d.lat&&m.lng>=l.lng&&y.lng<=d.lng},intersects:function(n){n=ve(n);var l=this._southWest,d=this._northEast,m=n.getSouthWest(),y=n.getNorthEast(),S=y.lat>=l.lat&&m.lat<=d.lat,R=y.lng>=l.lng&&m.lng<=d.lng;return S&&R},overlaps:function(n){n=ve(n);var l=this._southWest,d=this._northEast,m=n.getSouthWest(),y=n.getNorthEast(),S=y.lat>l.lat&&m.lat<d.lat,R=y.lng>l.lng&&m.lng<d.lng;return S&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,l){return n?(n=ve(n),this._southWest.equals(n.getSouthWest(),l)&&this._northEast.equals(n.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(n,l){return n instanceof fe?n:new fe(n,l)}function ie(n,l,d){if(isNaN(n)||isNaN(l))throw new Error("Invalid LatLng object: ("+n+", "+l+")");this.lat=+n,this.lng=+l,d!==void 0&&(this.alt=+d)}ie.prototype={equals:function(n,l){if(!n)return!1;n=le(n);var d=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return d<=(l===void 0?1e-9:l)},toString:function(n){return"LatLng("+g(this.lat,n)+", "+g(this.lng,n)+")"},distanceTo:function(n){return Q.distance(this,le(n))},wrap:function(){return Q.wrapLatLng(this)},toBounds:function(n){var l=180*n/40075017,d=l/Math.cos(Math.PI/180*this.lat);return ve([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function le(n,l,d){return n instanceof ie?n:k(n)&&typeof n[0]!="object"?n.length===3?new ie(n[0],n[1],n[2]):n.length===2?new ie(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ie(n.lat,"lng"in n?n.lng:n.lon,n.alt):l===void 0?null:new ie(n,l,d)}var D={latLngToPoint:function(n,l){var d=this.projection.project(n),m=this.scale(l);return this.transformation._transform(d,m)},pointToLatLng:function(n,l){var d=this.scale(l),m=this.transformation.untransform(n,d);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(n),m=this.transformation.transform(l.min,d),y=this.transformation.transform(l.max,d);return new ee(m,y)},infinite:!1,wrapLatLng:function(n){var l=this.wrapLng?x(n.lng,this.wrapLng,!0):n.lng,d=this.wrapLat?x(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ie(d,l,m)},wrapLatLngBounds:function(n){var l=n.getCenter(),d=this.wrapLatLng(l),m=l.lat-d.lat,y=l.lng-d.lng;if(m===0&&y===0)return n;var S=n.getSouthWest(),R=n.getNorthEast(),q=new ie(S.lat-m,S.lng-y),te=new ie(R.lat-m,R.lng-y);return new fe(q,te)}},Q=o({},D,{wrapLng:[-180,180],R:6371e3,distance:function(n,l){var d=Math.PI/180,m=n.lat*d,y=l.lat*d,S=Math.sin((l.lat-n.lat)*d/2),R=Math.sin((l.lng-n.lng)*d/2),q=S*S+Math.cos(m)*Math.cos(y)*R*R,te=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*te}}),re=6378137,X={R:re,MAX_LATITUDE:85.0511287798,project:function(n){var l=Math.PI/180,d=this.MAX_LATITUDE,m=Math.max(Math.min(d,n.lat),-d),y=Math.sin(m*l);return new U(this.R*n.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(n){var l=180/Math.PI;return new ie((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*l,n.x*l/this.R)},bounds:function(){var n=re*Math.PI;return new ee([-n,-n],[n,n])}()};function $(n,l,d,m){if(k(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=l,this._c=d,this._d=m}$.prototype={transform:function(n,l){return this._transform(n.clone(),l)},_transform:function(n,l){return l=l||1,n.x=l*(this._a*n.x+this._b),n.y=l*(this._c*n.y+this._d),n},untransform:function(n,l){return l=l||1,new U((n.x/l-this._b)/this._a,(n.y/l-this._d)/this._c)}};function V(n,l,d,m){return new $(n,l,d,m)}var je=o({},Q,{code:"EPSG:3857",projection:X,transformation:function(){var n=.5/(Math.PI*X.R);return V(n,.5,-n,.5)}()}),Qe=o({},je,{code:"EPSG:900913"});function $e(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Se(n,l){var d="",m,y,S,R,q,te;for(m=0,S=n.length;m<S;m++){for(q=n[m],y=0,R=q.length;y<R;y++)te=q[y],d+=(y?"L":"M")+te.x+" "+te.y;d+=l?ke.svg?"z":"x":""}return d||"M0 0"}var vs=document.documentElement.style,Ht="ActiveXObject"in window,Tt=Ht&&!document.addEventListener,B="msLaunchUri"in navigator&&!("documentMode"in document),ge=Wt("webkit"),Te=Wt("android"),bt=Wt("android 2")||Wt("android 3"),Ve=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),K=Te&&Wt("Google")&&Ve<537&&!("AudioNode"in window),Ne=!!window.opera,ht=!B&&Wt("chrome"),st=Wt("gecko")&&!ge&&!Ne&&!Ht,bn=!ht&&Wt("safari"),Ct=Wt("phantom"),wa="OTransition"in vs,sl=navigator.platform.indexOf("Win")===0,ja=Ht&&"transition"in vs,Na="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bt,ka="MozPerspective"in vs,hd=!window.L_DISABLE_3D&&(ja||Na||ka)&&!wa&&!Ct,wn=typeof orientation<"u"||Wt("mobile"),md=wn&&ge,fd=wn&&Na,Ca=!window.PointerEvent&&window.MSPointerEvent,rl=!!(window.PointerEvent||Ca),nl="ontouchstart"in window||!!window.TouchEvent,pd=!window.L_NO_TOUCH&&(nl||rl),il=wn&&Ne,xd=wn&&st,al=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gd=function(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",p,l),window.removeEventListener("testPassiveEventSupport",p,l)}catch{}return n}(),ol=function(){return!!document.createElement("canvas").getContext}(),li=!!(document.createElementNS&&$e("svg").createSVGRect),Y=!!li&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),pe=!li&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var l=n.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Ze=navigator.platform.indexOf("Mac")===0,Vs=navigator.platform.indexOf("Linux")===0;function Wt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ke={ie:Ht,ielt9:Tt,edge:B,webkit:ge,android:Te,android23:bt,androidStock:K,opera:Ne,chrome:ht,gecko:st,safari:bn,phantom:Ct,opera12:wa,win:sl,ie3d:ja,webkit3d:Na,gecko3d:ka,any3d:hd,mobile:wn,mobileWebkit:md,mobileWebkit3d:fd,msPointer:Ca,pointer:rl,touch:pd,touchNative:nl,mobileOpera:il,mobileGecko:xd,retina:al,passiveEvents:gd,canvas:ol,svg:li,vml:pe,inlineSvg:Y,mac:Ze,linux:Vs},Sa=ke.msPointer?"MSPointerDown":"pointerdown",kf=ke.msPointer?"MSPointerMove":"pointermove",Cf=ke.msPointer?"MSPointerUp":"pointerup",Sf=ke.msPointer?"MSPointerCancel":"pointercancel",yd={touchstart:Sa,touchmove:kf,touchend:Cf,touchcancel:Sf},Pf={touchstart:z_,touchmove:ll,touchend:ll,touchcancel:ll},ci={},Lf=!1;function L_(n,l,d){return l==="touchstart"&&R_(),Pf[l]?(d=Pf[l].bind(this,d),n.addEventListener(yd[l],d,!1),d):(console.warn("wrong event specified:",l),p)}function E_(n,l,d){if(!yd[l]){console.warn("wrong event specified:",l);return}n.removeEventListener(yd[l],d,!1)}function M_(n){ci[n.pointerId]=n}function T_(n){ci[n.pointerId]&&(ci[n.pointerId]=n)}function Ef(n){delete ci[n.pointerId]}function R_(){Lf||(document.addEventListener(Sa,M_,!0),document.addEventListener(kf,T_,!0),document.addEventListener(Cf,Ef,!0),document.addEventListener(Sf,Ef,!0),Lf=!0)}function ll(n,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in ci)l.touches.push(ci[d]);l.changedTouches=[l],n(l)}}function z_(n,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Rt(l),ll(n,l)}function O_(n){var l={},d,m;for(m in n)d=n[m],l[m]=d&&d.bind?d.bind(n):d;return n=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var A_=200;function I_(n,l){n.addEventListener("dblclick",l);var d=0,m;function y(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var R=Of(S);if(!(R.some(function(te){return te instanceof HTMLLabelElement&&te.attributes.for})&&!R.some(function(te){return te instanceof HTMLInputElement||te instanceof HTMLSelectElement}))){var q=Date.now();q-d<=A_?(m++,m===2&&l(O_(S))):m=1,d=q}}}return n.addEventListener("click",y),{dblclick:l,simDblclick:y}}function F_(n,l){n.removeEventListener("dblclick",l.dblclick),n.removeEventListener("click",l.simDblclick)}var vd=ul(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pa=ul(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mf=Pa==="webkitTransition"||Pa==="OTransition"?Pa+"End":"transitionend";function Tf(n){return typeof n=="string"?document.getElementById(n):n}function La(n,l){var d=n.style[l]||n.currentStyle&&n.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);d=m?m[l]:null}return d==="auto"?null:d}function We(n,l,d){var m=document.createElement(n);return m.className=l||"",d&&d.appendChild(m),m}function at(n){var l=n.parentNode;l&&l.removeChild(n)}function cl(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function di(n){var l=n.parentNode;l&&l.lastChild!==n&&l.appendChild(n)}function ui(n){var l=n.parentNode;l&&l.firstChild!==n&&l.insertBefore(n,l.firstChild)}function _d(n,l){if(n.classList!==void 0)return n.classList.contains(l);var d=dl(n);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function ze(n,l){if(n.classList!==void 0)for(var d=j(l),m=0,y=d.length;m<y;m++)n.classList.add(d[m]);else if(!_d(n,l)){var S=dl(n);bd(n,(S?S+" ":"")+l)}}function pt(n,l){n.classList!==void 0?n.classList.remove(l):bd(n,_((" "+dl(n)+" ").replace(" "+l+" "," ")))}function bd(n,l){n.className.baseVal===void 0?n.className=l:n.className.baseVal=l}function dl(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function _s(n,l){"opacity"in n.style?n.style.opacity=l:"filter"in n.style&&D_(n,l)}function D_(n,l){var d=!1,m="DXImageTransform.Microsoft.Alpha";try{d=n.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):n.style.filter+=" progid:"+m+"(opacity="+l+")"}function ul(n){for(var l=document.documentElement.style,d=0;d<n.length;d++)if(n[d]in l)return n[d];return!1}function jn(n,l,d){var m=l||new U(0,0);n.style[vd]=(ke.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(d?" scale("+d+")":"")}function yt(n,l){n._leaflet_pos=l,ke.any3d?jn(n,l):(n.style.left=l.x+"px",n.style.top=l.y+"px")}function Nn(n){return n._leaflet_pos||new U(0,0)}var Ea,Ma,wd;if("onselectstart"in document)Ea=function(){Ee(window,"selectstart",Rt)},Ma=function(){Ke(window,"selectstart",Rt)};else{var Ta=ul(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ea=function(){if(Ta){var n=document.documentElement.style;wd=n[Ta],n[Ta]="none"}},Ma=function(){Ta&&(document.documentElement.style[Ta]=wd,wd=void 0)}}function jd(){Ee(window,"dragstart",Rt)}function Nd(){Ke(window,"dragstart",Rt)}var hl,kd;function Cd(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(ml(),hl=n,kd=n.style.outlineStyle,n.style.outlineStyle="none",Ee(window,"keydown",ml))}function ml(){hl&&(hl.style.outlineStyle=kd,hl=void 0,kd=void 0,Ke(window,"keydown",ml))}function Rf(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Sd(n){var l=n.getBoundingClientRect();return{x:l.width/n.offsetWidth||1,y:l.height/n.offsetHeight||1,boundingClientRect:l}}var B_={__proto__:null,TRANSFORM:vd,TRANSITION:Pa,TRANSITION_END:Mf,get:Tf,getStyle:La,create:We,remove:at,empty:cl,toFront:di,toBack:ui,hasClass:_d,addClass:ze,removeClass:pt,setClass:bd,getClass:dl,setOpacity:_s,testProp:ul,setTransform:jn,setPosition:yt,getPosition:Nn,get disableTextSelection(){return Ea},get enableTextSelection(){return Ma},disableImageDrag:jd,enableImageDrag:Nd,preventOutline:Cd,restoreOutline:ml,getSizedParentNode:Rf,getScale:Sd};function Ee(n,l,d,m){if(l&&typeof l=="object")for(var y in l)Ld(n,y,l[y],d);else{l=j(l);for(var S=0,R=l.length;S<R;S++)Ld(n,l[S],d,m)}return this}var Gs="_leaflet_events";function Ke(n,l,d,m){if(arguments.length===1)zf(n),delete n[Gs];else if(l&&typeof l=="object")for(var y in l)Ed(n,y,l[y],d);else if(l=j(l),arguments.length===2)zf(n,function(q){return E(l,q)!==-1});else for(var S=0,R=l.length;S<R;S++)Ed(n,l[S],d,m);return this}function zf(n,l){for(var d in n[Gs]){var m=d.split(/\d/)[0];(!l||l(m))&&Ed(n,m,null,null,d)}}var Pd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ld(n,l,d,m){var y=l+h(d)+(m?"_"+h(m):"");if(n[Gs]&&n[Gs][y])return this;var S=function(q){return d.call(m||n,q||window.event)},R=S;!ke.touchNative&&ke.pointer&&l.indexOf("touch")===0?S=L_(n,l,S):ke.touch&&l==="dblclick"?S=I_(n,S):"addEventListener"in n?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?n.addEventListener(Pd[l]||l,S,ke.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(q){q=q||window.event,Td(n,q)&&R(q)},n.addEventListener(Pd[l],S,!1)):n.addEventListener(l,R,!1):n.attachEvent("on"+l,S),n[Gs]=n[Gs]||{},n[Gs][y]=S}function Ed(n,l,d,m,y){y=y||l+h(d)+(m?"_"+h(m):"");var S=n[Gs]&&n[Gs][y];if(!S)return this;!ke.touchNative&&ke.pointer&&l.indexOf("touch")===0?E_(n,l,S):ke.touch&&l==="dblclick"?F_(n,S):"removeEventListener"in n?n.removeEventListener(Pd[l]||l,S,!1):n.detachEvent("on"+l,S),n[Gs][y]=null}function kn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Md(n){return Ld(n,"wheel",kn),this}function Ra(n){return Ee(n,"mousedown touchstart dblclick contextmenu",kn),n._leaflet_disable_click=!0,this}function Rt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Cn(n){return Rt(n),kn(n),this}function Of(n){if(n.composedPath)return n.composedPath();for(var l=[],d=n.target;d;)l.push(d),d=d.parentNode;return l}function Af(n,l){if(!l)return new U(n.clientX,n.clientY);var d=Sd(l),m=d.boundingClientRect;return new U((n.clientX-m.left)/d.x-l.clientLeft,(n.clientY-m.top)/d.y-l.clientTop)}var U_=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function If(n){return ke.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/U_:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Td(n,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==n;)d=d.parentNode}catch{return!1}return d!==n}var $_={__proto__:null,on:Ee,off:Ke,stopPropagation:kn,disableScrollPropagation:Md,disableClickPropagation:Ra,preventDefault:Rt,stop:Cn,getPropagationPath:Of,getMousePosition:Af,getWheelDelta:If,isExternalTarget:Td,addListener:Ee,removeListener:Ke},Ff=xe.extend({run:function(n,l,d,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Nn(n),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(n){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),n):(this._runFrame(1),this._complete())},_runFrame:function(n,l){var d=this._startPos.add(this._offset.multiplyBy(n));l&&d._round(),yt(this._el,d),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Be=xe.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,l){l=N(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(le(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pa&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,Mf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),n=this._limitCenter(le(n),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=o({animate:d.animate},d.zoom),d.pan=o({animate:d.animate,duration:d.duration},d.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,l,d.zoom):this._tryAnimatedPan(n,d.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(n,l){return this._loaded?this.setView(this.getCenter(),n,{zoom:l}):(this._zoom=n,this)},zoomIn:function(n,l){return n=n||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,l)},zoomOut:function(n,l){return n=n||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,l)},setZoomAround:function(n,l,d){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),S=n instanceof U?n:this.latLngToContainerPoint(n),R=S.subtract(y).multiplyBy(1-1/m),q=this.containerPointToLatLng(y.add(R));return this.setView(q,l,{zoom:d})},_getBoundsCenterZoom:function(n,l){l=l||{},n=n.getBounds?n.getBounds():ve(n);var d=H(l.paddingTopLeft||l.padding||[0,0]),m=H(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(n,!1,d.add(m));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:n.getCenter(),zoom:y};var S=m.subtract(d).divideBy(2),R=this.project(n.getSouthWest(),y),q=this.project(n.getNorthEast(),y),te=this.unproject(R.add(q).divideBy(2).add(S),y);return{center:te,zoom:y}},fitBounds:function(n,l){if(n=ve(n),!n.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(n,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,l){return this.setView(n,this._zoom,{pan:l})},panBy:function(n,l){if(n=H(n).round(),l=l||{},!n.x&&!n.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ff,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ze(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,l,d){if(d=d||{},d.animate===!1||!ke.any3d)return this.setView(n,l,d);this._stop();var m=this.project(this.getCenter()),y=this.project(n),S=this.getSize(),R=this._zoom;n=le(n),l=l===void 0?R:l;var q=Math.max(S.x,S.y),te=q*this.getZoomScale(R,l),ae=y.distanceTo(m)||1,be=1.42,Pe=be*be;function Ae(vt){var kl=vt?-1:1,Eb=vt?te:q,Mb=te*te-q*q+kl*Pe*Pe*ae*ae,Tb=2*Eb*Pe*ae,Hd=Mb/Tb,yp=Math.sqrt(Hd*Hd+1)-Hd,Rb=yp<1e-9?-18:Math.log(yp);return Rb}function Zt(vt){return(Math.exp(vt)-Math.exp(-vt))/2}function St(vt){return(Math.exp(vt)+Math.exp(-vt))/2}function ws(vt){return Zt(vt)/St(vt)}var Xt=Ae(0);function gi(vt){return q*(St(Xt)/St(Xt+be*vt))}function Cb(vt){return q*(St(Xt)*ws(Xt+be*vt)-Zt(Xt))/Pe}function Sb(vt){return 1-Math.pow(1-vt,1.5)}var Pb=Date.now(),xp=(Ae(1)-Xt)/be,Lb=d.duration?1e3*d.duration:1e3*xp*.8;function gp(){var vt=(Date.now()-Pb)/Lb,kl=Sb(vt)*xp;vt<=1?(this._flyToFrame=I(gp,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(Cb(kl)/ae)),R),this.getScaleZoom(q/gi(kl),R),{flyTo:!0})):this._move(n,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),gp.call(this),this},flyToBounds:function(n,l){var d=this._getBoundsCenterZoom(n,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(n){return n=ve(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var l=this.options.minZoom;return this.options.minZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var l=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,l){this._enforcingBounds=!0;var d=this.getCenter(),m=this._limitCenter(d,this._zoom,ve(n));return d.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(n,l){l=l||{};var d=H(l.paddingTopLeft||l.padding||[0,0]),m=H(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),S=this.project(n),R=this.getPixelBounds(),q=me([R.min.add(d),R.max.subtract(m)]),te=q.getSize();if(!q.contains(S)){this._enforcingBounds=!0;var ae=S.subtract(q.getCenter()),be=q.extend(S).getSize().subtract(te);y.x+=ae.x<0?-be.x:be.x,y.y+=ae.y<0?-be.y:be.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=o({animate:!1,pan:!0},n===!0?{animate:!0}:n);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),m=l.divideBy(2).round(),y=d.divideBy(2).round(),S=m.subtract(y);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=o({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=c(this._handleGeolocationResponse,this),d=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,n):navigator.geolocation.getCurrentPosition(l,d,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var l=n.code,d=n.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var l=n.coords.latitude,d=n.coords.longitude,m=new ie(l,d),y=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var R=this.getBoundsZoom(y);this.setView(m,S.maxZoom?Math.min(R,S.maxZoom):R)}var q={latlng:m,bounds:y,timestamp:n.timestamp};for(var te in n.coords)typeof n.coords[te]=="number"&&(q[te]=n.coords[te]);this.fire("locationfound",q)}},addHandler:function(n,l){if(!l)return this;var d=this[n]=new l(this);return this._handlers.push(d),this.options[n]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)at(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,l){var d="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=We("div",d,l||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),l=this.unproject(n.getBottomLeft()),d=this.unproject(n.getTopRight());return new fe(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,l,d){n=ve(n),d=H(d||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),R=n.getNorthWest(),q=n.getSouthEast(),te=this.getSize().subtract(d),ae=me(this.project(q,m),this.project(R,m)).getSize(),be=ke.any3d?this.options.zoomSnap:1,Pe=te.x/ae.x,Ae=te.y/ae.y,Zt=l?Math.max(Pe,Ae):Math.min(Pe,Ae);return m=this.getScaleZoom(Zt,m),be&&(m=Math.round(m/(be/100))*(be/100),m=l?Math.ceil(m/be)*be:Math.floor(m/be)*be),Math.max(y,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,l){var d=this._getTopLeftPoint(n,l);return new ee(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(n)/d.scale(l)},getScaleZoom:function(n,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var m=d.zoom(n*d.scale(l));return isNaN(m)?1/0:m},project:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(le(n),l)},unproject:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(H(n),l)},layerPointToLatLng:function(n){var l=H(n).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(n){var l=this.project(le(n))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(le(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ve(n))},distance:function(n,l){return this.options.crs.distance(le(n),le(l))},containerPointToLayerPoint:function(n){return H(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return H(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var l=this.containerPointToLayerPoint(H(n));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(n)))},mouseEventToContainerPoint:function(n){return Af(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var l=this._container=Tf(n);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ee(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,ze(n,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=La(n,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ze(n.markerPane,"leaflet-zoom-hide"),ze(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,l,d){yt(this._mapPane,new U(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,d)._move(n,l)._moveEnd(y),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,l){return n&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(n,l,d,m){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?d&&d.pinch&&this.fire("zoom",d):((y||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){yt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[h(this._container)]=this;var l=n?Ke:Ee;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,l){for(var d=[],m,y=l==="mouseout"||l==="mouseover",S=n.target||n.srcElement,R=!1;S;){if(m=this._targets[h(S)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){R=!0;break}if(m&&m.listens(l,!0)&&(y&&!Td(S,n)||(d.push(m),y))||S===this._container)break;S=S.parentNode}return!d.length&&!R&&!y&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var l=n.target||n.srcElement;if(!(!this._loaded||l._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(l))){var d=n.type;d==="mousedown"&&Cd(l),this._fireDOMEvent(n,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,l,d){if(n.type==="click"){var m=o({},n);m.type="preclick",this._fireDOMEvent(m,m.type,d)}var y=this._findEventTargets(n,l);if(d){for(var S=[],R=0;R<d.length;R++)d[R].listens(l,!0)&&S.push(d[R]);y=S.concat(y)}if(y.length){l==="contextmenu"&&Rt(n);var q=y[0],te={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var ae=q.getLatLng&&(!q._radius||q._radius<=10);te.containerPoint=ae?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(n),te.layerPoint=this.containerPointToLayerPoint(te.containerPoint),te.latlng=ae?q.getLatLng():this.layerPointToLatLng(te.layerPoint)}for(R=0;R<y.length;R++)if(y[R].fire(l,te,!0),te.originalEvent._stopped||y[R].options.bubblingMouseEvents===!1&&E(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,l=this._handlers.length;n<l;n++)this._handlers[n].disable()},whenReady:function(n,l){return this._loaded?n.call(l||this,{target:this}):this.on("load",n,l),this},_getMapPanePos:function(){return Nn(this._mapPane)||new U(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,l){var d=n&&l!==void 0?this._getNewPixelOrigin(n,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,l){var d=this.getSize()._divideBy(2);return this.project(n,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,l,d){var m=this._getNewPixelOrigin(d,l);return this.project(n,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,l,d){var m=this._getNewPixelOrigin(d,l);return me([this.project(n.getSouthWest(),l)._subtract(m),this.project(n.getNorthWest(),l)._subtract(m),this.project(n.getSouthEast(),l)._subtract(m),this.project(n.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,l,d){if(!d)return n;var m=this.project(n,l),y=this.getSize().divideBy(2),S=new ee(m.subtract(y),m.add(y)),R=this._getBoundsOffset(S,d,l);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?n:this.unproject(m.add(R),l)},_limitOffset:function(n,l){if(!l)return n;var d=this.getPixelBounds(),m=new ee(d.min.add(n),d.max.add(n));return n.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(n,l,d){var m=me(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),y=m.min.subtract(n.min),S=m.max.subtract(n.max),R=this._rebound(y.x,-S.x),q=this._rebound(y.y,-S.y);return new U(R,q)},_rebound:function(n,l){return n+l>0?Math.round(n-l)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(l))},_limitZoom:function(n){var l=this.getMinZoom(),d=this.getMaxZoom(),m=ke.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(l,Math.min(d,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,l){var d=this._getCenterOffset(n)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var n=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(l){var d=vd,m=this._proxy.style[d];jn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),l=this.getZoom();jn(this._proxy,this.project(n,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(n)._divideBy(1-1/m);return d.animate!==!0&&!this.getSize().contains(y)?!1:(I(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(n,l,!0)},this),!0)},_animateZoom:function(n,l,d,m){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=l,ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function H_(n,l){return new Be(n,l)}var Ms=F.extend({options:{position:"topright"},initialize:function(n){N(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var l=this._map;return l&&l.removeControl(this),this.options.position=n,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var l=this._container=this.onAdd(n),d=this.getPosition(),m=n._controlCorners[d];return ze(l,"leaflet-control"),d.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),za=function(n){return new Ms(n)};Be.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},l="leaflet-",d=this._controlContainer=We("div",l+"control-container",this._container);function m(y,S){var R=l+y+" "+l+S;n[y+S]=We("div",R,d)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)at(this._controlCorners[n]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Df=Ms.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,l,d,m){return d<m?-1:m<d?1:0}},initialize:function(n,l,d){N(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Ms.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,l){return this._addLayer(n,l),this._map?this._update():this},addOverlay:function(n,l){return this._addLayer(n,l,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(n));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",l=this._container=We("div",n),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ra(l),Md(l);var m=this._section=We("section",n+"-list");d&&(this._map.on("click",this.collapse,this),Ee(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=We("a",n+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),Ee(y,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Rt(S),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=We("div",n+"-base",m),this._separator=We("div",n+"-separator",m),this._overlaysList=We("div",n+"-overlays",m),l.appendChild(m)},_getLayer:function(n){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===n)return this._layers[l]},_addLayer:function(n,l,d){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(c(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cl(this._baseLayersList),cl(this._overlaysList),this._layerControlInputs=[];var n,l,d,m,y=0;for(d=0;d<this._layers.length;d++)m=this._layers[d],this._addItem(m),l=l||m.overlay,n=n||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&y>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=l&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var l=this._getLayer(h(n.target)),d=l.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(n,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=d,m.firstChild},_addItem:function(n){var l=document.createElement("label"),d=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=d):m=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(m),m.layerId=h(n.layer),Ee(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+n.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(m),S.appendChild(y);var R=n.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,l,d,m=[],y=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)l=n[S],d=this._getLayer(l.layerId).layer,l.checked?m.push(d):l.checked||y.push(d);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,l,d,m=this._map.getZoom(),y=n.length-1;y>=0;y--)l=n[y],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&m<d.options.minZoom||d.options.maxZoom!==void 0&&m>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Ee(n,"click",Rt),this.expand();var l=this;setTimeout(function(){Ke(n,"click",Rt),l._preventClick=!1})}}),W_=function(n,l,d){return new Df(n,l,d)},Rd=Ms.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var l="leaflet-control-zoom",d=We("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,l,d,m,y){var S=We("a",d,m);return S.innerHTML=n,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Ra(S),Ee(S,"click",Cn),Ee(S,"click",y,this),Ee(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,l="leaflet-disabled";pt(this._zoomInButton,l),pt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ze(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ze(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rd,this.addControl(this.zoomControl))});var Z_=function(n){return new Rd(n)},Bf=Ms.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var l="leaflet-control-scale",d=We("div",l),m=this.options;return this._addScales(m,l+"-line",d),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),d},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,l,d){n.metric&&(this._mScale=We("div",l,d)),n.imperial&&(this._iScale=We("div",l,d))},_update:function(){var n=this._map,l=n.getSize().y/2,d=n.distance(n.containerPointToLatLng([0,l]),n.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var l=this._getRoundNum(n),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/n)},_updateImperial:function(n){var l=n*3.2808399,d,m,y;l>5280?(d=l/5280,m=this._getRoundNum(d),this._updateScale(this._iScale,m+" mi",m/d)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(n,l,d){n.style.width=Math.round(this.options.maxWidth*d)+"px",n.innerHTML=l},_getRoundNum:function(n){var l=Math.pow(10,(Math.floor(n)+"").length-1),d=n/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),q_=function(n){return new Bf(n)},V_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zd=Ms.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?V_+" ":"")+"Leaflet</a>"},initialize:function(n){N(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Ra(this._container);for(var l in n._layers)n._layers[l].getAttribution&&this.addAttribution(n._layers[l].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var l in this._attributions)this._attributions[l]&&n.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),n.length&&d.push(n.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new zd().addTo(this)});var G_=function(n){return new zd(n)};Ms.Layers=Df,Ms.Zoom=Rd,Ms.Scale=Bf,Ms.Attribution=zd,za.layers=W_,za.zoom=Z_,za.scale=q_,za.attribution=G_;var Qs=F.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qs.addTo=function(n,l){return n.addHandler(l,this),this};var Q_={Events:ne},Uf=ke.touch?"touchstart mousedown":"mousedown",Er=xe.extend({options:{clickTolerance:3},initialize:function(n,l,d,m){N(this,m),this._element=n,this._dragStartTarget=l||n,this._preventOutline=d},enable:function(){this._enabled||(Ee(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),Ke(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!_d(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Er._dragging===this&&this.finishDrag();return}if(!(Er._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Er._dragging=this,this._preventOutline&&Cd(this._element),jd(),Ea(),!this._moving)){this.fire("down");var l=n.touches?n.touches[0]:n,d=Rf(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=Nn(this._element),this._parentScale=Sd(d);var m=n.type==="mousedown";Ee(document,m?"mousemove":"touchmove",this._onMove,this),Ee(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var l=n.touches&&n.touches.length===1?n.touches[0]:n,d=new U(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Rt(n),this._moved||(this.fire("dragstart"),this._moved=!0,ze(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),yt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ke(document,"mousemove touchmove",this._onMove,this),Ke(document,"mouseup touchend touchcancel",this._onUp,this),Nd(),Ma();var l=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,l&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function $f(n,l,d){var m,y=[1,4,2,8],S,R,q,te,ae,be,Pe,Ae;for(S=0,be=n.length;S<be;S++)n[S]._code=Sn(n[S],l);for(q=0;q<4;q++){for(Pe=y[q],m=[],S=0,be=n.length,R=be-1;S<be;R=S++)te=n[S],ae=n[R],te._code&Pe?ae._code&Pe||(Ae=fl(ae,te,Pe,l,d),Ae._code=Sn(Ae,l),m.push(Ae)):(ae._code&Pe&&(Ae=fl(ae,te,Pe,l,d),Ae._code=Sn(Ae,l),m.push(Ae)),m.push(te));n=m}return n}function Hf(n,l){var d,m,y,S,R,q,te,ae,be;if(!n||n.length===0)throw new Error("latlngs not passed");bs(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Pe=le([0,0]),Ae=ve(n),Zt=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Zt<1700&&(Pe=Od(n));var St=n.length,ws=[];for(d=0;d<St;d++){var Xt=le(n[d]);ws.push(l.project(le([Xt.lat-Pe.lat,Xt.lng-Pe.lng])))}for(q=te=ae=0,d=0,m=St-1;d<St;m=d++)y=ws[d],S=ws[m],R=y.y*S.x-S.y*y.x,te+=(y.x+S.x)*R,ae+=(y.y+S.y)*R,q+=R*3;q===0?be=ws[0]:be=[te/q,ae/q];var gi=l.unproject(H(be));return le([gi.lat+Pe.lat,gi.lng+Pe.lng])}function Od(n){for(var l=0,d=0,m=0,y=0;y<n.length;y++){var S=le(n[y]);l+=S.lat,d+=S.lng,m++}return le([l/m,d/m])}var K_={__proto__:null,clipPolygon:$f,polygonCenter:Hf,centroid:Od};function Wf(n,l){if(!l||!n.length)return n.slice();var d=l*l;return n=X_(n,d),n=J_(n,d),n}function Zf(n,l,d){return Math.sqrt(Oa(n,l,d,!0))}function Y_(n,l,d){return Oa(n,l,d)}function J_(n,l){var d=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,y=new m(d);y[0]=y[d-1]=1,Ad(n,y,l,0,d-1);var S,R=[];for(S=0;S<d;S++)y[S]&&R.push(n[S]);return R}function Ad(n,l,d,m,y){var S=0,R,q,te;for(q=m+1;q<=y-1;q++)te=Oa(n[q],n[m],n[y],!0),te>S&&(R=q,S=te);S>d&&(l[R]=1,Ad(n,l,d,m,R),Ad(n,l,d,R,y))}function X_(n,l){for(var d=[n[0]],m=1,y=0,S=n.length;m<S;m++)eb(n[m],n[y])>l&&(d.push(n[m]),y=m);return y<S-1&&d.push(n[S-1]),d}var qf;function Vf(n,l,d,m,y){var S=m?qf:Sn(n,d),R=Sn(l,d),q,te,ae;for(qf=R;;){if(!(S|R))return[n,l];if(S&R)return!1;q=S||R,te=fl(n,l,q,d,y),ae=Sn(te,d),q===S?(n=te,S=ae):(l=te,R=ae)}}function fl(n,l,d,m,y){var S=l.x-n.x,R=l.y-n.y,q=m.min,te=m.max,ae,be;return d&8?(ae=n.x+S*(te.y-n.y)/R,be=te.y):d&4?(ae=n.x+S*(q.y-n.y)/R,be=q.y):d&2?(ae=te.x,be=n.y+R*(te.x-n.x)/S):d&1&&(ae=q.x,be=n.y+R*(q.x-n.x)/S),new U(ae,be,y)}function Sn(n,l){var d=0;return n.x<l.min.x?d|=1:n.x>l.max.x&&(d|=2),n.y<l.min.y?d|=4:n.y>l.max.y&&(d|=8),d}function eb(n,l){var d=l.x-n.x,m=l.y-n.y;return d*d+m*m}function Oa(n,l,d,m){var y=l.x,S=l.y,R=d.x-y,q=d.y-S,te=R*R+q*q,ae;return te>0&&(ae=((n.x-y)*R+(n.y-S)*q)/te,ae>1?(y=d.x,S=d.y):ae>0&&(y+=R*ae,S+=q*ae)),R=n.x-y,q=n.y-S,m?R*R+q*q:new U(y,S)}function bs(n){return!k(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Gf(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bs(n)}function Qf(n,l){var d,m,y,S,R,q,te,ae;if(!n||n.length===0)throw new Error("latlngs not passed");bs(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var be=le([0,0]),Pe=ve(n),Ae=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Ae<1700&&(be=Od(n));var Zt=n.length,St=[];for(d=0;d<Zt;d++){var ws=le(n[d]);St.push(l.project(le([ws.lat-be.lat,ws.lng-be.lng])))}for(d=0,m=0;d<Zt-1;d++)m+=St[d].distanceTo(St[d+1])/2;if(m===0)ae=St[0];else for(d=0,S=0;d<Zt-1;d++)if(R=St[d],q=St[d+1],y=R.distanceTo(q),S+=y,S>m){te=(S-m)/y,ae=[q.x-te*(q.x-R.x),q.y-te*(q.y-R.y)];break}var Xt=l.unproject(H(ae));return le([Xt.lat+be.lat,Xt.lng+be.lng])}var tb={__proto__:null,simplify:Wf,pointToSegmentDistance:Zf,closestPointOnSegment:Y_,clipSegment:Vf,_getEdgeIntersection:fl,_getBitCode:Sn,_sqClosestPointOnSegment:Oa,isFlat:bs,_flat:Gf,polylineCenter:Qf},Id={project:function(n){return new U(n.lng,n.lat)},unproject:function(n){return new ie(n.y,n.x)},bounds:new ee([-180,-90],[180,90])},Fd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var l=Math.PI/180,d=this.R,m=n.lat*l,y=this.R_MINOR/d,S=Math.sqrt(1-y*y),R=S*Math.sin(m),q=Math.tan(Math.PI/4-m/2)/Math.pow((1-R)/(1+R),S/2);return m=-d*Math.log(Math.max(q,1e-10)),new U(n.lng*l*d,m)},unproject:function(n){for(var l=180/Math.PI,d=this.R,m=this.R_MINOR/d,y=Math.sqrt(1-m*m),S=Math.exp(-n.y/d),R=Math.PI/2-2*Math.atan(S),q=0,te=.1,ae;q<15&&Math.abs(te)>1e-7;q++)ae=y*Math.sin(R),ae=Math.pow((1-ae)/(1+ae),y/2),te=Math.PI/2-2*Math.atan(S*ae)-R,R+=te;return new ie(R*l,n.x*l/d)}},sb={__proto__:null,LonLat:Id,Mercator:Fd,SphericalMercator:X},rb=o({},Q,{code:"EPSG:3395",projection:Fd,transformation:function(){var n=.5/(Math.PI*Fd.R);return V(n,.5,-n,.5)}()}),Kf=o({},Q,{code:"EPSG:4326",projection:Id,transformation:V(1/180,1,-1/180,.5)}),nb=o({},D,{projection:Id,transformation:V(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,l){var d=l.lng-n.lng,m=l.lat-n.lat;return Math.sqrt(d*d+m*m)},infinite:!0});D.Earth=Q,D.EPSG3395=rb,D.EPSG3857=je,D.EPSG900913=Qe,D.EPSG4326=Kf,D.Simple=nb;var Ts=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[h(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[h(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var l=n.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(n);return this._layers[l]?this:(this._layers[l]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var l=h(n);return this._layers[l]?(this._loaded&&n.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return h(n)in this._layers},eachLayer:function(n,l){for(var d in this._layers)n.call(l,this._layers[d]);return this},_addLayers:function(n){n=n?k(n)?n:[n]:[];for(var l=0,d=n.length;l<d;l++)this.addLayer(n[l])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[h(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var l=h(n);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,l=-1/0,d=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;n=y.minZoom===void 0?n:Math.min(n,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=n===1/0?void 0:n,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hi=Ts.extend({initialize:function(n,l){N(this,l),this._layers={};var d,m;if(n)for(d=0,m=n.length;d<m;d++)this.addLayer(n[d])},addLayer:function(n){var l=this.getLayerId(n);return this._layers[l]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var l=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(n){var l=typeof n=="number"?n:this.getLayerId(n);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var l=Array.prototype.slice.call(arguments,1),d,m;for(d in this._layers)m=this._layers[d],m[n]&&m[n].apply(m,l);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,l){for(var d in this._layers)n.call(l,this._layers[d]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return h(n)}}),ib=function(n,l){return new hi(n,l)},or=hi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),hi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),hi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new fe;for(var l in this._layers){var d=this._layers[l];n.extend(d.getBounds?d.getBounds():d.getLatLng())}return n}}),ab=function(n,l){return new or(n,l)},mi=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){N(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,l){var d=this._getIconUrl(n);if(!d){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,l){var d=this.options,m=d[l+"Size"];typeof m=="number"&&(m=[m,m]);var y=H(m),S=H(l==="shadow"&&d.shadowAnchor||d.iconAnchor||y&&y.divideBy(2,!0));n.className="leaflet-marker-"+l+" "+(d.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),y&&(n.style.width=y.x+"px",n.style.height=y.y+"px")},_createImg:function(n,l){return l=l||document.createElement("img"),l.src=n,l},_getIconUrl:function(n){return ke.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function ob(n){return new mi(n)}var Aa=mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Aa.imagePath!="string"&&(Aa.imagePath=this._detectIconPath()),(this.options.imagePath||Aa.imagePath)+mi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var l=function(d,m,y){var S=m.exec(d);return S&&S[y]};return n=l(n,/^url\((['"])?(.+)\1\)$/,2),n&&l(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=We("div","leaflet-default-icon-path",document.body),l=La(n,"background-image")||La(n,"backgroundImage");if(document.body.removeChild(n),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Yf=Qs.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Er(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ze(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var l=this._marker,d=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=Nn(l._icon),R=d.getPixelBounds(),q=d.getPixelOrigin(),te=me(R.min._subtract(q).add(y),R.max._subtract(q).subtract(y));if(!te.contains(S)){var ae=H((Math.max(te.max.x,S.x)-te.max.x)/(R.max.x-te.max.x)-(Math.min(te.min.x,S.x)-te.min.x)/(R.min.x-te.min.x),(Math.max(te.max.y,S.y)-te.max.y)/(R.max.y-te.max.y)-(Math.min(te.min.y,S.y)-te.min.y)/(R.min.y-te.min.y)).multiplyBy(m);d.panBy(ae,{animate:!1}),this._draggable._newPos._add(ae),this._draggable._startPos._add(ae),yt(l._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=I(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,n)))},_onDrag:function(n){var l=this._marker,d=l._shadow,m=Nn(l._icon),y=l._map.layerPointToLatLng(m);d&&yt(d,m),l._latlng=y,n.latlng=y,n.oldLatLng=this._oldLatLng,l.fire("move",n).fire("drag",n)},_onDragEnd:function(n){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),pl=Ts.extend({options:{icon:new Aa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,l){N(this,l),this._latlng=le(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var l=this._latlng;return this._latlng=le(n),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=n.icon.createIcon(this._icon),m=!1;d!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(d.title=n.title),d.tagName==="IMG"&&(d.alt=n.alt||"")),ze(d,l),n.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(d,"focus",this._panOnFocus,this);var y=n.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(ze(y,l),y.alt=""),this._shadow=y,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&yt(this._icon,n),this._shadow&&yt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yf)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yf(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&_s(this._icon,n),this._shadow&&_s(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var l=this.options.icon.options,d=l.iconSize?H(l.iconSize):H(0,0),m=l.iconAnchor?H(l.iconAnchor):H(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:d.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lb(n,l){return new pl(n,l)}var Mr=Ts.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return N(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xl=Mr.extend({options:{fill:!0,radius:10},initialize:function(n,l){N(this,l),this._latlng=le(n),this._radius=this.options.radius},setLatLng:function(n){var l=this._latlng;return this._latlng=le(n),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var l=n&&n.radius||this._radius;return Mr.prototype.setStyle.call(this,n),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,l=this._radiusY||n,d=this._clickTolerance(),m=[n+d,l+d];this._pxBounds=new ee(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cb(n,l){return new xl(n,l)}var Dd=xl.extend({initialize:function(n,l,d){if(typeof l=="number"&&(l=o({},d,{radius:l})),N(this,l),this._latlng=le(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Mr.prototype.setStyle,_project:function(){var n=this._latlng.lng,l=this._latlng.lat,d=this._map,m=d.options.crs;if(m.distance===Q.distance){var y=Math.PI/180,S=this._mRadius/Q.R/y,R=d.project([l+S,n]),q=d.project([l-S,n]),te=R.add(q).divideBy(2),ae=d.unproject(te).lat,be=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(ae*y))/(Math.cos(l*y)*Math.cos(ae*y)))/y;(isNaN(be)||be===0)&&(be=S/Math.cos(Math.PI/180*l)),this._point=te.subtract(d.getPixelOrigin()),this._radius=isNaN(be)?0:te.x-d.project([ae,n-be]).x,this._radiusY=te.y-R.y}else{var Pe=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Pe).x}this._updateBounds()}});function db(n,l,d){return new Dd(n,l,d)}var lr=Mr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,l){N(this,l),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var l=1/0,d=null,m=Oa,y,S,R=0,q=this._parts.length;R<q;R++)for(var te=this._parts[R],ae=1,be=te.length;ae<be;ae++){y=te[ae-1],S=te[ae];var Pe=m(n,y,S,!0);Pe<l&&(l=Pe,d=m(n,y,S))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,l){return l=l||this._defaultShape(),n=le(n),l.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new fe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return bs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var l=[],d=bs(n),m=0,y=n.length;m<y;m++)d?(l[m]=le(n[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(n[m]);return l},_project:function(){var n=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),l=new U(n,n);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(n,l,d){var m=n[0]instanceof ie,y=n.length,S,R;if(m){for(R=[],S=0;S<y;S++)R[S]=this._map.latLngToLayerPoint(n[S]),d.extend(R[S]);l.push(R)}else for(S=0;S<y;S++)this._projectLatlngs(n[S],l,d)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,m,y,S,R,q,te;for(d=0,y=0,S=this._rings.length;d<S;d++)for(te=this._rings[d],m=0,R=te.length;m<R-1;m++)q=Vf(te[m],te[m+1],n,m,!0),q&&(l[y]=l[y]||[],l[y].push(q[0]),(q[1]!==te[m+1]||m===R-2)&&(l[y].push(q[1]),y++))}},_simplifyPoints:function(){for(var n=this._parts,l=this.options.smoothFactor,d=0,m=n.length;d<m;d++)n[d]=Wf(n[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,l){var d,m,y,S,R,q,te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(d=0,S=this._parts.length;d<S;d++)for(q=this._parts[d],m=0,R=q.length,y=R-1;m<R;y=m++)if(!(!l&&m===0)&&Zf(n,q[y],q[m])<=te)return!0;return!1}});function ub(n,l){return new lr(n,l)}lr._flat=Gf;var fi=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var l=lr.prototype._convertLatLngs.call(this,n),d=l.length;return d>=2&&l[0]instanceof ie&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(n){lr.prototype._setLatLngs.call(this,n),bs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,l=this.options.weight,d=new U(l,l);if(n=new ee(n.min.subtract(d),n.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,y=this._rings.length,S;m<y;m++)S=$f(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var l=!1,d,m,y,S,R,q,te,ae;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,te=this._parts.length;S<te;S++)for(d=this._parts[S],R=0,ae=d.length,q=ae-1;R<ae;q=R++)m=d[R],y=d[q],m.y>n.y!=y.y>n.y&&n.x<(y.x-m.x)*(n.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||lr.prototype._containsPoint.call(this,n,!0)}});function hb(n,l){return new fi(n,l)}var cr=or.extend({initialize:function(n,l){N(this,l),this._layers={},n&&this.addData(n)},addData:function(n){var l=k(n)?n:n.features,d,m,y;if(l){for(d=0,m=l.length;d<m;d++)y=l[d],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var R=gl(n,S);return R?(R.feature=_l(n),R.defaultOptions=R.options,this.resetStyle(R),S.onEachFeature&&S.onEachFeature(n,R),this.addLayer(R)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=o({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(l){this._setLayerStyle(l,n)},this)},_setLayerStyle:function(n,l){n.setStyle&&(typeof l=="function"&&(l=l(n.feature)),n.setStyle(l))}});function gl(n,l){var d=n.type==="Feature"?n.geometry:n,m=d?d.coordinates:null,y=[],S=l&&l.pointToLayer,R=l&&l.coordsToLatLng||Bd,q,te,ae,be;if(!m&&!d)return null;switch(d.type){case"Point":return q=R(m),Jf(S,n,q,l);case"MultiPoint":for(ae=0,be=m.length;ae<be;ae++)q=R(m[ae]),y.push(Jf(S,n,q,l));return new or(y);case"LineString":case"MultiLineString":return te=yl(m,d.type==="LineString"?0:1,R),new lr(te,l);case"Polygon":case"MultiPolygon":return te=yl(m,d.type==="Polygon"?1:2,R),new fi(te,l);case"GeometryCollection":for(ae=0,be=d.geometries.length;ae<be;ae++){var Pe=gl({geometry:d.geometries[ae],type:"Feature",properties:n.properties},l);Pe&&y.push(Pe)}return new or(y);case"FeatureCollection":for(ae=0,be=d.features.length;ae<be;ae++){var Ae=gl(d.features[ae],l);Ae&&y.push(Ae)}return new or(y);default:throw new Error("Invalid GeoJSON object.")}}function Jf(n,l,d,m){return n?n(l,d):new pl(d,m&&m.markersInheritOptions&&m)}function Bd(n){return new ie(n[1],n[0],n[2])}function yl(n,l,d){for(var m=[],y=0,S=n.length,R;y<S;y++)R=l?yl(n[y],l-1,d):(d||Bd)(n[y]),m.push(R);return m}function Ud(n,l){return n=le(n),n.alt!==void 0?[g(n.lng,l),g(n.lat,l),g(n.alt,l)]:[g(n.lng,l),g(n.lat,l)]}function vl(n,l,d,m){for(var y=[],S=0,R=n.length;S<R;S++)y.push(l?vl(n[S],bs(n[S])?0:l-1,d,m):Ud(n[S],m));return!l&&d&&y.length>0&&y.push(y[0].slice()),y}function pi(n,l){return n.feature?o({},n.feature,{geometry:l}):_l(l)}function _l(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var $d={toGeoJSON:function(n){return pi(this,{type:"Point",coordinates:Ud(this.getLatLng(),n)})}};pl.include($d),Dd.include($d),xl.include($d),lr.include({toGeoJSON:function(n){var l=!bs(this._latlngs),d=vl(this._latlngs,l?1:0,!1,n);return pi(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),fi.include({toGeoJSON:function(n){var l=!bs(this._latlngs),d=l&&!bs(this._latlngs[0]),m=vl(this._latlngs,d?2:l?1:0,!0,n);return l||(m=[m]),pi(this,{type:(d?"Multi":"")+"Polygon",coordinates:m})}}),hi.include({toMultiPoint:function(n){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(n).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(n){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(n);var d=l==="GeometryCollection",m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(n);if(d)m.push(S.geometry);else{var R=_l(S);R.type==="FeatureCollection"?m.push.apply(m,R.features):m.push(R)}}}),d?pi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Xf(n,l){return new cr(n,l)}var mb=Xf,bl=Ts.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,l,d){this._url=n,this._bounds=ve(l),N(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ve(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",l=this._image=n?this._url:We("img");if(ze(l,"leaflet-image-layer"),this._zoomAnimated&&ze(l,"leaflet-zoom-animated"),this.options.className&&ze(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onload=c(this.fire,this,"load"),l.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(n){var l=this._map.getZoomScale(n.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;jn(this._image,d,l)},_reset:function(){var n=this._image,l=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();yt(n,l.min),n.style.width=d.x+"px",n.style.height=d.y+"px"},_updateOpacity:function(){_s(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),fb=function(n,l,d){return new bl(n,l,d)},ep=bl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",l=this._image=n?this._url:We("video");if(ze(l,"leaflet-image-layer"),this._zoomAnimated&&ze(l,"leaflet-zoom-animated"),this.options.className&&ze(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onloadeddata=c(this.fire,this,"load"),n){for(var d=l.getElementsByTagName("source"),m=[],y=0;y<d.length;y++)m.push(d[y].src);this._url=d.length>0?m:[l.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var R=We("source");R.src=this._url[S],l.appendChild(R)}}});function pb(n,l,d){return new ep(n,l,d)}var tp=bl.extend({_initImage:function(){var n=this._image=this._url;ze(n,"leaflet-image-layer"),this._zoomAnimated&&ze(n,"leaflet-zoom-animated"),this.options.className&&ze(n,this.options.className),n.onselectstart=p,n.onmousemove=p}});function xb(n,l,d){return new tp(n,l,d)}var Ks=Ts.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,l){n&&(n instanceof ie||k(n))?(this._latlng=le(n),N(this,l)):(N(this,n),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&_s(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&_s(this._container,1),this.bringToFront(),this.options.interactive&&(ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(_s(this._container,0),this._removeTimeout=setTimeout(c(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=le(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(n){var l=this._source;if(!l._map)return!1;if(l instanceof or){l=null;var d=this._source._layers;for(var m in d)if(d[m]._map){l=d[m];break}if(!l)return!1;this._source=l}if(!n)if(l.getCenter)n=l.getCenter();else if(l.getLatLng)n=l.getLatLng();else if(l.getBounds)n=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")n.innerHTML=l;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),l=H(this.options.offset),d=this._getAnchor();this._zoomAnimated?yt(this._container,n.add(d)):l=l.add(n).add(d);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(n,l,d,m){var y=l;return y instanceof n||(y=new n(m).setContent(l)),d&&y.setLatLng(d),y}}),Ts.include({_initOverlay:function(n,l,d,m){var y=d;return y instanceof n?(N(y,m),y._source=this):(y=l&&!m?l:new n(m,this),y.setContent(d)),y}});var wl=Ks.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ks.prototype.openOn.call(this,n)},onAdd:function(n){Ks.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mr||this._source.on("preclick",kn))},onRemove:function(n){Ks.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mr||this._source.off("preclick",kn))},getEvents:function(){var n=Ks.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",l=this._container=We("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=We("div",n+"-content-wrapper",l);if(this._contentNode=We("div",n+"-content",d),Ra(l),Md(this._contentNode),Ee(l,"contextmenu",kn),this._tipContainer=We("div",n+"-tip-container",l),this._tip=We("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=We("a",n+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Ee(m,"click",function(y){Rt(y),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,l=n.style;l.width="",l.whiteSpace="nowrap";var d=n.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var m=n.offsetHeight,y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&m>y?(l.height=y+"px",ze(n,S)):pt(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),d=this._getAnchor();yt(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,l=parseInt(La(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,m=this._containerWidth,y=new U(this._containerLeft,-d-this._containerBottom);y._add(Nn(this._container));var S=n.layerPointToContainerPoint(y),R=H(this.options.autoPanPadding),q=H(this.options.autoPanPaddingTopLeft||R),te=H(this.options.autoPanPaddingBottomRight||R),ae=n.getSize(),be=0,Pe=0;S.x+m+te.x>ae.x&&(be=S.x+m-ae.x+te.x),S.x-be-q.x<0&&(be=S.x-q.x),S.y+d+te.y>ae.y&&(Pe=S.y+d-ae.y+te.y),S.y-Pe-q.y<0&&(Pe=S.y-q.y),(be||Pe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([be,Pe]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gb=function(n,l){return new wl(n,l)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(n,l,d){return this._initOverlay(wl,n,l,d).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Ts.include({bindPopup:function(n,l){return this._popup=this._initOverlay(wl,this._popup,n,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof or||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Cn(n);var l=n.layer||n.target;if(this._popup._source===l&&!(l instanceof Mr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=l,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var jl=Ks.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ks.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ks.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ks.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",l=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var l,d,m=this._map,y=this._container,S=m.latLngToContainerPoint(m.getCenter()),R=m.layerPointToContainerPoint(n),q=this.options.direction,te=y.offsetWidth,ae=y.offsetHeight,be=H(this.options.offset),Pe=this._getAnchor();q==="top"?(l=te/2,d=ae):q==="bottom"?(l=te/2,d=0):q==="center"?(l=te/2,d=ae/2):q==="right"?(l=0,d=ae/2):q==="left"?(l=te,d=ae/2):R.x<S.x?(q="right",l=0,d=ae/2):(q="left",l=te+(be.x+Pe.x)*2,d=ae/2),n=n.subtract(H(l,d,!0)).add(be).add(Pe),pt(y,"leaflet-tooltip-right"),pt(y,"leaflet-tooltip-left"),pt(y,"leaflet-tooltip-top"),pt(y,"leaflet-tooltip-bottom"),ze(y,"leaflet-tooltip-"+q),yt(y,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&_s(this._container,n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(l)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yb=function(n,l){return new jl(n,l)};Be.include({openTooltip:function(n,l,d){return this._initOverlay(jl,n,l,d).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Ts.include({bindTooltip:function(n,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jl,this._tooltip,n,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var l=n?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof or||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&(Ee(l,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Ee(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var l=n.latlng,d,m;this._tooltip.options.sticky&&n.originalEvent&&(d=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var sp=mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var l=n&&n.tagName==="DIV"?n:document.createElement("div"),d=this.options;if(d.html instanceof Element?(cl(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var m=H(d.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function vb(n){return new sp(n)}mi.Default=Aa;var Ia=Ts.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){N(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),at(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof U?n:new U(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var l=this.getPane().children,d=-n(-1/0,1/0),m=0,y=l.length,S;m<y;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(d=n(d,+S));isFinite(d)&&(this.options.zIndex=d+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){_s(this._container,this.options.opacity);var n=+new Date,l=!1,d=!1;for(var m in this._tiles){var y=this._tiles[m];if(!(!y.current||!y.loaded)){var S=Math.min(1,(n-y.loaded)/200);_s(y.el,S),S<1?l=!0:(y.active?d=!0:this._onOpaqueTile(y),y.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(P(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,l=this.options.maxZoom;if(n!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===n?(this._levels[d].el.style.zIndex=l-Math.abs(n-d),this._onUpdateLevel(d)):(at(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var m=this._levels[n],y=this._map;return m||(m=this._levels[n]={},m.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,y.getCenter(),y.getZoom()),p(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var n,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)l=this._tiles[n],l.retain=l.current;for(n in this._tiles)if(l=this._tiles[n],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var l in this._tiles)this._tiles[l].coords.z===n&&this._removeTile(l)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)at(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,l,d,m){var y=Math.floor(n/2),S=Math.floor(l/2),R=d-1,q=new U(+y,+S);q.z=+R;var te=this._tileCoordsToKey(q),ae=this._tiles[te];return ae&&ae.active?(ae.retain=!0,!0):(ae&&ae.loaded&&(ae.retain=!0),R>m?this._retainParent(y,S,R,m):!1)},_retainChildren:function(n,l,d,m){for(var y=2*n;y<2*n+2;y++)for(var S=2*l;S<2*l+2;S++){var R=new U(y,S);R.z=d+1;var q=this._tileCoordsToKey(R),te=this._tiles[q];if(te&&te.active){te.retain=!0;continue}else te&&te.loaded&&(te.retain=!0);d+1<m&&this._retainChildren(y,S,d+1,m)}},_resetView:function(n){var l=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var l=this.options;return l.minNativeZoom!==void 0&&n<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<n?l.maxNativeZoom:n},_setView:function(n,l,d,m){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var S=this.options.updateWhenZooming&&y!==this._tileZoom;(!m||S)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(n),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(n,l)},_setZoomTransforms:function(n,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],n,l)},_setZoomTransform:function(n,l,d){var m=this._map.getZoomScale(d,n.zoom),y=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,d)).round();ke.any3d?jn(n.el,y,m):yt(n.el,y)},_resetGrid:function(){var n=this._map,l=n.options.crs,d=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,l.wrapLng[0]],m).x/d.x),Math.ceil(n.project([0,l.wrapLng[1]],m).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([l.wrapLat[0],0],m).y/d.x),Math.ceil(n.project([l.wrapLat[1],0],m).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(d,this._tileZoom),y=l.project(n,this._tileZoom).floor(),S=l.getSize().divideBy(m*2);return new ee(y.subtract(S),y.add(S))},_update:function(n){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(n===void 0&&(n=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),y=this._pxBoundsToTileRange(m),S=y.getCenter(),R=[],q=this.options.keepBuffer,te=new ee(y.getBottomLeft().subtract([q,-q]),y.getTopRight().add([q,-q]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ae in this._tiles){var be=this._tiles[ae].coords;(be.z!==this._tileZoom||!te.contains(new U(be.x,be.y)))&&(this._tiles[ae].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(n,d);return}for(var Pe=y.min.y;Pe<=y.max.y;Pe++)for(var Ae=y.min.x;Ae<=y.max.x;Ae++){var Zt=new U(Ae,Pe);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var St=this._tiles[this._tileCoordsToKey(Zt)];St?St.current=!0:R.push(Zt)}}if(R.sort(function(Xt,gi){return Xt.distanceTo(S)-gi.distanceTo(S)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ws=document.createDocumentFragment();for(Ae=0;Ae<R.length;Ae++)this._addTile(R[Ae],ws);this._level.el.appendChild(ws)}}}},_isValidTile:function(n){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(n.x<d.min.x||n.x>d.max.x)||!l.wrapLat&&(n.y<d.min.y||n.y>d.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return ve(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var l=this._map,d=this.getTileSize(),m=n.scaleBy(d),y=m.add(d),S=l.unproject(m,n.z),R=l.unproject(y,n.z);return[S,R]},_tileCoordsToBounds:function(n){var l=this._tileCoordsToNwSe(n),d=new fe(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var l=n.split(":"),d=new U(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(n){var l=this._tiles[n];l&&(at(l.el),delete this._tiles[n],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ze(n,"leaflet-tile");var l=this.getTileSize();n.style.width=l.x+"px",n.style.height=l.y+"px",n.onselectstart=p,n.onmousemove=p,ke.ielt9&&this.options.opacity<1&&_s(n,this.options.opacity)},_addTile:function(n,l){var d=this._getTilePos(n),m=this._tileCoordsToKey(n),y=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(y),this.createTile.length<2&&I(c(this._tileReady,this,n,null,y)),yt(y,d),this._tiles[m]={el:y,coords:n,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:n})},_tileReady:function(n,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:n});var m=this._tileCoordsToKey(n);d=this._tiles[m],d&&(d.loaded=+new Date,this._map._fadeAnimated?(_s(d.el,0),P(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(ze(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var l=new U(this._wrapX?x(n.x,this._wrapX):n.x,this._wrapY?x(n.y,this._wrapY):n.y);return l.z=n.z,l},_pxBoundsToTileRange:function(n){var l=this.getTileSize();return new ee(n.min.unscaleBy(l).floor(),n.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function _b(n){return new Ia(n)}var xi=Ia.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,l){this._url=n,l=N(this,l),l.detectRetina&&ke.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,l){return this._url===n&&l===void 0&&(l=!0),this._url=n,l||this.redraw(),this},createTile:function(n,l){var d=document.createElement("img");return Ee(d,"load",c(this._tileOnLoad,this,l,d)),Ee(d,"error",c(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(n),d},getTileUrl:function(n){var l={r:ke.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-n.y;this.options.tms&&(l.y=d),l["-y"]=d}return v(this._url,o(l,this.options))},_tileOnLoad:function(n,l){ke.ielt9?setTimeout(c(n,this,null,l),0):n(null,l)},_tileOnError:function(n,l,d){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),n(d,l)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,m=this.options.zoomOffset;return d&&(n=l-n),n+m},_getSubdomain:function(n){var l=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var n,l;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(l=this._tiles[n].el,l.onload=p,l.onerror=p,!l.complete)){l.src=M;var d=this._tiles[n].coords;at(l),delete this._tiles[n],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(n){var l=this._tiles[n];if(l)return l.el.setAttribute("src",M),Ia.prototype._removeTile.call(this,n)},_tileReady:function(n,l,d){if(!(!this._map||d&&d.getAttribute("src")===M))return Ia.prototype._tileReady.call(this,n,l,d)}});function rp(n,l){return new xi(n,l)}var np=xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,l){this._url=n;var d=o({},this.defaultWmsParams);for(var m in l)m in this.options||(d[m]=l[m]);l=N(this,l);var y=l.detectRetina&&ke.retina?2:1,S=this.getTileSize();d.width=S.x*y,d.height=S.y*y,this.wmsParams=d},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,xi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var l=this._tileCoordsToNwSe(n),d=this._crs,m=me(d.project(l[0]),d.project(l[1])),y=m.min,S=m.max,R=(this._wmsVersion>=1.3&&this._crs===Kf?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),q=xi.prototype.getTileUrl.call(this,n);return q+w(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(n,l){return o(this.wmsParams,n),l||this.redraw(),this}});function bb(n,l){return new np(n,l)}xi.WMS=np,rp.wms=bb;var dr=Ts.extend({options:{padding:.1},initialize:function(n){N(this,n),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,l){var d=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),S=m.multiplyBy(-d).add(y).subtract(this._map._getNewPixelOrigin(n,l));ke.any3d?jn(this._container,S,d):yt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-n)).round();this._bounds=new ee(d,d.add(l.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ip=dr.extend({options:{tolerance:0},getEvents:function(){var n=dr.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Ee(n,"mousemove",this._onMouseMove,this),Ee(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,at(this._container),Ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var l in this._layers)n=this._layers[l],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dr.prototype._update.call(this);var n=this._bounds,l=this._container,d=n.getSize(),m=ke.retina?2:1;yt(l,n.min),l.width=m*d.x,l.height=m*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[h(n)]=n;var l=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var l=n._order,d=l.next,m=l.prev;d?d.prev=m:this._drawLast=m,m?m.next=d:this._drawFirst=d,delete n._order,delete this._layers[h(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var l=n.options.dashArray.split(/[, ]+/),d=[],m,y;for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;d.push(m)}n.options._dashArray=d}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var l=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(n._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(n._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var l=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!l||n._pxBounds&&n._pxBounds.intersects(l))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,l){if(this._drawing){var d,m,y,S,R=n._parts,q=R.length,te=this._ctx;if(q){for(te.beginPath(),d=0;d<q;d++){for(m=0,y=R[d].length;m<y;m++)S=R[d][m],te[m?"lineTo":"moveTo"](S.x,S.y);l&&te.closePath()}this._fillStroke(te,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var l=n._point,d=this._ctx,m=Math.max(Math.round(n._radius),1),y=(Math.max(Math.round(n._radiusY),1)||m)/m;y!==1&&(d.save(),d.scale(1,y)),d.beginPath(),d.arc(l.x,l.y/y,m,0,Math.PI*2,!1),y!==1&&d.restore(),this._fillStroke(d,n)}},_fillStroke:function(n,l){var d=l.options;d.fill&&(n.globalAlpha=d.fillOpacity,n.fillStyle=d.fillColor||d.color,n.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(n.setLineDash&&n.setLineDash(l.options&&l.options._dashArray||[]),n.globalAlpha=d.opacity,n.lineWidth=d.weight,n.strokeStyle=d.color,n.lineCap=d.lineCap,n.lineJoin=d.lineJoin,n.stroke())},_onClick:function(n){for(var l=this._map.mouseEventToLayerPoint(n),d,m,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(d))&&(m=d);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,l)}},_handleMouseOut:function(n){var l=this._hoveredLayer;l&&(pt(this._container,"leaflet-interactive"),this._fireEvent([l],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,l){if(!this._mouseHoverThrottled){for(var d,m,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(m=d);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(ze(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,l,d){this._map._fireDOMEvent(l,d||l.type,n)},_bringToFront:function(n){var l=n._order;if(l){var d=l.next,m=l.prev;if(d)d.prev=m;else return;m?m.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(n)}},_bringToBack:function(n){var l=n._order;if(l){var d=l.next,m=l.prev;if(m)m.next=d;else return;d?d.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(n)}}});function ap(n){return ke.canvas?new ip(n):null}var Fa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),wb={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(dr.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var l=n._container=Fa("shape");ze(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",n._path=Fa("path"),l.appendChild(n._path),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){var l=n._container;this._container.appendChild(l),n.options.interactive&&n.addInteractiveTarget(l)},_removePath:function(n){var l=n._container;at(l),n.removeInteractiveTarget(l),delete this._layers[h(n)]},_updateStyle:function(n){var l=n._stroke,d=n._fill,m=n.options,y=n._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=n._stroke=Fa("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=k(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),n._stroke=null),m.fill?(d||(d=n._fill=Fa("fill")),y.appendChild(d),d.color=m.fillColor||m.color,d.opacity=m.fillOpacity):d&&(y.removeChild(d),n._fill=null)},_updateCircle:function(n){var l=n._point.round(),d=Math.round(n._radius),m=Math.round(n._radiusY||d);this._setPath(n,n._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+m+" 0,"+65535*360)},_setPath:function(n,l){n._path.v=l},_bringToFront:function(n){di(n._container)},_bringToBack:function(n){ui(n._container)}},Nl=ke.vml?Fa:$e,Da=dr.extend({_initContainer:function(){this._container=Nl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dr.prototype._update.call(this);var n=this._bounds,l=n.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),yt(d,n.min),d.setAttribute("viewBox",[n.min.x,n.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(n){var l=n._path=Nl("path");n.options.className&&ze(l,n.options.className),n.options.interactive&&ze(l,"leaflet-interactive"),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){at(n._path),n.removeInteractiveTarget(n._path),delete this._layers[h(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var l=n._path,d=n.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(n,l){this._setPath(n,Se(n._parts,l))},_updateCircle:function(n){var l=n._point,d=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||d,y="a"+d+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(l.x-d)+","+l.y+y+d*2+",0 "+y+-d*2+",0 ";this._setPath(n,S)},_setPath:function(n,l){n._path.setAttribute("d",l)},_bringToFront:function(n){di(n._path)},_bringToBack:function(n){ui(n._path)}});ke.vml&&Da.include(wb);function op(n){return ke.svg||ke.vml?new Da(n):null}Be.include({getRenderer:function(n){var l=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var l=this._paneRenderers[n];return l===void 0&&(l=this._createRenderer({pane:n}),this._paneRenderers[n]=l),l},_createRenderer:function(n){return this.options.preferCanvas&&ap(n)||op(n)}});var lp=fi.extend({initialize:function(n,l){fi.prototype.initialize.call(this,this._boundsToLatLngs(n),l)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ve(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function jb(n,l){return new lp(n,l)}Da.create=Nl,Da.pointsToPath=Se,cr.geometryToLayer=gl,cr.coordsToLatLng=Bd,cr.coordsToLatLngs=yl,cr.latLngToCoords=Ud,cr.latLngsToCoords=vl,cr.getFeature=pi,cr.asFeature=_l,Be.mergeOptions({boxZoom:!0});var cp=Qs.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ea(),jd(),this._startPoint=this._map.mouseEventToContainerPoint(n),Ee(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var l=new ee(this._point,this._startPoint),d=l.getSize();yt(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(at(this._box),pt(this._container,"leaflet-crosshair")),Ma(),Nd(),Ke(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var l=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",cp),Be.mergeOptions({doubleClickZoom:!0});var dp=Qs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var l=this._map,d=l.getZoom(),m=l.options.zoomDelta,y=n.originalEvent.shiftKey?d-m:d+m;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(n.containerPoint,y)}});Be.addInitHook("addHandler","doubleClickZoom",dp),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var up=Qs.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Er(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ve(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,l){return n-(n-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;n.x<l.min.x&&(n.x=this._viscousLimit(n.x,l.min.x)),n.y<l.min.y&&(n.y=this._viscousLimit(n.y,l.min.y)),n.x>l.max.x&&(n.x=this._viscousLimit(n.x,l.max.x)),n.y>l.max.y&&(n.y=this._viscousLimit(n.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,l=Math.round(n/2),d=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+d)%n+l-d,S=(m+l+d)%n-l-d,R=Math.abs(y+d)<Math.abs(S+d)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(n){var l=this._map,d=l.options,m=!d.inertia||n.noInertia||this._times.length<2;if(l.fire("dragend",n),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,R=d.easeLinearity,q=y.multiplyBy(R/S),te=q.distanceTo([0,0]),ae=Math.min(d.inertiaMaxSpeed,te),be=q.multiplyBy(ae/te),Pe=ae/(d.inertiaDeceleration*R),Ae=be.multiplyBy(-Pe/2).round();!Ae.x&&!Ae.y?l.fire("moveend"):(Ae=l._limitOffset(Ae,l.options.maxBounds),I(function(){l.panBy(Ae,{duration:Pe,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",up),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hp=Qs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Ee(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,l=document.documentElement,d=n.scrollTop||l.scrollTop,m=n.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var l=this._panKeys={},d=this.keyCodes,m,y;for(m=0,y=d.left.length;m<y;m++)l[d.left[m]]=[-1*n,0];for(m=0,y=d.right.length;m<y;m++)l[d.right[m]]=[n,0];for(m=0,y=d.down.length;m<y;m++)l[d.down[m]]=[0,n];for(m=0,y=d.up.length;m<y;m++)l[d.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var l=this._zoomKeys={},d=this.keyCodes,m,y;for(m=0,y=d.zoomIn.length;m<y;m++)l[d.zoomIn[m]]=n;for(m=0,y=d.zoomOut.length;m<y;m++)l[d.zoomOut[m]]=-n},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var l=n.keyCode,d=this._map,m;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(m=this._panKeys[l],n.shiftKey&&(m=H(m).multiplyBy(3)),d.options.maxBounds&&(m=d._limitOffset(H(m),d.options.maxBounds)),d.options.worldCopyJump){var y=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(m)));d.panTo(y)}else d.panBy(m)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Cn(n)}}});Be.addInitHook("addHandler","keyboard",hp),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mp=Qs.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var l=If(n),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),m),Cn(n)},_performZoom:function(){var n=this._map,l=n.getZoom(),d=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=d?Math.ceil(y/d)*d:y,R=n._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,R&&(n.options.scrollWheelZoom==="center"?n.setZoom(l+R):n.setZoomAround(this._lastMousePos,l+R))}});Be.addInitHook("addHandler","scrollWheelZoom",mp);var Nb=600;Be.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var fp=Qs.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var l=n.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ee(document,"touchend",Rt),Ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Nb),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ke(document,"touchend",Rt),Ke(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)},_onMove:function(n){var l=n.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,l){var d=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Be.addInitHook("addHandler","tapHold",fp),Be.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var pp=Qs.extend({addHooks:function(){ze(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var l=this._map;if(!(!n.touches||n.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(n.touches[0]),m=l.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(m)._divideBy(2))),this._startDist=d.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),Rt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(n.touches[0]),m=l.mouseEventToContainerPoint(n.touches[1]),y=d.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var S=d._add(m)._divideBy(2)._subtract(this._centerPoint);if(y===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var R=c(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(R,this,!0),Rt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,P(this._animRequest),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",pp),Be.BoxZoom=cp,Be.DoubleClickZoom=dp,Be.Drag=up,Be.Keyboard=hp,Be.ScrollWheelZoom=mp,Be.TapHold=fp,Be.TouchZoom=pp,r.Bounds=ee,r.Browser=ke,r.CRS=D,r.Canvas=ip,r.Circle=Dd,r.CircleMarker=xl,r.Class=F,r.Control=Ms,r.DivIcon=sp,r.DivOverlay=Ks,r.DomEvent=$_,r.DomUtil=B_,r.Draggable=Er,r.Evented=xe,r.FeatureGroup=or,r.GeoJSON=cr,r.GridLayer=Ia,r.Handler=Qs,r.Icon=mi,r.ImageOverlay=bl,r.LatLng=ie,r.LatLngBounds=fe,r.Layer=Ts,r.LayerGroup=hi,r.LineUtil=tb,r.Map=Be,r.Marker=pl,r.Mixin=Q_,r.Path=Mr,r.Point=U,r.PolyUtil=K_,r.Polygon=fi,r.Polyline=lr,r.Popup=wl,r.PosAnimation=Ff,r.Projection=sb,r.Rectangle=lp,r.Renderer=dr,r.SVG=Da,r.SVGOverlay=tp,r.TileLayer=xi,r.Tooltip=jl,r.Transformation=$,r.Util=J,r.VideoOverlay=ep,r.bind=c,r.bounds=me,r.canvas=ap,r.circle=db,r.circleMarker=cb,r.control=za,r.divIcon=vb,r.extend=o,r.featureGroup=ab,r.geoJSON=Xf,r.geoJson=mb,r.gridLayer=_b,r.icon=ob,r.imageOverlay=fb,r.latLng=le,r.latLngBounds=ve,r.layerGroup=ib,r.map=H_,r.marker=lb,r.point=H,r.polygon=hb,r.polyline=ub,r.popup=gb,r.rectangle=jb,r.setOptions=N,r.stamp=h,r.svg=op,r.svgOverlay=xb,r.tileLayer=rp,r.tooltip=yb,r.transformation=V,r.version=i,r.videoOverlay=pb;var kb=window.L;r.noConflict=function(){return window.L=kb,this},window.L=r})})(rm,rm.exports);var ys=rm.exports;function g_(e){return e.split(" ").filter(Boolean)}function y_(e,s){g_(s).forEach(r=>{ys.DomUtil.addClass(e,r)})}function v_(e,s){g_(s).forEach(r=>{ys.DomUtil.removeClass(e,r)})}function I6(e,s,r){e!=null&&r!==s&&(s!=null&&s.length>0&&v_(e,s),r!=null&&r.length>0&&y_(e,r))}function tl(e,s,r){return Object.freeze({instance:e,context:s,container:r})}function ba(e,s){return s==null?function(i,o){const a=C.useRef();return a.current||(a.current=e(i,o)),a}:function(i,o){const a=C.useRef();a.current||(a.current=e(i,o));const c=C.useRef(i),{instance:u}=a.current;return C.useEffect(function(){c.current!==i&&(s(u,i,c.current),c.current=i)},[u,i,o]),a}}function wf(e,s){C.useEffect(function(){return(s.layerContainer??s.map).addLayer(e.instance),function(){var a;(a=s.layerContainer)==null||a.removeLayer(e.instance),s.map.removeLayer(e.instance)}},[s,e])}function jf(e){return function(r){const i=_a(),o=e(el(r,i),i);return gf(i.map,r.attribution),ud(o.current,r.eventHandlers),wf(o.current,i),o}}function __(e,s){const r=C.useRef();C.useEffect(function(){if(s.pathOptions!==r.current){const o=s.pathOptions??{};e.instance.setStyle(o),r.current=o}},[e,s])}function b_(e){return function(r){const i=_a(),o=e(el(r,i),i);return ud(o.current,r.eventHandlers),wf(o.current,i),__(o.current,r),o}}function F6(e){function s(o,a){return tl(e(o),a)}const r=ba(s),i=p_(r);return bf(i)}function w_(e,s){const r=ba(e,s),i=jf(r);return _f(i)}function j_(e,s){const r=ba(e),i=x_(r,s);return f_(i)}function D6(e,s){const r=ba(e,s),i=b_(r);return _f(i)}function N_(e,s){const r=ba(e,s),i=jf(r);return bf(i)}function k_(e,s,r){const{opacity:i,zIndex:o}=s;i!=null&&i!==r.opacity&&e.setOpacity(i),o!=null&&o!==r.zIndex&&e.setZIndex(o)}function B6(e,s,r){s.bounds instanceof ys.LatLngBounds&&s.bounds!==r.bounds&&e.setBounds(s.bounds),s.opacity!=null&&s.opacity!==r.opacity&&e.setOpacity(s.opacity),s.zIndex!=null&&s.zIndex!==r.zIndex&&e.setZIndex(s.zIndex)}const U6=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:u_,LeafletContext:yf,LeafletProvider:vf,addClassName:y_,createContainerComponent:_f,createControlComponent:F6,createControlHook:p_,createDivOverlayComponent:f_,createDivOverlayHook:x_,createElementHook:ba,createElementObject:tl,createLayerComponent:w_,createLayerHook:jf,createLeafComponent:bf,createLeafletContext:h_,createOverlayComponent:j_,createPathComponent:D6,createPathHook:b_,createTileLayerComponent:N_,extendContext:m_,removeClassName:v_,updateCircle:A6,updateClassName:I6,updateGridLayer:k_,updateMediaOverlay:B6,useAttribution:gf,useEventHandlers:ud,useLayerLifecycle:wf,useLeafletContext:_a,usePathOptions:__,withPane:el},Symbol.toStringTag,{value:"Module"}));function C_(){return _a().map}function $6(e){const s=C_();return C.useEffect(function(){return s.on(e),function(){s.off(e)}},[s,e]),s}function nm(){return nm=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},nm.apply(this,arguments)}function H6({bounds:e,boundsOptions:s,center:r,children:i,className:o,id:a,placeholder:c,style:u,whenReady:h,zoom:f,...x},p){const[g]=C.useState({className:o,id:a,style:u}),[_,j]=C.useState(null);C.useImperativeHandle(p,()=>(_==null?void 0:_.map)??null,[_]);const N=C.useCallback(b=>{if(b!==null&&_===null){const v=new ys.Map(b,x);r!=null&&f!=null?v.setView(r,f):e!=null&&v.fitBounds(e,s),h!=null&&v.whenReady(h),j(h_(v))}},[]);C.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const w=_?Qn.createElement(vf,{value:_},i):c??null;return Qn.createElement("div",nm({},g,{ref:N}),w)}const W6=C.forwardRef(H6),vg=w_(function({position:s,...r},i){const o=new ys.Marker(s,r);return tl(o,m_(i,{overlayContainer:o}))},function(s,r,i){r.position!==i.position&&s.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&s.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&s.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&s.setOpacity(r.opacity),s.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?s.dragging.enable():s.dragging.disable())}),_g=j_(function(s,r){const i=new ys.Popup(s,r.overlayContainer);return tl(i,r)},function(s,r,{position:i},o){C.useEffect(function(){const{instance:c}=s;function u(f){f.popup===c&&(c.update(),o(!0))}function h(f){f.popup===c&&o(!1)}return r.map.on({popupopen:u,popupclose:h}),r.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(r.map)):r.overlayContainer.bindPopup(c),function(){var x;r.map.off({popupopen:u,popupclose:h}),(x=r.overlayContainer)==null||x.unbindPopup(),r.map.removeLayer(c)}},[s,r,o,i])}),Z6=N_(function({url:s,...r},i){const o=new ys.TileLayer(s,el(r,i));return tl(o,i)},function(s,r,i){k_(s,r,i);const{url:o}=r;o!=null&&o!==i.url&&s.setUrl(o)});var S_={};const q6=Uc(U6);var bg={exports:{}};(function(e,s){(function(r,i){i(s)})(fn,function(r){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var c=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,c?this._withAnimation:this._noAnimation),this._markerCluster=c?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var c=a,u=this._zoom;if(a.__parent)for(;c.__parent._zoom>=u;)c=c.__parent;return this._currentShownBounds.contains(c.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,c):this._animationAddLayerNonAnimated(a,c)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,c){if(!L.Util.isArray(a))return this.addLayer(a);var u=this._featureGroup,h=this._nonPointGroup,f=this.options.chunkedLoading,x=this.options.chunkInterval,p=this.options.chunkProgress,g=a.length,_=0,j=!0,N;if(this._map){var w=new Date().getTime(),b=L.bind(function(){var k=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();_<g;_++){if(f&&_%200===0){var E=new Date().getTime()-k;if(E>x)break}if(N=a[_],N instanceof L.LayerGroup){j&&(a=a.slice(),j=!1),this._extractNonGroupLayers(N,a),g=a.length;continue}if(!N.getLatLng){h.addLayer(N),c||this.fire("layeradd",{layer:N});continue}if(!this.hasLayer(N)&&(this._addLayer(N,this._maxZoom),c||this.fire("layeradd",{layer:N}),N.__parent&&N.__parent.getChildCount()===2)){var M=N.__parent.getAllChildMarkers(),A=M[0]===N?M[1]:M[0];u.removeLayer(A)}}p&&p(_,g,new Date().getTime()-w),_===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(b,this.options.chunkDelay)},this);b()}else for(var v=this._needsClustering;_<g;_++){if(N=a[_],N instanceof L.LayerGroup){j&&(a=a.slice(),j=!1),this._extractNonGroupLayers(N,a),g=a.length;continue}if(!N.getLatLng){h.addLayer(N);continue}this.hasLayer(N)||v.push(N)}return this},removeLayers:function(a){var c,u,h=a.length,f=this._featureGroup,x=this._nonPointGroup,p=!0;if(!this._map){for(c=0;c<h;c++){if(u=a[c],u instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(u,a),h=a.length;continue}this._arraySplice(this._needsClustering,u),x.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var g=a.slice(),_=h;for(c=0;c<_;c++){if(u=g[c],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,g),_=g.length;continue}this._unspiderfyLayer(u)}}for(c=0;c<h;c++){if(u=a[c],u instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(u,a),h=a.length;continue}if(!u.__parent){x.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),f.hasLayer(u)&&(f.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var c=this._needsClustering.length-1;c>=0;c--)a.extend(this._needsClustering[c].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,c){var u=this._needsClustering.slice(),h=this._needsRemoving,f,x,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),x=u.length-1;x>=0;x--){for(f=!0,p=h.length-1;p>=0;p--)if(h[p].layer===u[x]){f=!1;break}f&&a.call(c,u[x])}this._nonPointGroup.eachLayer(a,c)},getLayers:function(){var a=[];return this.eachLayer(function(c){a.push(c)}),a},getLayer:function(a){var c=null;return a=parseInt(a,10),this.eachLayer(function(u){L.stamp(u)===a&&(c=u)}),c},hasLayer:function(a){if(!a)return!1;var c,u=this._needsClustering;for(c=u.length-1;c>=0;c--)if(u[c]===a)return!0;for(u=this._needsRemoving,c=u.length-1;c>=0;c--)if(u[c].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,c){var u=this._map;typeof c!="function"&&(c=function(){});var h=function(){(u.hasLayer(a)||u.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),u.hasLayer(a)?c():a.__parent._icon&&(this.once("spiderfied",c,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?c():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var c,u,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,c=0,u=this._needsRemoving.length;c<u;c++)h=this._needsRemoving[c],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(c=0,u=this._needsRemoving.length;c<u;c++)h=this._needsRemoving[c],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var c=a;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(a,c){for(var u=a.length-1;u>=0;u--)if(a[u]===c)return a.splice(u,1),!0},_removeFromGridUnclustered:function(a,c){for(var u=this._map,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());c>=f&&h[c].removeObject(a,u.project(a.getLatLng(),c));c--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var c=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),c&&a.target.openPopup()}},_moveChild:function(a,c,u){a._latlng=c,this.removeLayer(a),a._latlng=u,this.addLayer(a)},_childMarkerDragEnd:function(a){var c=a.target.__dragStart;delete a.target.__dragStart,c&&this._moveChild(a.target,c,a.target._latlng)},_removeLayer:function(a,c,u){var h=this._gridClusters,f=this._gridUnclustered,x=this._featureGroup,p=this._map,g=Math.floor(this._map.getMinZoom());c&&this._removeFromGridUnclustered(a,this._maxZoom);var _=a.__parent,j=_._markers,N;for(this._arraySplice(j,a);_&&(_._childCount--,_._boundsNeedUpdate=!0,!(_._zoom<g));)c&&_._childCount<=1?(N=_._markers[0]===a?_._markers[1]:_._markers[0],h[_._zoom].removeObject(_,p.project(_._cLatLng,_._zoom)),f[_._zoom].addObject(N,p.project(N.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(N),N.__parent=_.__parent,_._icon&&(x.removeLayer(_),u||x.addLayer(N))):_._iconNeedsUpdate=!0,_=_.__parent;delete a.__parent},_isOrIsParent:function(a,c){for(;c;){if(a===c)return!0;c=c.parentNode}return!1},fire:function(a,c,u){if(c&&c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,c,u)},listens:function(a,c){return L.FeatureGroup.prototype.listens.call(this,a,c)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,c)},_defaultIconCreateFunction:function(a){var c=a.getChildCount(),u=" marker-cluster-";return c<10?u+="small":c<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+c+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,c=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(c||h||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var c=a.layer,u=c;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===c._childCount&&this.options.spiderfyOnMaxZoom?c.spiderfy():this.options.zoomToBoundsOnClick&&c.zoomToBounds(),this.options.spiderfyOnEveryZoom&&c.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var c=this._map;this._inZoomAnimation||(this._shownPolygon&&c.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),c.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,f=this._map;(a||u||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),c=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,h=u;typeof u!="function"&&(h=function(){return u}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var f=a;f>=c;f--)this._gridClusters[f]=new L.DistanceGrid(h(f)),this._gridUnclustered[f]=new L.DistanceGrid(h(f));this._topClusterLevel=new this._markerCluster(this,c-1)},_addLayer:function(a,c){var u=this._gridClusters,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),x,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);c>=f;c--){x=this._map.project(a.getLatLng(),c);var g=u[c].getNearObject(x);if(g){g._addChild(a),a.__parent=g;return}if(g=h[c].getNearObject(x),g){var _=g.__parent;_&&this._removeLayer(g,!1);var j=new this._markerCluster(this,c,g,a);u[c].addObject(j,this._map.project(j._cLatLng,c)),g.__parent=j,a.__parent=j;var N=j;for(p=c-1;p>_._zoom;p--)N=new this._markerCluster(this,p,N),u[p].addObject(N,this._map.project(g.getLatLng(),p));_._addChild(N),this._removeFromGridUnclustered(g,c);return}h[c].addObject(a,x)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var c=this._maxLat;return c!==void 0&&(a.getNorth()>=c&&(a._northEast.lat=1/0),a.getSouth()<=-c&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,c){if(c===a)this._featureGroup.addLayer(a);else if(c._childCount===2){c._addToMap();var u=c.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else c._updateIcon()},_extractNonGroupLayers:function(a,c){var u=a.getLayers(),h=0,f;for(c=c||[];h<u.length;h++){if(f=u[h],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,c);continue}c.push(f)}return c},_overrideMarkerIcon:function(a){var c=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return c}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,c){this._animationAddLayerNonAnimated(a,c)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,c){var u=this._getExpandedVisibleBounds(),h=this._featureGroup,f=Math.floor(this._map.getMinZoom()),x;this._ignoreMove=!0,this._topClusterLevel._recursively(u,a,f,function(p){var g=p._latlng,_=p._markers,j;for(u.contains(g)||(g=null),p._isSingleParent()&&a+1===c?(h.removeLayer(p),p._recursivelyAddChildrenToMap(null,c,u)):(p.clusterHide(),p._recursivelyAddChildrenToMap(g,c,u)),x=_.length-1;x>=0;x--)j=_[x],u.contains(j._latlng)||h.removeLayer(j)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,c),h.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(u,a,c,function(p){p._recursivelyRestoreChildPositions(c)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,a,f,function(p){h.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,c){this._animationZoomOutSingle(this._topClusterLevel,a-1,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,c){var u=this,h=this._featureGroup;h.addLayer(a),c!==a&&(c._childCount>2?(c._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(c.getLatLng())),a.clusterHide(),this._enqueue(function(){h.removeLayer(a),a.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(c,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,c,u){var h=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(h,f,c+1,u);var x=this;this._forceLayout(),a._recursivelyBecomeVisible(h,u),this._enqueue(function(){if(a._childCount===1){var p=a._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else a._recursively(h,u,f,function(g){g._recursivelyRemoveChildrenFromMap(h,f,c+1)});x._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,c,u,h){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=c,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),h&&this._addChild(h)},getAllChildMarkers:function(a,c){a=a||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(a,c);for(var h=this._markers.length-1;h>=0;h--)c&&this._markers[h].__dragStart||a.push(this._markers[h]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var c=this._childClusters.slice(),u=this._group._map,h=u.getBoundsZoom(this._bounds),f=this._zoom+1,x=u.getZoom(),p;c.length>0&&h>f;){f++;var g=[];for(p=0;p<c.length;p++)g=g.concat(c[p]._childClusters);c=g}h>f?this._group._map.setView(this._latlng,f):h<=x?this._group._map.setView(this._latlng,x+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,c){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(c||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(c||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,c=this._childClusters,u=0,h=0,f=this._childCount,x,p,g,_;if(f!==0){for(this._resetBounds(),x=0;x<a.length;x++)g=a[x]._latlng,this._bounds.extend(g),u+=g.lat,h+=g.lng;for(x=0;x<c.length;x++)p=c[x],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),g=p._wLatLng,_=p._childCount,u+=g.lat*_,h+=g.lng*_;this._latlng=this._wLatLng=new L.LatLng(u/f,h/f),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,c,u){this._recursively(a,this._group._map.getMinZoom(),u-1,function(h){var f=h._markers,x,p;for(x=f.length-1;x>=0;x--)p=f[x],p._icon&&(p._setPos(c),p.clusterHide())},function(h){var f=h._childClusters,x,p;for(x=f.length-1;x>=0;x--)p=f[x],p._icon&&(p._setPos(c),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,c,u,h){this._recursively(a,h,c,function(f){f._recursivelyAnimateChildrenIn(a,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),u),f._isSingleParent()&&u-1===h?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(a,c,u)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(a,c){this._recursively(a,this._group._map.getMinZoom(),c,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(a,c,u){this._recursively(u,this._group._map.getMinZoom()-1,c,function(h){if(c!==h._zoom)for(var f=h._markers.length-1;f>=0;f--){var x=h._markers[f];u.contains(x._latlng)&&(a&&(x._backupLatlng=x.getLatLng(),x.setLatLng(a),x.clusterHide&&x.clusterHide()),h._group._featureGroup.addLayer(x))}},function(h){h._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var c=this._markers.length-1;c>=0;c--){var u=this._markers[c];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(a-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,c,u,h){var f,x;this._recursively(a,c-1,u-1,function(p){for(x=p._markers.length-1;x>=0;x--)f=p._markers[x],(!h||!h.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(p){for(x=p._childClusters.length-1;x>=0;x--)f=p._childClusters[x],(!h||!h.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(a,c,u,h,f){var x=this._childClusters,p=this._zoom,g,_;if(c<=p&&(h&&h(this),f&&p===u&&f(this)),p<c||p<u)for(g=x.length-1;g>=0;g--)_=x[g],_._boundsNeedUpdate&&_._recalculateBounds(),a.intersects(_._bounds)&&_._recursively(a,c,u,h,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,c){var u=this._getCoord(c.x),h=this._getCoord(c.y),f=this._grid,x=f[h]=f[h]||{},p=x[u]=x[u]||[],g=L.Util.stamp(a);this._objectPoint[g]=c,p.push(a)},updateObject:function(a,c){this.removeObject(a),this.addObject(a,c)},removeObject:function(a,c){var u=this._getCoord(c.x),h=this._getCoord(c.y),f=this._grid,x=f[h]=f[h]||{},p=x[u]=x[u]||[],g,_;for(delete this._objectPoint[L.Util.stamp(a)],g=0,_=p.length;g<_;g++)if(p[g]===a)return p.splice(g,1),_===1&&delete x[u],!0},eachObject:function(a,c){var u,h,f,x,p,g,_,j=this._grid;for(u in j){p=j[u];for(h in p)for(g=p[h],f=0,x=g.length;f<x;f++)_=a.call(c,g[f]),_&&(f--,x--)}},getNearObject:function(a){var c=this._getCoord(a.x),u=this._getCoord(a.y),h,f,x,p,g,_,j,N,w=this._objectPoint,b=this._sqCellSize,v=null;for(h=u-1;h<=u+1;h++)if(p=this._grid[h],p){for(f=c-1;f<=c+1;f++)if(g=p[f],g)for(x=0,_=g.length;x<_;x++)j=g[x],N=this._sqDist(w[L.Util.stamp(j)],a),(N<b||N<=b&&v===null)&&(b=N,v=j)}return v},_getCoord:function(a){var c=Math.floor(a/this._cellSize);return isFinite(c)?c:a},_sqDist:function(a,c){var u=c.x-a.x,h=c.y-a.y;return u*u+h*h}},function(){L.QuickHull={getDistant:function(a,c){var u=c[1].lat-c[0].lat,h=c[0].lng-c[1].lng;return h*(a.lat-c[0].lat)+u*(a.lng-c[0].lng)},findMostDistantPointFromBaseLine:function(a,c){var u=0,h=null,f=[],x,p,g;for(x=c.length-1;x>=0;x--){if(p=c[x],g=this.getDistant(p,a),g>0)f.push(p);else continue;g>u&&(u=g,h=p)}return{maxPoint:h,newPoints:f}},buildConvexHull:function(a,c){var u=[],h=this.findMostDistantPointFromBaseLine(a,c);return h.maxPoint?(u=u.concat(this.buildConvexHull([a[0],h.maxPoint],h.newPoints)),u=u.concat(this.buildConvexHull([h.maxPoint,a[1]],h.newPoints)),u):[a[0]]},getConvexHull:function(a){var c=!1,u=!1,h=!1,f=!1,x=null,p=null,g=null,_=null,j=null,N=null,w;for(w=a.length-1;w>=0;w--){var b=a[w];(c===!1||b.lat>c)&&(x=b,c=b.lat),(u===!1||b.lat<u)&&(p=b,u=b.lat),(h===!1||b.lng>h)&&(g=b,h=b.lng),(f===!1||b.lng<f)&&(_=b,f=b.lng)}u!==c?(N=p,j=x):(N=_,j=g);var v=[].concat(this.buildConvexHull([N,j],a),this.buildConvexHull([j,N],a));return v}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),c=[],u,h;for(h=a.length-1;h>=0;h--)u=a[h].getLatLng(),c.push(u);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),c=this._group,u=c._map,h=u.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(a.length,h):a.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(a.length,h):(h.y+=10,f=this._generatePointsCircle(a.length,h)),this._animationSpiderfy(a,f)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,c){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),h=u/this._2PI,f=this._2PI/a,x=[],p,g;for(h=Math.max(h,35),x.length=a,p=0;p<a;p++)g=this._circleStartAngle+p*f,x[p]=new L.Point(c.x+h*Math.cos(g),c.y+h*Math.sin(g))._round();return x},_generatePointsSpiral:function(a,c){var u=this._group.options.spiderfyDistanceMultiplier,h=u*this._spiralLengthStart,f=u*this._spiralFootSeparation,x=u*this._spiralLengthFactor*this._2PI,p=0,g=[],_;for(g.length=a,_=a;_>=0;_--)_<a&&(g[_]=new L.Point(c.x+h*Math.cos(p),c.y+h*Math.sin(p))._round()),p+=f/h+_*5e-4,h+=x/p;return g},_noanimationUnspiderfy:function(){var a=this._group,c=a._map,u=a._featureGroup,h=this.getAllChildMarkers(null,!0),f,x;for(a._ignoreMove=!0,this.setOpacity(1),x=h.length-1;x>=0;x--)f=h[x],u.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(c.removeLayer(f._spiderLeg),delete f._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:h}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,c){var u=this._group,h=u._map,f=u._featureGroup,x=this._group.options.spiderLegPolylineOptions,p,g,_,j;for(u._ignoreMove=!0,p=0;p<a.length;p++)j=h.layerPointToLatLng(c[p]),g=a[p],_=new L.Polyline([this._latlng,j],x),h.addLayer(_),g._spiderLeg=_,g._preSpiderfyLatlng=g._latlng,g.setLatLng(j),g.setZIndexOffset&&g.setZIndexOffset(1e6),f.addLayer(g);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,c){var u=this,h=this._group,f=h._map,x=h._featureGroup,p=this._latlng,g=f.latLngToLayerPoint(p),_=L.Path.SVG,j=L.extend({},this._group.options.spiderLegPolylineOptions),N=j.opacity,w,b,v,k,E,M;for(N===void 0&&(N=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(j.opacity=0,j.className=(j.className||"")+" leaflet-cluster-spider-leg"):j.opacity=N,h._ignoreMove=!0,w=0;w<a.length;w++)b=a[w],M=f.layerPointToLatLng(c[w]),v=new L.Polyline([p,M],j),f.addLayer(v),b._spiderLeg=v,_&&(k=v._path,E=k.getTotalLength()+.1,k.style.strokeDasharray=E,k.style.strokeDashoffset=E),b.setZIndexOffset&&b.setZIndexOffset(1e6),b.clusterHide&&b.clusterHide(),x.addLayer(b),b._setPos&&b._setPos(g);for(h._forceLayout(),h._animationStart(),w=a.length-1;w>=0;w--)M=f.layerPointToLatLng(c[w]),b=a[w],b._preSpiderfyLatlng=b._latlng,b.setLatLng(M),b.clusterShow&&b.clusterShow(),_&&(v=b._spiderLeg,k=v._path,k.style.strokeDashoffset=0,v.setStyle({opacity:N}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:u,markers:a})},200)},_animationUnspiderfy:function(a){var c=this,u=this._group,h=u._map,f=u._featureGroup,x=a?h._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):h.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),g=L.Path.SVG,_,j,N,w,b,v;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),j=p.length-1;j>=0;j--)_=p[j],_._preSpiderfyLatlng&&(_.closePopup(),_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng,v=!0,_._setPos&&(_._setPos(x),v=!1),_.clusterHide&&(_.clusterHide(),v=!1),v&&f.removeLayer(_),g&&(N=_._spiderLeg,w=N._path,b=w.getTotalLength()+.1,w.style.strokeDashoffset=b,N.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var k=0;for(j=p.length-1;j>=0;j--)_=p[j],_._spiderLeg&&k++;for(j=p.length-1;j>=0;j--)_=p[j],_._spiderLeg&&(_.clusterShow&&_.clusterShow(),_.setZIndexOffset&&_.setZIndexOffset(0),k>1&&f.removeLayer(_),h.removeLayer(_._spiderLeg),delete _._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:c,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var c,u;for(c in a)for(u=a[c].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(a){var c,u;for(c in a)u=a[c],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(a,c){var u=this.options.icon;return L.setOptions(u,a),this.setIcon(u),c&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r.MarkerClusterGroup=i,r.MarkerCluster=o,Object.defineProperty(r,"__esModule",{value:!0})})})(bg,bg.exports);const V6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",G6=Object.freeze(Object.defineProperty({__proto__:null,default:V6},Symbol.toStringTag,{value:"Module"})),Q6=Uc(G6),K6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Y6=Object.freeze(Object.defineProperty({__proto__:null,default:K6},Symbol.toStringTag,{value:"Module"})),J6=Uc(Y6),X6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",e3=Object.freeze(Object.defineProperty({__proto__:null,default:X6},Symbol.toStringTag,{value:"Module"})),t3=Uc(e3);var Ti=fn&&fn.__assign||function(){return Ti=Object.assign||function(e){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},Ti.apply(this,arguments)},s3=fn&&fn.__rest||function(e,s){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&s.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)s.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},r3=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S_,"__esModule",{value:!0});var im=q6,Nf=r3(ys);delete Nf.default.Icon.Default.prototype._getIconUrl;Nf.default.Icon.Default.mergeOptions({iconRetinaUrl:Q6.default,iconUrl:J6.default,shadowUrl:t3.default});function n3(e){var s={},r={};e.children;var i=s3(e,["children"]);return Object.entries(i).forEach(function(o){var a,c,u=o[0],h=o[1];u.startsWith("on")?r=Ti(Ti({},r),(a={},a[u]=h,a)):s=Ti(Ti({},s),(c={},c[u]=h,c))}),{clusterProps:s,clusterEvents:r}}function i3(e,s){var r=n3(e),i=r.clusterProps,o=r.clusterEvents,a=new Nf.default.MarkerClusterGroup(i);return Object.entries(o).forEach(function(c){var u=c[0],h=c[1],f="cluster".concat(u.substring(2).toLowerCase());a.on(f,h)}),(0,im.createElementObject)(a,(0,im.extendContext)(s,{layerContainer:a}))}var a3=function(e,s,r){},o3=(0,im.createPathComponent)(i3,a3),l3=S_.default=o3;const c3=new ys.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});ys.divIcon({html:'<div style="background-color: #f97316; width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;"><span style="color: white; font-size: 16px; font-weight: bold;">%</span></div>',iconSize:[30,30],iconAnchor:[15,15],popupAnchor:[0,-15],className:""});const d3=ys.divIcon({html:'<div style="background-color: #ef4444; width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;"><span style="color: white; font-size: 16px;"></span></div>',iconSize:[30,30],iconAnchor:[15,15],popupAnchor:[0,-15],className:""}),u3=ys.divIcon({html:'<div style="background-color: #3b82f6; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>',iconSize:[20,20],iconAnchor:[10,10],className:""}),h3=({onBoundsChange:e,onZoomChange:s})=>{const r=$6({moveend:()=>{const i=r.getBounds();e({north:i.getNorth(),east:i.getEast(),south:i.getSouth(),west:i.getWest()})},zoomend:()=>{s(r.getZoom())}});return null},m3=({center:e,zoom:s})=>{const r=C_(),i=()=>{r.setView(e,s)};return t.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-[1000] bg-white hover:bg-gray-50 p-3 rounded-lg shadow-lg transition-colors","aria-label":"Recenter map to your location",children:t.jsx(mk,{className:"w-5 h-5 text-gray-700"})})},f3=()=>{var xe,U;const e=ut(),[s,r]=gs(),i=ce(O=>O.user_location),o=ce(O=>O.favorites_list.restaurant_ids),a=ce(O=>O.toggle_favorite),c=ce(O=>O.authentication_state.authentication_status.is_authenticated),[u]=C.useState({latitude:parseFloat(s.get("lat")||"")||i.latitude||45.5231,longitude:parseFloat(s.get("lng")||"")||i.longitude||-122.6765}),[h,f]=C.useState(parseInt(s.get("zoom")||"")||13),[x,p]=C.useState(null),[g,_]=C.useState(!1),[j,N]=C.useState(!1),[w,b]=C.useState({cuisine_types:((xe=s.get("cuisine_types"))==null?void 0:xe.split(",").filter(Boolean))||[],price_min:s.get("price_min")?parseInt(s.get("price_min")):null,price_max:s.get("price_max")?parseInt(s.get("price_max")):null,rating_min:s.get("rating_min")?parseFloat(s.get("rating_min")):null,dietary_preferences:((U=s.get("dietary_preferences"))==null?void 0:U.split(",").filter(Boolean))||[],open_now:s.get("open_now")==="true",has_discount:s.get("has_discount")==="true"}),v=async()=>{const O={is_active:"true",limit:"1000",offset:"0"};return w.cuisine_types.length>0&&(O.cuisine_types=w.cuisine_types.join(",")),w.price_min!==null&&(O.price_min=w.price_min.toString()),w.price_max!==null&&(O.price_max=w.price_max.toString()),w.rating_min!==null&&(O.rating_min=w.rating_min.toString()),w.dietary_preferences.length>0&&(O.dietary_preferences=w.dietary_preferences.join(",")),w.open_now&&(O.open_now="true"),w.has_discount&&(O.has_discount="true"),(await de.get("https://123local-eats-app.launchpulse.ai/api/restaurants",{params:O})).data},{data:k,isLoading:E,error:M,refetch:A}=Fe({queryKey:["restaurants",w],queryFn:v,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}),W=C.useMemo(()=>!(k!=null&&k.restaurants)||!x?(k==null?void 0:k.restaurants)||[]:k.restaurants.filter(O=>O.latitude>=x.south&&O.latitude<=x.north&&O.longitude>=x.west&&O.longitude<=x.east),[k==null?void 0:k.restaurants,x]),G=C.useCallback(O=>{p(O),_(!0)},[]),T=C.useCallback(O=>{f(O)},[]),Z=C.useCallback(()=>{_(!1),A()},[A]),I=C.useCallback(()=>{const O={};w.cuisine_types.length>0&&(O.cuisine_types=w.cuisine_types.join(",")),w.price_min!==null&&(O.price_min=w.price_min.toString()),w.price_max!==null&&(O.price_max=w.price_max.toString()),w.rating_min!==null&&(O.rating_min=w.rating_min.toString()),w.dietary_preferences.length>0&&(O.dietary_preferences=w.dietary_preferences.join(",")),w.open_now&&(O.open_now="true"),w.has_discount&&(O.has_discount="true"),r(O),N(!1),A()},[w,r,A]),P=C.useCallback(()=>{b({cuisine_types:[],price_min:null,price_max:null,rating_min:null,dietary_preferences:[],open_now:!1,has_discount:!1})},[]),J=C.useCallback(()=>{const O={};w.cuisine_types.length>0&&(O.cuisine_types=w.cuisine_types.join(",")),w.price_min!==null&&(O.price_min=w.price_min.toString()),w.price_max!==null&&(O.price_max=w.price_max.toString()),w.rating_min!==null&&(O.rating_min=w.rating_min.toString()),w.dietary_preferences.length>0&&(O.dietary_preferences=w.dietary_preferences.join(",")),w.open_now&&(O.open_now="true"),w.has_discount&&(O.has_discount="true");const H=new URLSearchParams(O).toString();e(H?`/?${H}`:"/")},[w,e]),F=C.useCallback(O=>{if(!c){alert("Please sign in to save favorites");return}a(O)},[c,a]),ue=C.useCallback((O,H)=>{if(!i.latitude||!i.longitude)return"";const ee=3959,me=(O-i.latitude)*Math.PI/180,fe=(H-i.longitude)*Math.PI/180,ve=Math.sin(me/2)*Math.sin(me/2)+Math.cos(i.latitude*Math.PI/180)*Math.cos(O*Math.PI/180)*Math.sin(fe/2)*Math.sin(fe/2),ie=2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve));return`${(ee*ie).toFixed(1)} mi`},[i]),ne=C.useMemo(()=>{let O=0;return w.cuisine_types.length>0&&O++,(w.price_min!==null||w.price_max!==null)&&O++,w.rating_min!==null&&O++,w.dietary_preferences.length>0&&O++,w.open_now&&O++,w.has_discount&&O++,O},[w]);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative w-full h-screen bg-gray-100",children:[t.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[1000] bg-white shadow-md",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[t.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors relative",children:[t.jsx(pf,{className:"w-5 h-5 text-gray-700"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters"}),ne>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:ne})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-md shadow-sm text-sm font-medium text-gray-900",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Map"})]}),t.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors",children:[t.jsx(dk,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"List"})]})]})]}),ne>0&&t.jsxs("div",{className:"flex items-center gap-2 px-4 pb-3 flex-wrap",children:[w.cuisine_types.map(O=>t.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:[t.jsx("span",{children:O}),t.jsx("button",{onClick:()=>b(H=>({...H,cuisine_types:H.cuisine_types.filter(ee=>ee!==O)})),className:"hover:bg-orange-200 rounded-full p-0.5",children:t.jsx(Le,{className:"w-3 h-3"})})]},O)),(w.price_min!==null||w.price_max!==null)&&t.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:[t.jsxs("span",{children:["$",w.price_min||1,"-$",w.price_max||4]}),t.jsx("button",{onClick:()=>b(O=>({...O,price_min:null,price_max:null})),className:"hover:bg-orange-200 rounded-full p-0.5",children:t.jsx(Le,{className:"w-3 h-3"})})]}),w.rating_min!==null&&t.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:[t.jsxs("span",{children:[w.rating_min,"+ stars"]}),t.jsx("button",{onClick:()=>b(O=>({...O,rating_min:null})),className:"hover:bg-orange-200 rounded-full p-0.5",children:t.jsx(Le,{className:"w-3 h-3"})})]}),w.open_now&&t.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:[t.jsx("span",{children:"Open Now"}),t.jsx("button",{onClick:()=>b(O=>({...O,open_now:!1})),className:"hover:bg-orange-200 rounded-full p-0.5",children:t.jsx(Le,{className:"w-3 h-3"})})]}),w.has_discount&&t.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:[t.jsx("span",{children:"Has Discount"}),t.jsx("button",{onClick:()=>b(O=>({...O,has_discount:!1})),className:"hover:bg-orange-200 rounded-full p-0.5",children:t.jsx(Le,{className:"w-3 h-3"})})]}),t.jsx("button",{onClick:P,className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Clear all"})]})]}),g&&t.jsxs("button",{onClick:Z,className:"absolute top-24 left-1/2 transform -translate-x-1/2 z-[1000] bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-full shadow-lg font-medium flex items-center gap-2 transition-all",children:[t.jsx(ms,{className:"w-5 h-5"}),"Search this area"]}),t.jsx("div",{className:"absolute top-16 left-0 right-0 bottom-0",children:E?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):M?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load restaurants"}),t.jsx("button",{onClick:()=>A(),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Retry"})]})}):t.jsxs(W6,{center:[u.latitude,u.longitude],zoom:h,style:{height:"100%",width:"100%"},className:"z-0",children:[t.jsx(Z6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.jsx(h3,{onBoundsChange:G,onZoomChange:T}),i.latitude&&i.longitude&&t.jsxs(t.Fragment,{children:[t.jsx(vg,{position:[i.latitude,i.longitude],icon:u3,children:t.jsx(_g,{children:"Your Location"})}),t.jsx(m3,{center:[i.latitude,i.longitude],zoom:13})]}),t.jsx(l3,{chunkedLoading:!0,maxClusterRadius:60,iconCreateFunction:O=>{const H=O.getChildCount();return ys.divIcon({html:`<div style="background-color: #ea580c; color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">${H}</div>`,className:"",iconSize:[40,40]})},children:W.map(O=>{const H=o.includes(O.restaurant_id);let ee=c3;H&&(ee=d3);const me=ue(O.latitude,O.longitude);return t.jsx(vg,{position:[O.latitude,O.longitude],icon:ee,children:t.jsx(_g,{className:"custom-popup",children:t.jsxs("div",{className:"w-64",children:[O.primary_hero_image_url&&t.jsx("img",{src:O.primary_hero_image_url,alt:O.restaurant_name,className:"w-full h-32 object-cover rounded-t-lg"}),t.jsxs("div",{className:"p-3",children:[t.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:O.restaurant_name}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:Number(O.average_rating).toFixed(1)})]}),t.jsxs("span",{className:"text-sm text-gray-600",children:["(",O.total_review_count,")"]}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("span",{className:"text-sm text-gray-600",children:"$".repeat(O.price_range)})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(it,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:O.cuisine_types.join(", ")})]}),me&&t.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[me," away"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(oe,{to:`/restaurant/${O.restaurant_id}`,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-700 transition-colors text-center",children:"View Details"}),t.jsx("button",{onClick:()=>F(O.restaurant_id),className:`p-2 rounded-lg transition-colors ${H?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":H?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-5 h-5 ${H?"fill-current":""}`})})]})]})]})})},O.restaurant_id)})})]})}),!i.permission_granted&&t.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-[1000] bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-lg",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Enable location"})," for personalized map view and distance information"]})}),j&&t.jsx("div",{className:"fixed inset-0 z-[2000] bg-black bg-opacity-50 flex items-end md:items-center md:justify-end",children:t.jsxs("div",{className:"bg-white w-full md:w-96 h-[80vh] md:h-full md:max-h-screen flex flex-col rounded-t-2xl md:rounded-none shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Filters"}),t.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close filters",children:t.jsx(Le,{className:"w-5 h-5 text-gray-600"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Cuisine Type"}),t.jsx("div",{className:"space-y-2",children:["Italian","Mexican","Chinese","Japanese","Thai","Indian","American","Korean"].map(O=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w.cuisine_types.includes(O),onChange:H=>{b(ee=>({...ee,cuisine_types:H.target.checked?[...ee.cuisine_types,O]:ee.cuisine_types.filter(me=>me!==O)}))},className:"w-4 h-4 text-orange-600 rounded border-gray-300 focus:ring-orange-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:O})]},O))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Price Range"}),t.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(O=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w.price_min===null&&w.price_max===null||O>=(w.price_min||1)&&O<=(w.price_max||4),onChange:H=>{H.target.checked&&b(ee=>({...ee,price_min:Math.min(ee.price_min||O,O),price_max:Math.max(ee.price_max||O,O)}))},className:"w-4 h-4 text-orange-600 rounded border-gray-300 focus:ring-orange-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"$".repeat(O)})]},O))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Minimum Rating"}),t.jsxs("div",{className:"space-y-2",children:[[4.5,4,3.5,3].map(O=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"rating",checked:w.rating_min===O,onChange:()=>b(H=>({...H,rating_min:O})),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500"}),t.jsxs("span",{className:"text-sm text-gray-700",children:[O,"+ stars"]})]},O)),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"rating",checked:w.rating_min===null,onChange:()=>b(O=>({...O,rating_min:null})),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-orange-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Any"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Dietary Preferences"}),t.jsx("div",{className:"space-y-2",children:["Vegetarian","Vegan","Gluten-Free","Dairy-Free"].map(O=>t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w.dietary_preferences.includes(O),onChange:H=>{b(ee=>({...ee,dietary_preferences:H.target.checked?[...ee.dietary_preferences,O]:ee.dietary_preferences.filter(me=>me!==O)}))},className:"w-4 h-4 text-orange-600 rounded border-gray-300 focus:ring-orange-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:O})]},O))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Open Now"}),t.jsx("input",{type:"checkbox",checked:w.open_now,onChange:O=>b(H=>({...H,open_now:O.target.checked})),className:"w-10 h-6 bg-gray-200 rounded-full relative appearance-none cursor-pointer checked:bg-orange-600 transition-colors"})]}),t.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Has Discount"}),t.jsx("input",{type:"checkbox",checked:w.has_discount,onChange:O=>b(H=>({...H,has_discount:O.target.checked})),className:"w-10 h-6 bg-gray-200 rounded-full relative appearance-none cursor-pointer checked:bg-orange-600 transition-colors"})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 space-y-3",children:[t.jsx("button",{onClick:P,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Clear All"}),t.jsx("button",{onClick:I,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Apply Filters"})]})]})})]})})},am=(e,s,r,i)=>{const a=(r-e)*Math.PI/180,c=(i-s)*Math.PI/180,u=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 3959*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},p3=()=>{var Q;const e=ut(),s=ar(),[r,i]=gs(),o=ce(re=>re.authentication_state.authentication_status.is_authenticated),a=ce(re=>re.authentication_state.auth_token),c=ce(re=>re.user_location),u=ce(re=>re.favorites_list.restaurant_ids),h=ce(re=>re.sync_favorites),[f,x]=C.useState({cuisine_types:((Q=r.get("cuisine_types"))==null?void 0:Q.split(",").filter(Boolean))||[],price_min:r.get("price_min")?Number(r.get("price_min")):null,price_max:r.get("price_max")?Number(r.get("price_max")):null,open_now:r.get("open_now")==="true"}),[p,g]=C.useState(r.get("sort_by")||"recently_added"),[_,j]=C.useState(""),[N,w]=C.useState(!1),[b,v]=C.useState([]),[k,E]=C.useState(!1),[M,A]=C.useState(null),[W,G]=C.useState(null),[T,Z]=C.useState(!1);C.useEffect(()=>{o||e("/login",{state:{from:"/favorites"}})},[o,e]);const{data:I,isLoading:P,error:J}=Fe({queryKey:["favorites",f,p,a],queryFn:async()=>{const re=new URLSearchParams;return f.cuisine_types.length>0&&re.append("cuisine_types",f.cuisine_types.join(",")),f.price_min!==null&&re.append("price_min",String(f.price_min)),f.price_max!==null&&re.append("price_max",String(f.price_max)),f.open_now&&re.append("open_now","true"),p&&re.append("sort_by",p),(await de.get(`https://123local-eats-app.launchpulse.ai/api/favorites?${re}`,{headers:{Authorization:`Bearer ${a}`}})).data},enabled:!!a&&o,staleTime:6e4,retry:1}),F=Ue({mutationFn:async re=>{await de.delete(`https://123local-eats-app.launchpulse.ai/api/favorites/${re}`,{headers:{Authorization:`Bearer ${a}`}})},onSuccess:(re,X)=>{s.invalidateQueries({queryKey:["favorites"]});const $=u.filter(V=>V!==X);h($)}}),ue=Ue({mutationFn:async re=>{await de.delete("https://123local-eats-app.launchpulse.ai/api/favorites",{headers:{Authorization:`Bearer ${a}`},data:{restaurant_ids:re}})},onSuccess:(re,X)=>{s.invalidateQueries({queryKey:["favorites"]});const $=u.filter(V=>!X.includes(V));h($),w(!1),v([]),U(`${X.length} restaurant${X.length>1?"s":""} removed from favorites`)}}),ne=Ue({mutationFn:async re=>{await de.post("https://123local-eats-app.launchpulse.ai/api/favorites",{restaurant_id:re},{headers:{Authorization:`Bearer ${a}`}})},onSuccess:(re,X)=>{s.invalidateQueries({queryKey:["favorites"]});const $=[...u,X];h($)}}),xe=C.useMemo(()=>{if(!(I!=null&&I.favorites))return[];let re=[...I.favorites];if(_.trim()){const X=_.toLowerCase();re=re.filter($=>$.restaurant.restaurant_name.toLowerCase().includes(X)||$.restaurant.cuisine_types.some(V=>V.toLowerCase().includes(X)))}return p==="recently_added"?re.sort((X,$)=>new Date($.favorite.created_at).getTime()-new Date(X.favorite.created_at).getTime()):p==="alphabetical"?re.sort((X,$)=>X.restaurant.restaurant_name.localeCompare($.restaurant.restaurant_name)):p==="rating"?re.sort((X,$)=>$.restaurant.average_rating-X.restaurant.average_rating):p==="distance"&&c.latitude&&c.longitude&&re.sort((X,$)=>{const V=am(c.latitude,c.longitude,X.restaurant.latitude,X.restaurant.longitude),je=am(c.latitude,c.longitude,$.restaurant.latitude,$.restaurant.longitude);return V-je}),re},[I,_,p,c]),U=(re,X)=>{G({message:re,action:X}),setTimeout(()=>G(null),5e3)},O=(re,X)=>{const $=window.setTimeout(()=>{F.mutate(re),A(null)},5e3);A({favorite_id:X,restaurant_id:re,timeout_id:$}),U("Removed from Favorites",()=>H())},H=()=>{M&&(window.clearTimeout(M.timeout_id),ne.mutate(M.restaurant_id),A(null),G(null))},ee=()=>{b.length!==0&&Z(!0)},me=()=>{ue.mutate(b),Z(!1)},fe=re=>{v(X=>X.includes(re)?X.filter($=>$!==re):[...X,re])},ve=re=>{g(re);const X=new URLSearchParams(r);X.set("sort_by",re),i(X)},ie=re=>{x(re),E(!1);const X=new URLSearchParams;re.cuisine_types.length>0&&X.set("cuisine_types",re.cuisine_types.join(",")),re.price_min!==null&&X.set("price_min",String(re.price_min)),re.price_max!==null&&X.set("price_max",String(re.price_max)),re.open_now&&X.set("open_now","true"),p&&X.set("sort_by",p),i(X)},le=()=>{x({cuisine_types:[],price_min:null,price_max:null,open_now:!1}),j(""),i({})},D=C.useMemo(()=>{let re=0;return f.cuisine_types.length>0&&re++,(f.price_min!==null||f.price_max!==null)&&re++,f.open_now&&re++,re},[f]);return o?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favorites"}),t.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["You have ",xe.length," favorite",xe.length!==1?"s":""]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by:"}),t.jsxs("select",{id:"sort",value:p,onChange:re=>ve(re.target.value),className:"pl-3 pr-10 py-2 border border-gray-300 bg-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm",children:[t.jsx("option",{value:"recently_added",children:"Recently Added"}),t.jsx("option",{value:"alphabetical",children:"Alphabetical (A-Z)"}),c.latitude&&c.longitude&&t.jsx("option",{value:"distance",children:"Distance (Nearest First)"}),t.jsx("option",{value:"rating",children:"Rating (Highest First)"}),t.jsx("option",{value:"price_low",children:"Price (Low to High)"}),t.jsx("option",{value:"price_high",children:"Price (High to Low)"})]})]})]}),t.jsx("div",{className:"mt-4 relative",children:t.jsxs("div",{className:"relative",children:[t.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search your favorites...",value:_,onChange:re=>j(re.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),_&&t.jsx("button",{onClick:()=>j(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(Le,{className:"h-5 w-5"})})]})}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[t.jsxs("button",{onClick:()=>E(!k),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors",children:[t.jsx(pf,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"Filters"}),D>0&&t.jsx("span",{className:"ml-1 px-2 py-0.5 bg-orange-600 text-white text-xs font-semibold rounded-full",children:D})]}),xe.length>0&&t.jsx("button",{onClick:()=>{w(!N),v([])},className:`px-4 py-2 border rounded-lg font-medium transition-colors ${N?"bg-orange-600 text-white border-orange-600 hover:bg-orange-700":"border-gray-300 bg-white hover:bg-gray-50"}`,children:N?"Cancel Selection":"Select"}),N&&b.length>0&&t.jsxs("button",{onClick:ee,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:["Remove Selected (",b.length,")"]}),(D>0||_)&&t.jsx("button",{onClick:le,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 underline",children:"Clear all filters"})]})]})}),k&&t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsx(g3,{activeFilters:f,onApply:ie,onClose:()=>E(!1)})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[P&&t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((re,X)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200"}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},X))}),J&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(kt,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Favorites"}),t.jsx("p",{className:"text-gray-600 mb-4",children:J instanceof Error?J.message:"Failed to load favorites"}),t.jsx("button",{onClick:()=>s.invalidateQueries({queryKey:["favorites"]}),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Try Again"})]}),!P&&!J&&xe.length===0&&!_&&D===0&&t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center relative overflow-hidden max-w-2xl mx-auto",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-red-100 to-pink-100 rounded-full blur-3xl opacity-50"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-br from-orange-100 to-red-100 rounded-full blur-3xl opacity-50"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"relative inline-block mb-6",children:[t.jsx("div",{className:"absolute inset-0 bg-red-200 rounded-full blur-2xl opacity-40 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-red-100 to-pink-100 rounded-full p-8 mb-2",children:t.jsx(Et,{className:"w-20 h-20 text-red-500 mx-auto",strokeWidth:1.5})}),t.jsx("div",{className:"absolute -top-2 -right-2 text-3xl animate-bounce",children:""}),t.jsx("div",{className:"absolute -bottom-2 -left-2 text-2xl animate-bounce animation-delay-2000",children:""})]}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"You haven't saved any favorites yet"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto leading-relaxed",children:"Start building your collection of favorite local restaurants. When you find something you love, tap the heart to save it here!"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-8",children:[t.jsxs(oe,{to:"/",className:"inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[t.jsx("span",{children:"Explore Restaurants"}),t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),t.jsx(oe,{to:"/local-picks",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-orange-200 bg-white text-orange-600 rounded-xl font-semibold hover:bg-orange-50 transition-all duration-200",children:"Explore Local Picks"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 pt-6 border-t border-gray-100",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-xs text-gray-600",children:"Quick Access"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-xs text-gray-600",children:"Track Favorites"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-xs text-gray-600",children:"Easy Ordering"})]})]})]})]}),!P&&!J&&xe.length===0&&(_||D>0)&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx(ms,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No favorites match your search/filters"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filters"}),t.jsx("button",{onClick:le,className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Clear Search & Filters"})]}),!P&&!J&&xe.length>0&&t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:xe.map(re=>{const X=(M==null?void 0:M.restaurant_id)===re.restaurant.restaurant_id,$=b.includes(re.restaurant.restaurant_id);return t.jsx(x3,{favorite:re,userLocation:c,batchSelectMode:N,isSelected:$,isPendingRemoval:X,onToggleSelect:fe,onRemove:O},re.favorite.favorite_id)})})]}),W&&t.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:t.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-lg shadow-xl flex items-center gap-4",children:[t.jsx("span",{children:W.message}),W.action&&t.jsx("button",{onClick:W.action,className:"px-3 py-1 bg-orange-600 hover:bg-orange-700 rounded font-medium transition-colors",children:"Undo"}),t.jsx("button",{onClick:()=>G(null),className:"text-gray-400 hover:text-white",children:t.jsx(Le,{className:"h-4 w-4"})})]})}),T&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Remove ",b.length," restaurant",b.length>1?"s":""," from favorites?"]}),t.jsx("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>Z(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:me,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Remove"})]})]})})]})}):null},x3=({favorite:e,userLocation:s,batchSelectMode:r,isSelected:i,isPendingRemoval:o,onToggleSelect:a,onRemove:c})=>{const{restaurant:u}=e,h=C.useMemo(()=>s.latitude&&s.longitude?am(s.latitude,s.longitude,u.latitude,u.longitude):null,[s,u]),f=x=>{r&&(x.preventDefault(),a(u.restaurant_id))};return t.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 ${o?"opacity-50":"hover:shadow-xl hover:scale-105"} ${r?"cursor-pointer":""}`,onClick:f,children:[r&&t.jsx("div",{className:"absolute top-3 left-3 z-10",children:t.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${i?"bg-orange-600 border-orange-600":"bg-white border-gray-300"}`,children:i&&t.jsx(Dt,{className:"h-4 w-4 text-white"})})}),t.jsx(oe,{to:`/restaurant/${u.restaurant_id}`,className:"block",children:t.jsxs("div",{className:"relative h-48 bg-gray-200",children:[u.primary_hero_image_url?t.jsx("img",{src:u.primary_hero_image_url,alt:u.restaurant_name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"}),!r&&t.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),c(u.restaurant_id,e.favorite.favorite_id)},className:"absolute top-3 right-3 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform",children:t.jsx(Et,{className:"h-5 w-5 fill-red-500 text-red-500"})})]})}),t.jsxs(oe,{to:`/restaurant/${u.restaurant_id}`,className:"block p-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1 line-clamp-1",children:u.restaurant_name}),t.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:u.cuisine_types.slice(0,2).map((x,p)=>t.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-medium rounded-full",children:x},p))}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(nt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Number(u.average_rating).toFixed(1)})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.total_review_count,")"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Jv,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"$".repeat(u.price_range)})]}),h!==null&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(it,{className:"h-4 w-4"}),t.jsxs("span",{children:[h.toFixed(1)," mi"]})]})]}),t.jsx("div",{className:"mt-2",children:t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u.is_currently_open?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.is_currently_open?"Open Now":"Closed"})})]}),!r&&u.is_currently_open&&t.jsx("div",{className:"px-4 pb-4",children:t.jsx(oe,{to:`/restaurant/${u.restaurant_id}`,className:"block w-full px-4 py-2 bg-orange-600 text-white text-center rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Order Now"})})]})},g3=({activeFilters:e,onApply:s,onClose:r})=>{const[i,o]=C.useState(e),a=["Italian","Mexican","Chinese","Japanese","Thai","Indian","American","Mediterranean","Korean","Vietnamese","Middle Eastern","French"],c=u=>{o(h=>({...h,cuisine_types:h.cuisine_types.includes(u)?h.cuisine_types.filter(f=>f!==u):[...h.cuisine_types,u]}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Cuisine Type"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(u=>t.jsx("button",{onClick:()=>c(u),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${i.cuisine_types.includes(u)?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:u},u))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Price Range"}),t.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(u=>t.jsx("button",{onClick:()=>{i.price_min===u&&i.price_max===u?o(h=>({...h,price_min:null,price_max:null})):o(h=>({...h,price_min:u,price_max:u}))},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i.price_min===u&&i.price_max===u?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"$".repeat(u)},u))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Open Now"}),t.jsx("button",{onClick:()=>o(u=>({...u,open_now:!u.open_now})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.open_now?"bg-orange-600":"bg-gray-200"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i.open_now?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>s(i),className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Apply Filters"})]})]})},y3=async e=>(await de.get("https://123local-eats-app.launchpulse.ai/api/cart",{headers:{Authorization:`Bearer ${e}`}})).data,v3=async(e,s,r)=>(await de.patch(`https://123local-eats-app.launchpulse.ai/api/cart/items/${e}`,{quantity:s},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,_3=async(e,s)=>(await de.delete(`https://123local-eats-app.launchpulse.ai/api/cart/items/${e}`,{headers:{Authorization:`Bearer ${s}`}})).data,b3=async(e,s)=>(await de.post("https://123local-eats-app.launchpulse.ai/api/cart/discount",{coupon_code:e},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,w3=async e=>(await de.delete("https://123local-eats-app.launchpulse.ai/api/cart/discount",{headers:{Authorization:`Bearer ${e}`}})).data,j3=async e=>{await de.delete("https://123local-eats-app.launchpulse.ai/api/cart",{headers:{Authorization:`Bearer ${e}`}})},wg=({toast:e,onClose:s})=>{C.useEffect(()=>{if(!e.action){const o=setTimeout(s,5e3);return()=>clearTimeout(o)}},[e.action,s]);const r=e.type==="success"?"bg-green-50 border-green-200":e.type==="error"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200",i=e.type==="success"?"text-green-800":e.type==="error"?"text-red-800":"text-blue-800";return t.jsxs("div",{className:`${r} border rounded-lg shadow-lg p-4 flex items-center justify-between gap-4 min-w-[300px] max-w-md animate-in slide-in-from-bottom-5 duration-300`,children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.type==="success"&&t.jsx(ot,{className:"size-5 text-green-600 flex-shrink-0"}),e.type==="error"&&t.jsx(kt,{className:"size-5 text-red-600 flex-shrink-0"}),t.jsx("p",{className:`${i} text-sm font-medium`,children:e.message})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.action&&t.jsx("button",{onClick:e.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:e.action.label}),t.jsx("button",{onClick:s,className:`${i} hover:opacity-70 transition-opacity`,"aria-label":"Close notification",children:t.jsx(Le,{className:"size-4"})})]})]})},N3=()=>{const e=ut(),s=ar(),r=ce(F=>F.authentication_state.auth_token),i=ce(F=>F.authentication_state.authentication_status.is_authenticated),[o,a]=C.useState(""),[c,u]=C.useState(""),[h,f]=C.useState([]),x=C.useCallback((F,ue,ne)=>{const xe=Date.now().toString();f(U=>[...U,{id:xe,message:F,type:ue,action:ne}])},[]),p=C.useCallback(F=>{f(ue=>ue.filter(ne=>ne.id!==F))},[]),{data:g,isLoading:_,error:j,refetch:N}=Fe({queryKey:["cart"],queryFn:()=>y3(r),enabled:!!r&&i,staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:F=>({...F,subtotal:Number(F.subtotal||0),delivery_fee:Number(F.delivery_fee||0),tax:Number(F.tax||0),tip:Number(F.tip||0),grand_total:Number(F.grand_total||0),items:F.items.map(ue=>({cart_item_id:ue.cart_item_id,menu_item_id:ue.menu_item_id,item_name:ue.item_name,base_price:Number(ue.base_price||0),selected_size:ue.selected_size,size_price_adjustment:Number(ue.size_price_adjustment||0),selected_addons:ue.selected_addons.map(ne=>({...ne,price:Number(ne.price||0)})),selected_modifications:ue.selected_modifications.map(ne=>({...ne,price:Number(ne.price||0)})),special_instructions:ue.special_instructions,quantity:ue.quantity,item_total_price:Number(ue.item_total_price||0)}))})}),w=Ue({mutationFn:({cartItemId:F,quantity:ue})=>v3(F,ue,r),onMutate:async({cartItemId:F,quantity:ue})=>{await s.cancelQueries({queryKey:["cart"]});const ne=s.getQueryData(["cart"]);return s.setQueryData(["cart"],xe=>xe&&{...xe,items:xe.items.map(U=>U.cart_item_id===F?{...U,quantity:ue,item_total_price:(U.base_price+U.size_price_adjustment+U.selected_addons.reduce((O,H)=>O+H.price,0))*ue}:U)}),{previousCart:ne}},onError:(F,ue,ne)=>{ne!=null&&ne.previousCart&&s.setQueryData(["cart"],ne.previousCart),x("Failed to update quantity","error")},onSuccess:F=>{s.setQueryData(["cart"],F)}}),b=Ue({mutationFn:F=>_3(F,r),onSuccess:F=>{s.setQueryData(["cart"],F)},onError:()=>{x("Failed to remove item","error"),N()}}),v=Ue({mutationFn:F=>b3(F,r),onSuccess:F=>{s.setQueryData(["cart"],F),a(""),x("Discount code applied!","success")},onError:F=>{var ne,xe;const ue=((xe=(ne=F.response)==null?void 0:ne.data)==null?void 0:xe.message)||"Invalid or expired coupon code";x(ue,"error")}}),k=Ue({mutationFn:()=>w3(r),onSuccess:F=>{s.setQueryData(["cart"],F),x("Discount code removed","info")},onError:()=>{x("Failed to remove discount","error")}}),E=Ue({mutationFn:()=>j3(r),onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]}),x("Cart cleared successfully","success")},onError:()=>{x("Failed to clear cart","error"),N()}}),M=(F,ue,ne)=>{const xe=ue+ne;if(xe<=0){const U=g==null?void 0:g.items.find(O=>O.cart_item_id===F);U&&window.confirm(`Remove ${U.item_name} from your cart?`)&&b.mutate(F)}else w.mutate({cartItemId:F,quantity:xe})},A=F=>{window.confirm("Remove this item from your cart?")&&b.mutate(F.cart_item_id)},W=()=>{if(!o.trim()){x("Please enter a coupon code","error");return}v.mutate(o.trim())},G=()=>{k.mutate()},T=()=>{window.confirm("Are you sure you want to clear your entire cart?")&&E.mutate()},Z=()=>{if(!g||g.items.length===0){x("Your cart is empty","error");return}const F=15;if(g.subtotal<F){x(`Add $${(F-g.subtotal).toFixed(2)} more to meet minimum order`,"error");return}e("/checkout")};if(C.useEffect(()=>{i||e("/login",{state:{from:"/cart"}})},[i,e]),_)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:[1,2,3].map(F=>t.jsx("div",{className:"bg-white rounded-xl p-6 h-32"},F))}),t.jsx("div",{className:"lg:col-span-1",children:t.jsx("div",{className:"bg-white rounded-xl p-6 h-96"})})]})]})})})});if(j)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[t.jsx(kt,{className:"size-12 text-red-600 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Failed to load cart"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your shopping cart. Please try again."}),t.jsx("button",{onClick:()=>N(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Retry"})]})})})});if(!g||g.items.length===0)return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50 py-16 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-orange-100 to-red-100 rounded-full blur-3xl opacity-50"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-br from-amber-100 to-orange-100 rounded-full blur-3xl opacity-50"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"relative inline-block mb-6",children:[t.jsx("div",{className:"absolute inset-0 bg-orange-200 rounded-full blur-2xl opacity-40 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-orange-100 to-red-100 rounded-full p-8 mb-2",children:t.jsx(Bi,{className:"w-24 h-24 text-orange-500 mx-auto",strokeWidth:1.5})}),t.jsx("div",{className:"absolute -top-2 -right-2 text-4xl animate-bounce",children:""}),t.jsx("div",{className:"absolute -bottom-2 -left-2 text-3xl animate-bounce animation-delay-2000",children:""})]}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),t.jsx("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:"Looks like you haven't added any delicious items yet. Start exploring local restaurants!"}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[t.jsxs(oe,{to:"/",className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[t.jsx(Kh,{className:"w-5 h-5"}),"Browse Restaurants"]}),t.jsxs(oe,{to:"/search",className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-orange-600 border-2 border-orange-200 rounded-xl font-semibold hover:bg-orange-50 transition-all duration-200",children:[t.jsx(ms,{className:"w-5 h-5"}),"Search Menu"]})]}),t.jsxs("div",{className:"mt-10 pt-8 border-t border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4 font-medium",children:"Popular right now"}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[t.jsx(oe,{to:"/search?query=pizza",className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-100 transition-colors",children:" Pizza"}),t.jsx(oe,{to:"/search?query=burgers",className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-100 transition-colors",children:" Burgers"}),t.jsx(oe,{to:"/search?query=sushi",className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-100 transition-colors",children:" Sushi"}),t.jsx(oe,{to:"/search?query=tacos",className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-full text-sm font-medium hover:bg-orange-100 transition-colors",children:" Tacos"})]})]})]})]})})}),t.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:h.map(F=>t.jsx(wg,{toast:F,onClose:()=>p(F.id)},F.id))})]});const I=15,P=g.subtotal>=I,J=I-g.subtotal;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[t.jsx(oe,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),t.jsx("span",{children:"/"}),g.restaurant_name&&t.jsxs(t.Fragment,{children:[t.jsx(oe,{to:`/restaurant/${g.restaurant_id}`,className:"hover:text-blue-600 transition-colors",children:g.restaurant_name}),t.jsx("span",{children:"/"})]}),t.jsx("span",{className:"text-gray-900 font-medium",children:"Cart"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Shopping Cart"}),g.restaurant_name&&t.jsxs("p",{className:"text-lg text-gray-600",children:["Ordering from ",t.jsx("span",{className:"font-semibold text-gray-900",children:g.restaurant_name})]})]}),g.restaurant_id&&t.jsxs(oe,{to:`/restaurant/${g.restaurant_id}`,className:"hidden md:flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[t.jsx(Kh,{className:"size-5"}),"Continue Shopping"]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx("div",{className:"space-y-4",children:g.items.map(F=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:F.item_name}),(F.selected_size||F.selected_addons.length>0||F.selected_modifications.length>0)&&t.jsxs("div",{className:"text-sm text-gray-600 mb-2 space-y-1",children:[F.selected_size&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Size:"})," ",F.selected_size]}),F.selected_addons.length>0&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Add-ons:"})," ",F.selected_addons.map(ue=>ue.name).join(", ")]}),F.selected_modifications.length>0&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Modifications:"})," ",F.selected_modifications.map(ue=>ue.name).join(", ")]})]}),F.special_instructions&&t.jsxs("p",{className:"text-sm text-gray-500 italic mb-3",children:['"',F.special_instructions,'"']}),t.jsxs("div",{className:"flex items-center gap-4 md:hidden mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>M(F.cart_item_id,F.quantity,-1),disabled:F.quantity<=1,className:"w-10 h-10 rounded-lg border-2 border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all","aria-label":"Decrease quantity",children:t.jsx(Xh,{className:"size-4 text-gray-700"})}),t.jsx("span",{className:"text-lg font-semibold text-gray-900 w-8 text-center",children:F.quantity}),t.jsx("button",{onClick:()=>M(F.cart_item_id,F.quantity,1),className:"w-10 h-10 rounded-lg border-2 border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-all","aria-label":"Increase quantity",children:t.jsx(Fo,{className:"size-4 text-gray-700"})})]}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",F.item_total_price.toFixed(2)]})]})]}),t.jsxs("div",{className:"hidden md:flex flex-col items-end gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>M(F.cart_item_id,F.quantity,-1),disabled:F.quantity<=1,className:"w-10 h-10 rounded-lg border-2 border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all","aria-label":"Decrease quantity",children:t.jsx(Xh,{className:"size-4 text-gray-700"})}),t.jsx("span",{className:"text-lg font-semibold text-gray-900 w-8 text-center",children:F.quantity}),t.jsx("button",{onClick:()=>M(F.cart_item_id,F.quantity,1),className:"w-10 h-10 rounded-lg border-2 border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-all","aria-label":"Increase quantity",children:t.jsx(Fo,{className:"size-4 text-gray-700"})})]}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",F.item_total_price.toFixed(2)]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>x("Edit functionality coming soon","info"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-all","aria-label":"Edit item",children:t.jsx(tn,{className:"size-5 text-gray-600"})}),t.jsx("button",{onClick:()=>A(F),className:"p-2 rounded-lg border border-red-300 hover:bg-red-50 transition-all","aria-label":"Remove item",children:t.jsx(mn,{className:"size-5 text-red-600"})})]})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4 md:hidden",children:[t.jsxs("button",{onClick:()=>x("Edit functionality coming soon","info"),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[t.jsx(tn,{className:"size-4 text-gray-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Edit"})]}),t.jsxs("button",{onClick:()=>A(F),className:"flex-1 px-4 py-2 rounded-lg border border-red-300 hover:bg-red-50 transition-all flex items-center justify-center gap-2",children:[t.jsx(mn,{className:"size-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Remove"})]})]})]},F.cart_item_id))}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(On,{className:"size-5 text-blue-600"}),"Apply Discount Code"]}),g.applied_discount?t.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ot,{className:"size-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-green-900",children:g.applied_discount.code}),t.jsxs("p",{className:"text-sm text-green-700",children:["$",g.applied_discount.discount_amount.toFixed(2)," discount applied"]})]})]}),t.jsx("button",{onClick:G,disabled:k.isPending,className:"p-2 hover:bg-green-100 rounded-lg transition-all","aria-label":"Remove discount",children:t.jsx(Le,{className:"size-5 text-green-700"})})]}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:o,onChange:F=>a(F.target.value.toUpperCase()),onKeyDown:F=>F.key==="Enter"&&W(),placeholder:"Enter coupon code",className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),t.jsx("button",{onClick:W,disabled:v.isPending||!o.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:v.isPending?t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Apply"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Special Instructions (Optional)"}),t.jsx("textarea",{value:c,onChange:F=>u(F.target.value),placeholder:"Any special requests for the restaurant?",maxLength:200,rows:3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none"}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2 text-right",children:[c.length,"/200"]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:t.jsx("button",{onClick:T,disabled:E.isPending,className:"w-full px-6 py-3 bg-red-50 text-red-600 border-2 border-red-200 rounded-lg font-semibold hover:bg-red-100 hover:border-red-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:E.isPending?t.jsx("div",{className:"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(mn,{className:"size-5"}),"Clear Cart"]})})})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:sticky lg:top-4 space-y-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3 border-b border-gray-200 pb-4",children:[t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{className:"font-semibold",children:["$",g.subtotal.toFixed(2)]})]}),g.applied_discount&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{className:"font-semibold",children:["-$",g.applied_discount.discount_amount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Delivery Fee"}),t.jsxs("span",{className:"font-semibold",children:["$",g.delivery_fee.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Tax"}),t.jsxs("span",{className:"font-semibold",children:["$",g.tax.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-2xl font-bold text-gray-900",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["$",g.grand_total.toFixed(2)]})]}),!P&&t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:["Minimum order: $",I.toFixed(2)]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:t.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.subtotal/I*100}%`}})}),t.jsxs("p",{className:"text-sm text-orange-700",children:["Add $",J.toFixed(2)," more to checkout"]})]}),t.jsx("button",{onClick:Z,disabled:!P,className:"w-full px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold text-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:"Proceed to Checkout"}),g.restaurant_id&&t.jsx(oe,{to:`/restaurant/${g.restaurant_id}`,className:"block md:hidden text-center text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Continue Shopping"})]})})]})]})}),t.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:h.map(F=>t.jsx(wg,{toast:F,onClose:()=>p(F.id)},F.id))})]})},k3=()=>{const e=ut(),[s,r]=gs(),i=ce(K=>K.authentication_state.current_user),o=ce(K=>K.authentication_state.auth_token),a=ce(K=>K.cart_state),c=ce(K=>K.update_tip),u=ce(K=>K.set_order_type),h=ce(K=>K.set_delivery_address),f=ce(K=>K.recalculate_totals),x=ce(K=>K.clear_cart),[p,g]=C.useState(1),[_,j]=C.useState(null),[N,w]=C.useState(null),[b,v]=C.useState(null),[k,E]=C.useState(!1),[M,A]=C.useState(null),[W,G]=C.useState(!1),[T,Z]=C.useState(15),[I,P]=C.useState(""),[J,F]=C.useState(""),[ue,ne]=C.useState(!1),[xe,U]=C.useState({}),[O,H]=C.useState(null),[ee,me]=C.useState({street_address:"",apartment_suite:"",city:"",state:"",zip_code:"",address_label:"",is_default:!1}),[fe,ve]=C.useState({card_number:"",cardholder_name:"",expiration_month:"",expiration_year:"",cvv:"",billing_zip_code:"",payment_label:"",is_default:!1});C.useEffect(()=>{const K=s.get("step");if(K){const Ne=parseInt(K,10);Ne>=1&&Ne<=4&&g(Ne)}},[s]);const{data:ie,isLoading:le}=Fe({queryKey:["saved-addresses"],queryFn:async()=>(await de.get("https://123local-eats-app.launchpulse.ai/api/addresses",{headers:{Authorization:`Bearer ${o}`}})).data.addresses,enabled:!!o&&p===2&&_==="delivery",staleTime:6e4}),{data:D,isLoading:Q}=Fe({queryKey:["saved-payment-methods"],queryFn:async()=>(await de.get("https://123local-eats-app.launchpulse.ai/api/payment-methods",{headers:{Authorization:`Bearer ${o}`}})).data.payment_methods,enabled:!!o&&p===3,staleTime:6e4}),re=Ue({mutationFn:async K=>(await de.post("https://123local-eats-app.launchpulse.ai/api/addresses",K,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).data,onSuccess:K=>{w(K.address_id),v({street_address:K.street_address,apartment_suite:K.apartment_suite,city:K.city,state:K.state,zip_code:K.zip_code}),h({street_address:K.street_address,apartment_suite:K.apartment_suite,city:K.city,state:K.state,zip_code:K.zip_code}),E(!1),me({street_address:"",apartment_suite:"",city:"",state:"",zip_code:"",address_label:"",is_default:!1})}}),X=Ue({mutationFn:async K=>(await de.post("https://123local-eats-app.launchpulse.ai/api/payment-methods",K,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).data,onSuccess:K=>{A(K.payment_method_id),G(!1),ve({card_number:"",cardholder_name:"",expiration_month:"",expiration_year:"",cvv:"",billing_zip_code:"",payment_label:"",is_default:!1})}}),$=Ue({mutationFn:async()=>{var ht;const K={user_id:i==null?void 0:i.user_id,restaurant_id:a.restaurant_id,order_type:_,delivery_street_address:_==="delivery"?b==null?void 0:b.street_address:null,delivery_apartment_suite:_==="delivery"?b==null?void 0:b.apartment_suite:null,delivery_city:_==="delivery"?b==null?void 0:b.city:null,delivery_state:_==="delivery"?b==null?void 0:b.state:null,delivery_zip_code:_==="delivery"?b==null?void 0:b.zip_code:null,special_instructions:J||null,discount_id:((ht=a.applied_discount)==null?void 0:ht.discount_id)||null,payment_method_id:M,tip:a.tip};return(await de.post("https://123local-eats-app.launchpulse.ai/api/orders",K,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).data},onSuccess:K=>{K.order&&K.order.order_id&&(x(),e(`/order-confirmation/${K.order.order_id}`))},onError:K=>{var ht,st;const Ne=((st=(ht=K.response)==null?void 0:ht.data)==null?void 0:st.message)||"Order placement failed. Please try again.";H(Ne)}}),V=K=>{const Ne={};if(K===1&&!_)return Ne.step_1="Please select delivery or pickup",U(Ne),!1;if(K===2&&_==="delivery"){if(!b||!b.street_address||!b.city||!b.state||!b.zip_code)return Ne.step_2="Please select or add a delivery address",U(Ne),!1;if(!/^\d{5}(-\d{4})?$/.test(b.zip_code))return Ne.step_2="Invalid zip code format",U(Ne),!1}return K===3&&!M?(Ne.step_3="Please select or add a payment method",U(Ne),!1):K===4&&!ue?(Ne.step_4="You must accept the terms of service",U(Ne),!1):(U({}),!0)},je=()=>{if(V(p)){if(p===1&&_&&u(_),p===3&&_==="pickup")g(4),r({step:"4"});else if(p<4){const K=p+1;g(K),r({step:K.toString()})}}},Qe=()=>{if(U({}),p===4&&_==="pickup")g(3),r({step:"3"});else if(p>1){const K=p-1;g(K),r({step:K.toString()})}},$e=K=>{g(K),r({step:K.toString()}),U({})},Se=K=>{Z(K),P("");const Ne=a.subtotal*K/100;c(Number(Ne.toFixed(2))),f()},vs=K=>{P(K),Z(0);const Ne=parseFloat(K)||0;c(Number(Ne.toFixed(2))),f()},Ht=K=>{const Ne=ie==null?void 0:ie.find(ht=>ht.address_id===K);if(Ne){w(K);const ht={street_address:Ne.street_address,apartment_suite:Ne.apartment_suite,city:Ne.city,state:Ne.state,zip_code:Ne.zip_code};v(ht),h(ht)}},Tt=()=>{!ee.street_address||!ee.city||!ee.state||!ee.zip_code||re.mutate(ee)},B=K=>{const Ne=K.replace(/\s/g,"");return Ne.startsWith("4")?"Visa":Ne.startsWith("5")?"Mastercard":Ne.startsWith("3")?"Amex":Ne.startsWith("6")?"Discover":"Visa"},ge=()=>{if(!fe.card_number||!fe.cardholder_name||!fe.expiration_month||!fe.expiration_year||!fe.cvv||!fe.billing_zip_code)return;const K=B(fe.card_number),Ne=fe.card_number.replace(/\s/g,"").slice(-4),ht=fe.payment_label||`${K} ending in ${Ne}`;X.mutate({payment_label:ht,card_type:K,last_four_digits:Ne,expiration_month:fe.expiration_month,expiration_year:fe.expiration_year,billing_zip_code:fe.billing_zip_code,is_default:fe.is_default})},Te=()=>{V(4)&&(H(null),$.mutate())},bt=()=>{const K=[{number:1,label:"Order Type"},{number:2,label:_==="delivery"?"Address":"Pickup"},{number:3,label:"Payment"},..._==="delivery"?[{number:3.5,label:"Tip"}]:[],{number:4,label:"Review"}];return t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:K.map((Ne,ht)=>{const st=typeof Ne.number=="number"&&Ne.number<4?Ne.number:Ne.number===3.5?3:4,bn=p===st||p===3&&Ne.number===3.5&&_==="delivery",Ct=p>st||p===4&&Ne.number===3.5;return t.jsxs(Qn.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${Ct?"bg-green-600 text-white":bn?"bg-orange-600 text-white ring-4 ring-orange-100":"bg-gray-200 text-gray-600"}`,children:Ct?t.jsx(Dt,{className:"w-5 h-5"}):st}),t.jsx("span",{className:`mt-2 text-xs font-medium hidden sm:block ${bn?"text-orange-600":"text-gray-600"}`,children:Ne.label})]}),ht<K.length-1&&t.jsx("div",{className:`flex-1 h-0.5 mx-2 ${Ct?"bg-green-600":"bg-gray-200"}`})]},ht)})})})},Ve=(K=!1)=>t.jsxs("div",{className:`bg-white rounded-lg shadow-lg border border-gray-100 ${K?"p-4":"p-6"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Order Summary"}),t.jsxs(oe,{to:"/cart",className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[t.jsx(tn,{className:"w-4 h-4"}),"Edit cart"]})]}),a.restaurant_name&&t.jsxs("div",{className:"mb-4 pb-4 border-b",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:a.restaurant_name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[a.items.length," ",a.items.length===1?"item":"items"]})]}),t.jsxs("div",{className:"space-y-3 mb-4 pb-4 border-b",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal"}),t.jsxs("span",{className:"font-medium text-gray-900",children:["$",a.subtotal.toFixed(2)]})]}),a.applied_discount&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:["Discount (",a.applied_discount.code,")"]}),t.jsxs("span",{className:"font-medium text-green-600",children:["-$",a.applied_discount.discount_amount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),t.jsxs("span",{className:"font-medium text-gray-900",children:["$",a.delivery_fee.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Tax"}),t.jsxs("span",{className:"font-medium text-gray-900",children:["$",a.tax.toFixed(2)]})]}),_==="delivery"&&a.tip>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Tip"}),t.jsxs("span",{className:"font-medium text-gray-900",children:["$",a.tip.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),t.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",a.grand_total.toFixed(2)]})]})]});return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"hidden md:block mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your order in a few simple steps"})]}),bt(),t.jsx("div",{className:"md:hidden mb-6",children:Ve(!0)}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 sm:p-8",children:[O&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(kt,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-red-900",children:"Error placing order"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:O})]})]}),xe[`step_${p}`]&&t.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(kt,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-yellow-800",children:xe[`step_${p}`]})]}),p===1&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Select Order Type"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you'd like to receive your order"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx("button",{onClick:()=>j("delivery"),className:`p-6 rounded-xl border-2 transition-all ${_==="delivery"?"border-orange-600 bg-orange-50 ring-4 ring-orange-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${_==="delivery"?"bg-orange-600":"bg-gray-100"}`,children:t.jsx(it,{className:`w-6 h-6 ${_==="delivery"?"text-white":"text-gray-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-bold text-gray-900",children:"Delivery"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Get it delivered to your door"})]})]})}),t.jsx("button",{onClick:()=>j("pickup"),className:`p-6 rounded-xl border-2 transition-all ${_==="pickup"?"border-orange-600 bg-orange-50 ring-4 ring-orange-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${_==="pickup"?"bg-orange-600":"bg-gray-100"}`,children:t.jsx(Bi,{className:`w-6 h-6 ${_==="pickup"?"text-white":"text-gray-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-bold text-gray-900",children:"Pickup"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Pick it up yourself"})]})]})})]})]}),p===2&&_==="delivery"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delivery Address"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Where should we deliver your order?"}),le?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Loading addresses..."})]}):t.jsxs(t.Fragment,{children:[ie&&ie.length>0&&!k&&t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Select Saved Address"}),ie.map(K=>t.jsx("button",{onClick:()=>Ht(K.address_id),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${N===K.address_id?"border-orange-600 bg-orange-50 ring-4 ring-orange-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:K.address_label}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[K.street_address,K.apartment_suite&&`, ${K.apartment_suite}`]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[K.city,", ",K.state," ",K.zip_code]})]}),N===K.address_id&&t.jsx(Dt,{className:"w-5 h-5 text-orange-600 flex-shrink-0"})]})},K.address_id))]}),!k&&t.jsxs("button",{onClick:()=>E(!0),className:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-orange-600 hover:text-orange-600 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Fo,{className:"w-5 h-5"}),"Add New Address"]}),k&&t.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"New Address"}),t.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Le,{className:"w-5 h-5"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),t.jsx("input",{type:"text",value:ee.street_address,onChange:K=>me({...ee,street_address:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"123 Main St"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apartment/Suite"}),t.jsx("input",{type:"text",value:ee.apartment_suite,onChange:K=>me({...ee,apartment_suite:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Apt 4B"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),t.jsx("input",{type:"text",value:ee.city,onChange:K=>me({...ee,city:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Portland"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),t.jsxs("select",{value:ee.state,onChange:K=>me({...ee,state:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"OR",children:"OR"}),t.jsx("option",{value:"WA",children:"WA"}),t.jsx("option",{value:"CA",children:"CA"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code *"}),t.jsx("input",{type:"text",value:ee.zip_code,onChange:K=>me({...ee,zip_code:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"97201"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Label"}),t.jsx("input",{type:"text",value:ee.address_label,onChange:K=>me({...ee,address_label:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Home, Work, etc."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"save-address",checked:ee.is_default,onChange:K=>me({...ee,is_default:K.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("label",{htmlFor:"save-address",className:"text-sm text-gray-700",children:"Set as default address"})]}),t.jsx("button",{onClick:Tt,disabled:re.isPending,className:"w-full py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:re.isPending?"Saving...":"Save Address"})]})]})]}),p===2&&_==="pickup"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pickup Information"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Pick up your order at the restaurant"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(it,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:a.restaurant_name}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Restaurant address will be displayed here"}),t.jsxs("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium mt-2 flex items-center gap-1",children:[t.jsx(it,{className:"w-4 h-4"}),"Get Directions"]})]})]})}),t.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(ss,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Estimated Pickup Time"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"15-20 minutes"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"ASAP pickup"})]})]})})]}),p===3&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Method"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"How would you like to pay?"}),Q?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Loading payment methods..."})]}):t.jsxs(t.Fragment,{children:[D&&D.length>0&&!W&&t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Select Payment Method"}),D.map(K=>t.jsx("button",{onClick:()=>A(K.payment_method_id),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${M===K.payment_method_id?"border-orange-600 bg-orange-50 ring-4 ring-orange-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cc,{className:"w-6 h-6 text-gray-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:K.payment_label}),t.jsxs("p",{className:"text-sm text-gray-600",children:[K.card_type,"  ",K.last_four_digits]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",K.expiration_month,"/",K.expiration_year]})]})]}),M===K.payment_method_id&&t.jsx(Dt,{className:"w-5 h-5 text-orange-600 flex-shrink-0"})]})},K.payment_method_id))]}),!W&&t.jsxs("button",{onClick:()=>G(!0),className:"w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-orange-600 hover:text-orange-600 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Fo,{className:"w-5 h-5"}),"Add New Payment Method"]}),W&&t.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"New Payment Method"}),t.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Le,{className:"w-5 h-5"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number *"}),t.jsx("input",{type:"text",value:fe.card_number,onChange:K=>ve({...fe,card_number:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"1234 5678 9012 3456",maxLength:19})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name *"}),t.jsx("input",{type:"text",value:fe.cardholder_name,onChange:K=>ve({...fe,cardholder_name:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"John Doe"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exp Month *"}),t.jsx("input",{type:"text",value:fe.expiration_month,onChange:K=>ve({...fe,expiration_month:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"MM",maxLength:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exp Year *"}),t.jsx("input",{type:"text",value:fe.expiration_year,onChange:K=>ve({...fe,expiration_year:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"YYYY",maxLength:4})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV *"}),t.jsx("input",{type:"text",value:fe.cvv,onChange:K=>ve({...fe,cvv:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"123",maxLength:4})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Zip Code *"}),t.jsx("input",{type:"text",value:fe.billing_zip_code,onChange:K=>ve({...fe,billing_zip_code:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"97201"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"save-payment",checked:fe.is_default,onChange:K=>ve({...fe,is_default:K.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsx("label",{htmlFor:"save-payment",className:"text-sm text-gray-700",children:"Set as default payment method"})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(Di,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-blue-800",children:"Your payment information is secure and encrypted"})]}),t.jsx("button",{onClick:ge,disabled:X.isPending,className:"w-full py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:X.isPending?"Saving...":"Save Payment Method"})]}),t.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Di,{className:"w-4 h-4"}),"SSL Encrypted"]}),t.jsx("span",{children:""}),t.jsx("span",{children:"Secure Payment"})]})]})]}),p===3&&_==="delivery"&&M&&t.jsxs("div",{className:"mt-8 pt-8 border-t",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Add a Tip"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Support your delivery driver"}),t.jsx("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[10,15,20,25].map(K=>t.jsxs("button",{onClick:()=>Se(K),className:`py-3 px-4 rounded-lg border-2 font-semibold transition-all ${T===K?"border-orange-600 bg-orange-50 text-orange-600":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:[K,"%"]},K))}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom Tip Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx(Jv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:I,onChange:K=>vs(K.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"0.00"})]})]}),t.jsx("button",{onClick:()=>{Z(0),P(""),c(0),f()},className:"mt-6 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"No Tip"})]}),a.tip>0&&t.jsx("div",{className:"mt-4 bg-orange-50 border border-orange-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Tip amount: ",t.jsxs("span",{className:"font-semibold text-orange-600",children:["$",a.tip.toFixed(2)]})]})})]}),p===4&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Your Order"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Please review your order before placing it"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Order Type"}),t.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:_})]}),t.jsxs("button",{onClick:()=>$e(1),className:"text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center gap-1",children:[t.jsx(tn,{className:"w-4 h-4"}),"Edit"]})]}),_==="delivery"&&b&&t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Address"}),t.jsx("p",{className:"font-semibold text-gray-900",children:b.street_address}),b.apartment_suite&&t.jsx("p",{className:"text-gray-700",children:b.apartment_suite}),t.jsxs("p",{className:"text-gray-700",children:[b.city,", ",b.state," ",b.zip_code]})]}),t.jsxs("button",{onClick:()=>$e(2),className:"text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center gap-1",children:[t.jsx(tn,{className:"w-4 h-4"}),"Edit"]})]}),_==="pickup"&&t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Pickup Location"}),t.jsx("p",{className:"font-semibold text-gray-900",children:a.restaurant_name}),t.jsx("p",{className:"text-gray-700",children:"Estimated time: 15-20 minutes"})]})})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),M&&D&&t.jsx(t.Fragment,{children:(()=>{const K=D.find(Ne=>Ne.payment_method_id===M);return K?t.jsxs("p",{className:"font-semibold text-gray-900",children:[K.card_type,"  ",K.last_four_digits]}):null})()})]}),t.jsxs("button",{onClick:()=>$e(3),className:"text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center gap-1",children:[t.jsx(tn,{className:"w-4 h-4"}),"Edit"]})]})}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),t.jsx("div",{className:"space-y-3",children:a.items.map((K,Ne)=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[K.quantity,"x ",K.item_name]}),K.customizations.size&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Size: ",K.customizations.size]})]}),t.jsxs("p",{className:"font-medium text-gray-900",children:["$",K.item_total.toFixed(2)]})]},Ne))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),t.jsx("textarea",{value:J,onChange:K=>F(K.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",rows:3,placeholder:"Any special requests?",maxLength:500})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",id:"terms",checked:ue,onChange:K=>ne(K.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),t.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["By placing this order, you agree to our"," ",t.jsx(oe,{to:"/terms",target:"_blank",className:"text-orange-600 hover:text-orange-700 underline",children:"Terms of Service"})]})]})}),t.jsx("button",{onClick:Te,disabled:!ue||$.isPending,className:"w-full py-4 bg-orange-600 text-white rounded-lg font-semibold text-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:$.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Placing your order..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Di,{className:"w-5 h-5"}),"Place Order - $",a.grand_total.toFixed(2)]})})]}),t.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t",children:[p>1&&t.jsxs("button",{onClick:Qe,className:"flex items-center gap-2 px-6 py-3 text-gray-700 hover:text-gray-900 transition-colors",children:[t.jsx(Ao,{className:"w-5 h-5"}),"Back"]}),p<4&&t.jsxs("button",{onClick:je,className:`ml-auto flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors ${p===1||p>1&&!_,""}`,children:["Continue",t.jsx(ni,{className:"w-5 h-5"})]})]})]})}),t.jsx("div",{className:"hidden lg:block lg:col-span-1",children:t.jsx("div",{className:"sticky top-8",children:Ve()})})]})]})})})},C3=()=>{const{order_id:e}=oi(),s=ut(),r=ce(M=>M.authentication_state.auth_token),i=ce(M=>M.authentication_state.current_user),[o,a]=C.useState(!0),[c,u]=C.useState(!1),[h,f]=C.useState(!1),[x,p]=C.useState(!1),{data:g,isLoading:_,error:j}=Fe({queryKey:["order",e],queryFn:async()=>(await de.get(`https://123local-eats-app.launchpulse.ai/api/orders/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r,staleTime:6e4,retry:1,refetchOnWindowFocus:!1,select:M=>({order:{...M.order,subtotal:Number(M.order.subtotal||0),discount_amount:Number(M.order.discount_amount||0),delivery_fee:Number(M.order.delivery_fee||0),tax:Number(M.order.tax||0),tip:Number(M.order.tip||0),grand_total:Number(M.order.grand_total||0)},items:M.items.map(A=>({...A,base_price:Number(A.base_price||0),size_price_adjustment:Number(A.size_price_adjustment||0),quantity:Number(A.quantity||0),item_total_price:Number(A.item_total_price||0),selected_addons:A.selected_addons.map(W=>({...W,price:Number(W.price||0)})),selected_modifications:A.selected_modifications.map(W=>({...W,price:Number(W.price||0)}))})),restaurant:M.restaurant})}),N=Ue({mutationFn:async()=>(await de.post(`https://123local-eats-app.launchpulse.ai/api/orders/${e}/reorder`,{},{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:()=>{s("/cart")},onError:M=>{console.error("Reorder failed:",M),alert("Failed to reorder. Please try again.")}});C.useEffect(()=>{if(o){const M=setTimeout(()=>{a(!1)},3e3);return()=>clearTimeout(M)}},[o]);const w=async()=>{const M=`${window.location.origin}/order/${e}/track`,A=`Track my order from ${g==null?void 0:g.restaurant.restaurant_name}`;if(navigator.share)try{await navigator.share({title:"Order Tracking",text:A,url:M})}catch(W){console.log("Share cancelled or failed:",W)}else try{await navigator.clipboard.writeText(M),p(!0),setTimeout(()=>p(!1),3e3)}catch(W){console.error("Failed to copy:",W)}},b=()=>{if(!g)return"";if(g.order.order_type==="delivery"&&g.order.estimated_delivery_time){const M=new Date(g.order.estimated_delivery_time),A=new Date,W=Math.round((M.getTime()-A.getTime())/(1e3*60));if(W>60){const G=Math.floor(W/60);return`${G}-${G+1} hours`}else return`${W}-${W+10} minutes`}else if(g.order.order_type==="pickup"&&g.order.estimated_pickup_time)return new Date(g.order.estimated_pickup_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return"30-40 minutes"};if(_)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600"}),t.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading order details..."})]})})});if(j||!g)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your order details. Please try again or contact support."}),t.jsx(oe,{to:"/",className:"inline-block bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Return to Home"})]})})});const{order:v,items:k,restaurant:E}=g;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[o&&t.jsxs("div",{className:"mb-8 text-center animate-scale-in",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-4 animate-bounce",children:t.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),t.jsx("div",{className:"text-6xl animate-pulse",children:""})]}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2 leading-tight",children:"Order Placed Successfully!"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-6",children:"Thank you for your order!"}),t.jsxs("div",{className:"inline-block bg-white px-6 py-3 rounded-lg shadow-md",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Order Number"}),t.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:["#",v.order_id.slice(-8).toUpperCase()]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:t.jsxs("p",{className:"text-center text-base sm:text-lg text-gray-700 leading-relaxed",children:["Your order has been received and"," ",t.jsx(oe,{to:`/restaurant/${E.restaurant_id}`,className:"text-orange-600 hover:text-orange-700 font-semibold underline decoration-2 underline-offset-2",children:E.restaurant_name})," ","is preparing your food!"]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-center gap-4",children:[E.primary_hero_image_url&&t.jsx("img",{src:E.primary_hero_image_url,alt:E.restaurant_name,className:"w-16 h-16 rounded-lg object-cover border-2 border-white shadow-md"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(oe,{to:`/restaurant/${E.restaurant_id}`,className:"text-xl sm:text-2xl font-bold hover:underline block truncate",children:E.restaurant_name}),t.jsx("p",{className:"text-orange-100 text-sm mt-1",children:v.order_type==="delivery"?" Delivery":" Pickup"})]})]})}),t.jsx("div",{className:"bg-orange-50 border-b border-orange-100 p-6",children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("svg",{className:"w-6 h-6 text-orange-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:v.order_type==="delivery"?"Estimated delivery":"Ready for pickup at"}),t.jsx("p",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:b()})]})]})}),t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsxs("svg",{className:"w-5 h-5 text-gray-400 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:v.order_type==="delivery"?"Delivery Address":"Pickup Location"}),v.order_type==="delivery"?t.jsxs("div",{className:"text-gray-600 text-sm sm:text-base",children:[t.jsx("p",{className:"break-words",children:v.delivery_street_address}),v.delivery_apartment_suite&&t.jsx("p",{children:v.delivery_apartment_suite}),t.jsxs("p",{children:[v.delivery_city,", ",v.delivery_state," ",v.delivery_zip_code]})]}):t.jsxs("div",{className:"text-gray-600 text-sm sm:text-base",children:[t.jsx("p",{className:"break-words",children:E.street_address}),t.jsxs("p",{children:[E.city,", ",E.state," ",E.zip_code]})]})]})]})}),t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Restaurant Contact"}),t.jsx("a",{href:`tel:${E.phone_number}`,className:"text-orange-600 hover:text-orange-700 font-semibold text-base sm:text-lg",children:E.phone_number})]})]})}),t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-between mb-4 hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order Items (",k.length,")"]}),t.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h?t.jsx("div",{className:"space-y-4",children:k.map(M=>t.jsx("div",{className:"border-t border-gray-100 pt-4 first:border-t-0 first:pt-0",children:t.jsxs("div",{className:"flex justify-between gap-4 mb-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"font-semibold text-gray-900 break-words",children:[M.quantity,"x ",M.item_name]}),M.selected_size&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Size: ",M.selected_size]}),M.selected_addons.length>0&&t.jsxs("p",{className:"text-sm text-gray-600 break-words",children:["Add-ons: ",M.selected_addons.map(A=>A.name).join(", ")]}),M.selected_modifications.length>0&&t.jsxs("p",{className:"text-sm text-gray-600 break-words",children:["Modifications: ",M.selected_modifications.map(A=>A.name).join(", ")]}),M.special_instructions&&t.jsxs("p",{className:"text-sm text-gray-500 italic break-words",children:["Note: ",M.special_instructions]})]}),t.jsxs("p",{className:"font-semibold text-gray-900 flex-shrink-0",children:["$",M.item_total_price.toFixed(2)]})]})},M.order_item_id))}):t.jsx("p",{className:"text-gray-600 text-sm sm:text-base break-words",children:k.map((M,A)=>t.jsxs("span",{children:[M.quantity,"x ",M.item_name,A<k.length-1?", ":""]},M.order_item_id))})]}),t.jsxs("div",{className:"p-6 bg-gray-50",children:[t.jsxs("div",{className:"space-y-2 text-sm sm:text-base",children:[t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["$",v.subtotal.toFixed(2)]})]}),v.discount_amount>0&&t.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["-$",v.discount_amount.toFixed(2)]})]}),v.delivery_fee>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Delivery Fee"}),t.jsxs("span",{children:["$",v.delivery_fee.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Tax"}),t.jsxs("span",{children:["$",v.tax.toFixed(2)]})]}),v.tip>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Tip"}),t.jsxs("span",{children:["$",v.tip.toFixed(2)]})]}),t.jsx("div",{className:"border-t-2 border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between text-lg sm:text-xl font-bold text-gray-900",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["$",v.grand_total.toFixed(2)]})]})})]}),v.payment_method_id&&t.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-4 text-center",children:["Paid with  ",v.payment_method_id.slice(-4)]})]}),v.special_instructions&&t.jsx("div",{className:"p-6 bg-yellow-50 border-t border-yellow-100",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Special Instructions"}),t.jsx("p",{className:"text-gray-700 text-sm sm:text-base break-words",children:v.special_instructions})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>s(`/order/${e}/track`),className:"bg-orange-600 text-white px-6 py-4 rounded-xl font-semibold text-base sm:text-lg hover:bg-orange-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Track Order"]}),t.jsxs("button",{onClick:()=>u(!0),className:"bg-white text-gray-700 px-6 py-4 rounded-xl font-semibold text-base sm:text-lg border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200 flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View Receipt"]}),t.jsx("button",{onClick:()=>N.mutate(),disabled:N.isPending,className:"bg-white text-gray-700 px-6 py-4 rounded-xl font-semibold text-base sm:text-lg border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:N.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-700"}),t.jsx("span",{className:"hidden sm:inline",children:"Reordering..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Order Again"]})}),t.jsxs("button",{onClick:()=>s("/"),className:"bg-white text-gray-700 px-6 py-4 rounded-xl font-semibold text-base sm:text-lg border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200 flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Return Home"]})]}),t.jsx("div",{className:"text-center mb-6",children:t.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 text-orange-600 hover:text-orange-700 font-medium transition-colors text-sm sm:text-base",children:[t.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),x?"Link copied!":"Share order tracking"]})}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("svg",{className:"w-6 h-6 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:"Confirmation Email Sent"}),t.jsxs("p",{className:"text-blue-700 text-sm sm:text-base break-words",children:["We've sent a confirmation email to"," ",t.jsx("span",{className:"font-semibold",children:i==null?void 0:i.email})]}),t.jsx("p",{className:"text-blue-600 text-xs sm:text-sm mt-1",children:"Check your inbox and spam folder for order details, tracking link, and receipt."})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6 text-center",children:"What's Next?"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-base sm:text-lg",children:"Track Your Order"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:`We'll send you notifications as your order progresses. Click "Track Order" above to view live updates.`})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-base sm:text-lg",children:"Rate Your Experience"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"After you receive your order, we'll ask you to share your feedback and rate your experience."})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-base sm:text-lg",children:"Earn Rewards"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Continue ordering to unlock badges, earn discounts, and discover exclusive deals on your favorite restaurants."})]})]})]})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>u(!1),children:t.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:M=>M.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Order Receipt"}),t.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-2","aria-label":"Close receipt",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"p-4 sm:p-6 print-area",children:[t.jsxs("div",{className:"text-center mb-6 pb-6 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:E.restaurant_name}),t.jsxs("p",{className:"text-gray-600 text-xs sm:text-sm leading-relaxed",children:[E.street_address,t.jsx("br",{}),E.city,", ",E.state," ",E.zip_code,t.jsx("br",{}),E.phone_number]}),t.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm mt-4",children:["Order #",v.order_id.slice(-8).toUpperCase(),t.jsx("br",{}),new Date(v.created_at).toLocaleString()]})]}),t.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-base sm:text-lg",children:"Items"}),k.map(M=>t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between gap-4 mb-1",children:[t.jsxs("span",{className:"font-medium text-gray-900 text-sm sm:text-base break-words flex-1",children:[M.quantity,"x ",M.item_name]}),t.jsxs("span",{className:"font-medium text-gray-900 text-sm sm:text-base flex-shrink-0",children:["$",M.item_total_price.toFixed(2)]})]}),M.selected_size&&t.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 ml-4",children:[" Size: ",M.selected_size]}),M.selected_addons.map((A,W)=>t.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 ml-4 break-words",children:[" ",A.name," (+$",A.price.toFixed(2),")"]},W)),M.selected_modifications.map((A,W)=>t.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 ml-4 break-words",children:[" ",A.name]},W))]},M.order_item_id))]}),t.jsxs("div",{className:"space-y-2 text-sm sm:text-base",children:[t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["$",v.subtotal.toFixed(2)]})]}),v.discount_amount>0&&t.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["-$",v.discount_amount.toFixed(2)]})]}),v.delivery_fee>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Delivery Fee"}),t.jsxs("span",{children:["$",v.delivery_fee.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Tax"}),t.jsxs("span",{children:["$",v.tax.toFixed(2)]})]}),v.tip>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Tip"}),t.jsxs("span",{children:["$",v.tip.toFixed(2)]})]}),t.jsx("div",{className:"border-t-2 border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between text-lg sm:text-xl font-bold text-gray-900",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["$",v.grand_total.toFixed(2)]})]})})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-xs sm:text-sm text-gray-500",children:[t.jsx("p",{children:"Thank you for your order!"}),t.jsxs("p",{className:"mt-2",children:["Questions? Contact us at ",E.phone_number]})]})]}),t.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-4 sm:p-6",children:t.jsx("button",{onClick:()=>window.print(),className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition-colors text-sm sm:text-base",children:"Print Receipt"})})]})}),t.jsx("style",{children:`
        @keyframes scale-in {
          from {
            transform: scale(0);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        .animate-scale-in {
          animation: scale-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        @media print {
          body * {
            visibility: hidden;
          }
          .print-area,
          .print-area * {
            visibility: visible;
          }
          .print-area {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
        }
      `})]})},Ru=e=>{if(!e)return"";const s=new Date(e),i=new Date().getTime()-s.getTime(),o=Math.floor(i/6e4),a=Math.floor(o/60),c=Math.floor(a/24);return o<1?"Just now":o<60?`${o} minute${o===1?"":"s"} ago`:a<24?`${a} hour${a===1?"":"s"} ago`:c<7?`${c} day${c===1?"":"s"} ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})},S3=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",jg=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"",Ng=e=>{if(!e)return"";const s=new Date,i=new Date(e).getTime()-s.getTime(),o=Math.floor(i/6e4);if(o<=0)return"Any minute now";if(o<60)return`~${o} minutes`;const a=Math.floor(o/60),c=o%60;return`~${a}h ${c}m`},P3=e=>{const s=[{status:"order_received",timestamp:e.order_received_at,label:"Order Placed",icon:"restaurant"},{status:"preparing",timestamp:e.preparing_started_at,label:"Preparing",icon:"chef"}];return e.order_type==="pickup"?(s.push({status:"ready",timestamp:e.ready_at,label:"Ready for Pickup",icon:"bag"}),s.push({status:"delivered",timestamp:e.delivered_at||e.ready_at,label:"Picked Up",icon:"checkmark"})):(s.push({status:"out_for_delivery",timestamp:e.out_for_delivery_at,label:"Out for Delivery",icon:"car"}),s.push({status:"delivered",timestamp:e.delivered_at,label:"Delivered",icon:"checkmark"})),s},kg=(e,s,r)=>{const i=`${s?"w-6 h-6":"w-5 h-5"} ${r?"text-green-600":s?"text-orange-600":"text-gray-400"}`;switch(e){case"restaurant":return t.jsx(tm,{className:i});case"chef":return t.jsx(Yh,{className:i});case"bag":return t.jsx(br,{className:i});case"car":return t.jsx(Kv,{className:i});case"checkmark":return t.jsx(ot,{className:i});default:return t.jsx(ss,{className:i})}},L3=()=>{var P;const{order_id:e}=oi(),s=ar(),r=ce(J=>J.authentication_state.auth_token),[i,o]=C.useState(!1),[a,c]=C.useState(""),[u,h]=C.useState(null),f=async()=>(await de.get(`https://123local-eats-app.launchpulse.ai/api/orders/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data,{data:x,isLoading:p,isError:g,error:_,refetch:j}=Fe({queryKey:["order",e],queryFn:f,enabled:!!e&&!!r,staleTime:0,retry:1,refetchOnWindowFocus:!0}),N=Ue({mutationFn:async J=>(await de.delete(`https://123local-eats-app.launchpulse.ai/api/orders/${e}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},data:J.cancellation_reason?{cancellation_reason:J.cancellation_reason}:void 0})).data,onSuccess:()=>{s.invalidateQueries({queryKey:["order",e]}),o(!1),c("")}}),w=C.useMemo(()=>x?P3(x.order):[],[x]),b=(x==null?void 0:x.order.order_status)||"order_received",v=b==="order_received",k=b!=="delivered"&&b!=="cancelled";C.useEffect(()=>{if(!k||p||g){u&&(clearInterval(u),h(null));return}const J=setInterval(()=>{j()},2e4);return h(J),()=>{J&&clearInterval(J)}},[k,p,g,j]);const E=()=>{N.mutate({cancellation_reason:a||void 0})},M=()=>{x!=null&&x.restaurant.phone_number&&(window.location.href=`tel:${x.restaurant.phone_number}`)},A=()=>{alert("Contact support feature coming soon. Please call the restaurant directly for immediate assistance.")},W=()=>{alert("Issue reporting feature coming soon. Please contact support or the restaurant directly.")},G=(J,F)=>{const ue=w.findIndex(H=>H.status===b),ne=F,xe=ne<ue||ne===ue&&!!J.timestamp,U=ne===ue&&b!=="cancelled",O=ne>ue;return t.jsxs("div",{className:"flex flex-col items-center md:flex-1",children:[t.jsxs("div",{className:"hidden md:flex md:flex-col md:items-center md:w-full",children:[F>0&&t.jsx("div",{className:"absolute left-0 right-1/2 top-8 h-0.5 -translate-y-1/2 z-0",children:t.jsx("div",{className:`h-full ${xe?"bg-green-600":"bg-gray-300"}`})}),t.jsx("div",{className:"relative z-10 mb-4",children:t.jsx("div",{className:`
              flex items-center justify-center rounded-full border-4 transition-all duration-300
              ${xe?"bg-green-600 border-green-600 w-16 h-16":""}
              ${U?"bg-orange-600 border-orange-600 w-20 h-20 animate-pulse":""}
              ${O?"bg-white border-gray-300 w-16 h-16":""}
            `,children:kg(J.icon,U,xe)})}),F<w.length-1&&t.jsx("div",{className:"absolute left-1/2 right-0 top-8 h-0.5 -translate-y-1/2 z-0",children:t.jsx("div",{className:`h-full ${xe?"bg-green-600":"bg-gray-300"}`})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`font-semibold mb-1 ${U?"text-orange-600 text-lg":xe?"text-green-600":"text-gray-500"}`,children:J.label}),xe&&J.timestamp&&t.jsx("p",{className:"text-xs text-gray-500",children:Ru(J.timestamp)}),U&&x&&t.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:Ng(x.order.order_type==="delivery"?x.order.estimated_delivery_time:x.order.estimated_pickup_time)})]})]}),t.jsxs("div",{className:"flex md:hidden w-full mb-6",children:[t.jsxs("div",{className:"flex flex-col items-center mr-4",children:[t.jsx("div",{className:`
              flex items-center justify-center rounded-full border-4 transition-all duration-300
              ${xe?"bg-green-600 border-green-600 w-12 h-12":""}
              ${U?"bg-orange-600 border-orange-600 w-14 h-14 animate-pulse":""}
              ${O?"bg-white border-gray-300 w-12 h-12":""}
            `,children:kg(J.icon,U,xe)}),F<w.length-1&&t.jsx("div",{className:"w-0.5 flex-1 mt-2 mb-2",children:t.jsx("div",{className:`w-full h-full ${xe?"bg-green-600":"bg-gray-300"}`})})]}),t.jsxs("div",{className:"flex-1 pt-2",children:[t.jsx("p",{className:`font-semibold mb-1 ${U?"text-orange-600 text-lg":xe?"text-green-600":"text-gray-500"}`,children:J.label}),xe&&J.timestamp&&t.jsx("p",{className:"text-xs text-gray-500",children:Ru(J.timestamp)}),U&&x&&t.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:Ng(x.order.order_type==="delivery"?x.order.estimated_delivery_time:x.order.estimated_pickup_time)})]})]})]},J.status)};if(p)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Loading order details..."})]})})});if(g||!x){const J=(_==null?void 0:_.message)||"Failed to load order",F=J.includes("404")||J.includes("not found");return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx(kt,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:F?"Order Not Found":"Error Loading Order"}),t.jsx("p",{className:"text-gray-600 mb-6",children:F?"We couldn't find this order. It may have been deleted or you may not have permission to view it.":"Something went wrong while loading your order details. Please try again."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsx("button",{onClick:()=>j(),className:"px-6 py-3 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 transition-colors",children:"Try Again"}),t.jsx(oe,{to:"/order-history",className:"px-6 py-3 bg-gray-200 text-gray-900 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"View Order History"})]})]})})})}const{order:T,items:Z,restaurant:I}=x;return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Order Tracking"}),t.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Order #",T.order_id]}),t.jsxs(oe,{to:`/restaurant/${I.restaurant_id}`,className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 -ml-2 transition-colors",children:[I.primary_hero_image_url?t.jsx("img",{src:I.primary_hero_image_url,alt:I.restaurant_name,className:"w-12 h-12 rounded-lg object-cover"}):t.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center",children:t.jsx(tm,{className:"w-6 h-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:I.restaurant_name}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Placed on ",S3(T.created_at)]})]})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 md:p-8 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Status"}),b==="cancelled"&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(kt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-red-900",children:"Order Cancelled"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:T.cancellation_reason||"This order has been cancelled."}),T.cancelled_at&&t.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Cancelled ",Ru(T.cancelled_at)]})]})]})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"hidden md:flex md:relative md:items-start md:justify-between",children:w.map((J,F)=>G(J,F))}),t.jsx("div",{className:"md:hidden",children:w.map((J,F)=>G(J,F))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 md:p-8 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Details"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:T.order_type==="delivery"?t.jsx(Kv,{className:"w-4 h-4 text-orange-600"}):t.jsx(br,{className:"w-4 h-4 text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:T.order_type==="delivery"?"Delivery":"Pickup"}),T.order_type==="delivery"?t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[T.delivery_street_address,T.delivery_apartment_suite&&`, ${T.delivery_apartment_suite}`,t.jsx("br",{}),T.delivery_city,", ",T.delivery_state," ",T.delivery_zip_code]}):t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[I.street_address,t.jsx("br",{}),I.city,", ",I.state]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:t.jsx(ss,{className:"w-4 h-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:"Estimated Time"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.order_type==="delivery"?`Arrives ${T.estimated_delivery_time?jg(T.estimated_delivery_time):"soon"}`:`Ready by ${T.estimated_pickup_time?jg(T.estimated_pickup_time):"soon"}`})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:t.jsx(tm,{className:"w-4 h-4 text-purple-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"font-semibold text-gray-900 mb-2",children:["Items (",Z.length,")"]}),t.jsx("div",{className:"space-y-1",children:Z.map(J=>t.jsxs("p",{className:"text-sm text-gray-600",children:[J.quantity,"x ",J.item_name," - $",J.item_total_price.toFixed(2)]},J.order_item_id))})]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Total Paid"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",T.grand_total.toFixed(2)]})]})}),T.special_instructions&&t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Special Instructions"}),t.jsx("p",{className:"text-sm text-gray-600",children:T.special_instructions})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 md:p-8 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Need Help?"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-3 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(da,{className:"w-5 h-5"}),t.jsx("span",{children:"Contact Restaurant"})]}),t.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-3 px-6 py-3 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors border border-gray-300",children:[t.jsx(t_,{className:"w-5 h-5"}),t.jsx("span",{children:"Contact Support"})]}),t.jsxs("button",{onClick:W,className:"flex items-center justify-center gap-3 px-6 py-3 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors border border-gray-300",children:[t.jsx(e_,{className:"w-5 h-5"}),t.jsx("span",{children:"Report Issue"})]}),v&&t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center gap-3 px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(Le,{className:"w-5 h-5"}),t.jsx("span",{children:"Cancel Order"})]})]}),!v&&b!=="delivered"&&b!=="cancelled"&&t.jsx("p",{className:"text-sm text-gray-500 mt-4 text-center",children:"Order cannot be cancelled at this stage. Please contact the restaurant for assistance."})]})]}),i&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Cancel Order"}),t.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Le,{className:"w-6 h-6"})})]}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to cancel this order? This action cannot be undone."}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"cancellation-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation (optional)"}),t.jsx("textarea",{id:"cancellation-reason",value:a,onChange:J=>c(J.target.value),rows:3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all",placeholder:"Let us know why you're cancelling..."})]}),N.isError&&t.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t.jsx("p",{className:"text-sm",children:((P=N.error)==null?void 0:P.message)||"Failed to cancel order. Please try again."})}),N.isSuccess&&t.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:t.jsx("p",{className:"text-sm",children:"Order cancelled successfully. Refund will be processed in 3-5 business days."})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>o(!1),disabled:N.isPending,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors border border-gray-300 disabled:opacity-50",children:"Keep Order"}),t.jsx("button",{onClick:E,disabled:N.isPending,className:"flex-1 px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N.isPending?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Cancelling..."]}):"Cancel Order"})]})]})})]})})},E3=()=>{const e=ut(),[s,r]=gs(),i=ce($=>$.authentication_state.auth_token),o=ce($=>$.authentication_state.authentication_status.is_authenticated),a=ce($=>$.cart_state.restaurant_id),[c,u]=C.useState(s.get("status_filter")||"all"),[h,f]=C.useState(s.get("date_range")||"all"),[x,p]=C.useState(s.get("restaurant_id")||null),[g,_]=C.useState(s.get("search_query")||""),[j,N]=C.useState([]),[w,b]=C.useState(0),[v,k]=C.useState(0),[E,M]=C.useState(!1),[A,W]=C.useState(null),G=20;C.useEffect(()=>{o||e("/login",{state:{from:"/order-history"}})},[o,e]);const T=$=>{const V=new Date,je=V.toISOString().split("T")[0];switch($){case"7days":return{start_date:new Date(V.getTime()-6048e5).toISOString().split("T")[0],end_date:je};case"30days":return{start_date:new Date(V.getTime()-2592e6).toISOString().split("T")[0],end_date:je};case"year":return{start_date:new Date(V.getFullYear(),0,1).toISOString().split("T")[0],end_date:je};case"all":default:return{}}},Z=$=>new Date($).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),I=$=>`$${$.toFixed(2)}`,P=$=>{switch($){case"delivered":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J=$=>$.split("_").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" "),{data:F,isLoading:ue,error:ne,refetch:xe}=Fe({queryKey:["orders",c,h,x,w],queryFn:async()=>{if(!i)throw new Error("Not authenticated");const $=T(h),V={limit:G,offset:w,...$};return c!=="all"&&(V.order_status=c),x&&(V.restaurant_id=x),(await de.get("https://123local-eats-app.launchpulse.ai/api/orders",{headers:{Authorization:`Bearer ${i}`},params:V})).data},enabled:!!i&&o,staleTime:6e4,retry:1});C.useEffect(()=>{if(F!=null&&F.orders){const $=F.orders.map(V=>({order_id:V.order.order_id,restaurant_id:V.order.restaurant_id,restaurant_name:V.restaurant.restaurant_name,restaurant_logo:V.restaurant.primary_hero_image_url,order_date:V.order.created_at,order_status:V.order.order_status,total_amount:V.order.grand_total,items_summary:V.items.map(je=>je.item_name).join(", "),item_count:V.items.length,has_review:!1}));N(w===0?$:V=>[...V,...$]),k(F.total_count)}},[F,w]),C.useEffect(()=>{b(0),N([])},[c,h,x]);const U=C.useMemo(()=>{if(!j.length)return[];const $=new Map;return j.forEach(V=>{const je=$.get(V.restaurant_id);je?je.count++:$.set(V.restaurant_id,{name:V.restaurant_name,count:1})}),Array.from($.entries()).map(([V,je])=>({restaurant_id:V,restaurant_name:je.name,order_count:je.count}))},[j]),O=C.useMemo(()=>{if(!g.trim())return j;const $=g.toLowerCase();return j.filter(V=>V.restaurant_name.toLowerCase().includes($)||V.order_id.toLowerCase().includes($))},[j,g]),H=w+G<v,ee=Ue({mutationFn:async $=>{if(!i)throw new Error("Not authenticated");return(await de.post(`https://123local-eats-app.launchpulse.ai/api/orders/${$}/reorder`,{},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:()=>{e("/cart")}}),me=$=>{u($);const V=new URLSearchParams(s);$==="all"?V.delete("status_filter"):V.set("status_filter",$),r(V)},fe=$=>{f($);const V=new URLSearchParams(s);$==="all"?V.delete("date_range"):V.set("date_range",$),r(V)},ve=$=>{p($==="all"?null:$);const V=new URLSearchParams(s);$==="all"?V.delete("restaurant_id"):V.set("restaurant_id",$),r(V)},ie=$=>{const V=$.target.value;_(V);const je=new URLSearchParams(s);V?je.set("search_query",V):je.delete("search_query"),r(je)},le=()=>{b($=>$+G)},D=()=>{u("all"),f("all"),p(null),_(""),r({})},Q=($,V)=>{a&&a!==V?(W({order_id:$,restaurant_id:V}),M(!0)):ee.mutate($)},re=()=>{A&&(ee.mutate(A.order_id),M(!1),W(null))},X=()=>{M(!1),W(null)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-8",children:[t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order History"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"View and manage your past orders"})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),t.jsxs("select",{id:"date-range",value:h,onChange:$=>fe($.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-orange-100 focus:border-orange-500 transition-all",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"7days",children:"Last 7 Days"}),t.jsx("option",{value:"30days",children:"Last 30 Days"}),t.jsx("option",{value:"year",children:"This Year"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs("select",{id:"status",value:c,onChange:$=>me($.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-orange-100 focus:border-orange-500 transition-all",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"delivered",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"restaurant",className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurant"}),t.jsxs("select",{id:"restaurant",value:x||"all",onChange:$=>ve($.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-orange-100 focus:border-orange-500 transition-all",children:[t.jsx("option",{value:"all",children:"All Restaurants"}),U.map($=>t.jsxs("option",{value:$.restaurant_id,children:[$.restaurant_name," (",$.order_count,")"]},$.restaurant_id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Orders"}),t.jsx("input",{id:"search",type:"text",placeholder:"Search by restaurant name or order number",value:g,onChange:ie,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-orange-100 focus:border-orange-500 transition-all"})]}),(c!=="all"||h!=="all"||x||g)&&t.jsx("div",{className:"mt-4",children:t.jsx("button",{onClick:D,className:"text-sm text-orange-600 hover:text-orange-700 font-medium transition-colors",children:"Clear all filters"})})]}),ue&&w===0&&t.jsx("div",{className:"flex justify-center items-center py-16",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),t.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}),ne&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t.jsx("p",{className:"text-red-700 font-medium mb-4",children:"Failed to load order history"}),t.jsx("button",{onClick:()=>xe(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",children:"Try Again"})]}),!ue&&!ne&&O.length>0&&t.jsxs("div",{className:"space-y-4",children:[O.map($=>t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>e(`/order/${$.order_id}`),children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:$.restaurant_logo?t.jsx("img",{src:$.restaurant_logo,alt:$.restaurant_name,className:"w-16 h-16 rounded-lg object-cover shadow-md"}):t.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-orange-100 to-orange-200 flex items-center justify-center shadow-md",children:t.jsx("span",{className:"text-3xl",children:""})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(oe,{to:`/restaurant/${$.restaurant_id}`,onClick:V=>V.stopPropagation(),className:"text-xl font-bold text-gray-900 hover:text-orange-600 transition-colors",children:$.restaurant_name}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Z($.order_date)})]}),t.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium border ${P($.order_status)}`,children:J($.order_status)})]}),t.jsxs("p",{className:"text-gray-600 mb-3 leading-relaxed",children:[t.jsxs("span",{className:"font-medium text-gray-700",children:[$.item_count," ",$.item_count===1?"item":"items",":"]})," ",$.items_summary]}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-6",children:I($.total_amount)}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{onClick:V=>{V.stopPropagation(),e(`/order/${$.order_id}`)},className:"px-6 py-3 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-all duration-200",children:"View Details"}),t.jsx("button",{onClick:V=>{V.stopPropagation(),Q($.order_id,$.restaurant_id)},disabled:ee.isPending,className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:ee.isPending?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Reordering..."]}):"Reorder"}),$.order_status==="delivered"&&!$.has_review&&t.jsx("button",{onClick:V=>{V.stopPropagation(),e(`/restaurant/${$.restaurant_id}/review?order_id=${$.order_id}`)},className:"px-6 py-3 border-2 border-orange-600 text-orange-600 rounded-lg hover:bg-orange-50 font-medium transition-all duration-200",children:"Write Review"})]})]})]})})},$.order_id)),H&&t.jsx("div",{className:"text-center py-8",children:t.jsx("button",{onClick:le,disabled:ue,className:"px-8 py-4 bg-white border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:ue?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Orders"})}),!H&&O.length>0&&t.jsx("p",{className:"text-center text-gray-500 py-8 text-sm",children:"No more orders to display"})]}),!ue&&!ne&&j.length===0&&!g&&c==="all"&&h==="all"&&!x&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-16 text-center",children:[t.jsx("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-7xl",children:""})}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-3",children:"You haven't placed any orders yet"}),t.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed max-w-md mx-auto",children:"Start exploring restaurants and place your first order!"}),t.jsx(oe,{to:"/",className:"inline-block px-8 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Start Ordering"})]}),!ue&&!ne&&j.length>0&&O.length===0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-16 text-center",children:[t.jsx("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-3",children:"No orders match your search/filters"}),t.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed max-w-md mx-auto",children:"Try adjusting your filters or search terms"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{onClick:D,className:"px-8 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Clear Filters"}),t.jsx(oe,{to:"/",className:"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all duration-200",children:"Browse Restaurants"})]})]})]}),E&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 animate-in fade-in zoom-in duration-200",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"Clear Cart?"}),t.jsx("p",{className:"text-gray-600 mb-8 text-center leading-relaxed",children:"Your cart contains items from a different restaurant. Clear your current cart to reorder from this restaurant?"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:re,className:"flex-1 px-6 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Clear Cart & Reorder"}),t.jsx("button",{onClick:X,className:"flex-1 px-6 py-4 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all duration-200",children:"Cancel"})]})]})})]})})},M3=()=>{const{order_id:e}=oi(),s=ut(),r=ce(P=>P.authentication_state.current_user),i=ce(P=>P.authentication_state.auth_token),o=ce(P=>P.authentication_state.authentication_status.is_authenticated),a=ce(P=>P.cart_state.restaurant_id),c=ce(P=>P.add_to_cart),u=ce(P=>P.clear_cart),[h,f]=C.useState(!1),[x,p]=C.useState(null);C.useEffect(()=>{o||s("/login",{state:{from:`/order/${e}`}})},[o,s,e]);const{data:g,isLoading:_,error:j}=Fe({queryKey:["order-detail",e],queryFn:async()=>(await de.get(`https://123local-eats-app.launchpulse.ai/api/orders/${e}`,{headers:{Authorization:`Bearer ${i}`}})).data,enabled:!!i&&!!e,staleTime:5*60*1e3,retry:1});C.useEffect(()=>{g&&r&&g.order.user_id!==r.user_id&&s("/404")},[g,r,s]);const{data:N}=Fe({queryKey:["payment-methods"],queryFn:async()=>(await de.get("https://123local-eats-app.launchpulse.ai/api/payment-methods",{headers:{Authorization:`Bearer ${i}`}})).data,enabled:!!i&&!!(g!=null&&g.order.payment_method_id),staleTime:5*60*1e3}),{data:w}=Fe({queryKey:["discount",g==null?void 0:g.order.discount_id],queryFn:async()=>(await de.get(`https://123local-eats-app.launchpulse.ai/api/discounts/${g==null?void 0:g.order.discount_id}`)).data,enabled:!!(g!=null&&g.order.discount_id),staleTime:5*60*1e3}),b=g?[{status:"order_received",timestamp:g.order.order_received_at,is_completed:!!g.order.order_received_at,label:"Order Placed"},{status:"preparing",timestamp:g.order.preparing_started_at,is_completed:!!g.order.preparing_started_at,label:"Preparing"},{status:g.order.order_type==="pickup"?"ready":"out_for_delivery",timestamp:g.order.order_type==="pickup"?g.order.ready_at:g.order.out_for_delivery_at,is_completed:g.order.order_type==="pickup"?!!g.order.ready_at:!!g.order.out_for_delivery_at,label:g.order.order_type==="pickup"?"Ready for Pickup":"Out for Delivery"},{status:"delivered",timestamp:g.order.delivered_at,is_completed:!!g.order.delivered_at,label:g.order.order_type==="pickup"?"Picked Up":"Delivered"}]:[];g!=null&&g.order.cancelled_at&&b.push({status:"cancelled",timestamp:g.order.cancelled_at,is_completed:!0,label:"Cancelled"});const v=g?Date.now()-new Date(g.order.created_at).getTime()<24*60*60*1e3&&g.order.order_status!=="delivered"&&g.order.order_status!=="cancelled":!1,k=g?g.order.order_status==="delivered"&&!g.has_been_reviewed:!1,E=N&&(g!=null&&g.order.payment_method_id)?N.payment_methods.find(P=>P.payment_method_id===g.order.payment_method_id):null,M=async()=>{if(!(!g||!i))try{const J=(await de.post(`https://123local-eats-app.launchpulse.ai/api/orders/${e}/reorder`,{},{headers:{Authorization:`Bearer ${i}`}})).data;a&&a!==J.restaurant_id?(p(J),f(!0)):(J.items.forEach(F=>{var ue;c({menu_item_id:F.menu_item_id,item_name:F.item_name,base_price:Number(F.base_price),customizations:{size:F.selected_size,add_ons:F.selected_addons||[],modifications:((ue=F.selected_modifications)==null?void 0:ue.map(ne=>ne.name))||[],special_instructions:F.special_instructions},quantity:F.quantity},J.restaurant_id,g.restaurant.restaurant_name)}),s("/cart"))}catch(P){console.error("Reorder failed:",P)}},A=()=>{!x||!g||(u(),x.items.forEach(P=>{var J;c({menu_item_id:P.menu_item_id,item_name:P.item_name,base_price:Number(P.base_price),customizations:{size:P.selected_size,add_ons:P.selected_addons||[],modifications:((J=P.selected_modifications)==null?void 0:J.map(F=>F.name))||[],special_instructions:P.special_instructions},quantity:P.quantity},x.restaurant_id,g.restaurant.restaurant_name)}),f(!1),p(null),s("/cart"))},W=()=>{window.print()},G=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});if(_)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-8"}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})})})});if(j||!g)return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx(Dr,{className:"mx-auto h-12 w-12 text-red-600 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find this order. It may not exist or you don't have permission to view it."}),t.jsxs(oe,{to:"/order-history",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(Ao,{className:"w-5 h-5 mr-2"}),"Back to Order History"]})]})})})});const{order:T,items:Z,restaurant:I}=g;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-6",children:t.jsxs(oe,{to:"/order-history",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[t.jsx(Ao,{className:"w-5 h-5 mr-1"}),t.jsx("span",{className:"text-sm font-medium",children:"Back to Order History"})]})}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Details"}),t.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[t.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["#",T.order_id]}),t.jsx("span",{className:"text-sm",children:G(T.created_at)})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Status"}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${T.order_status==="delivered"?"bg-green-100 text-green-800":T.order_status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:T.order_status==="delivered"?"Completed":T.order_status==="cancelled"?"Cancelled":T.order_status.split("_").map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" ")})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),t.jsx("div",{className:"space-y-6",children:b.map((P,J)=>t.jsxs("div",{className:"relative flex items-start",children:[t.jsx("div",{className:`absolute left-0 w-8 h-8 rounded-full border-2 flex items-center justify-center ${P.is_completed?"bg-green-500 border-green-500":"bg-white border-gray-300"}`,children:P.is_completed&&t.jsx(ot,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"ml-12",children:[t.jsx("h3",{className:`font-semibold ${P.is_completed?"text-gray-900":"text-gray-400"}`,children:P.label}),P.timestamp&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G(P.timestamp)})]})]},J))})]}),T.cancelled_at&&T.cancellation_reason&&t.jsxs("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("p",{className:"text-sm font-semibold text-red-900 mb-1",children:"Cancellation Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:T.cancellation_reason})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Restaurant Information"}),t.jsxs(oe,{to:`/restaurant/${I.restaurant_id}`,className:"flex items-center gap-4 mb-4 hover:bg-gray-50 transition-colors rounded-lg p-2 -m-2",children:[I.primary_hero_image_url&&t.jsx("img",{src:I.primary_hero_image_url,alt:I.restaurant_name,className:"w-16 h-16 rounded-lg object-cover"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:I.restaurant_name}),t.jsx("p",{className:"text-sm text-gray-600",children:"Click to view restaurant"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(it,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-gray-700",children:[I.street_address,I.apartment_suite&&`, ${I.apartment_suite}`,t.jsx("br",{}),I.city,", ",I.state," ",I.zip_code]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(da,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),t.jsx("a",{href:`tel:${I.phone_number}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:I.phone_number})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(em,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:T.order_type==="delivery"?"Delivery":"Pickup"})]}),T.order_type==="delivery"&&T.delivery_street_address&&t.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Delivery Address:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[T.delivery_street_address,T.delivery_apartment_suite&&`, ${T.delivery_apartment_suite}`,t.jsx("br",{}),T.delivery_city,", ",T.delivery_state," ",T.delivery_zip_code]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Items"}),t.jsx("div",{className:"space-y-4",children:Z.map(P=>t.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[P.quantity,"x"]}),t.jsx("h3",{className:"font-semibold text-gray-900",children:P.item_name})]}),t.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[P.selected_size&&t.jsxs("p",{children:["Size: ",P.selected_size]}),P.selected_addons&&P.selected_addons.length>0&&t.jsxs("p",{children:["Add-ons: ",P.selected_addons.map(J=>J.name).join(", ")]}),P.selected_modifications&&P.selected_modifications.length>0&&t.jsxs("p",{children:["Modifications: ",P.selected_modifications.map(J=>J.name).join(", ")]}),P.special_instructions&&t.jsxs("p",{className:"italic",children:["Note: ",P.special_instructions]})]})]}),t.jsxs("div",{className:"text-right ml-4",children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:["$",Number(P.item_total_price).toFixed(2)]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["$",Number(P.base_price).toFixed(2)," each"]})]})]})},P.order_item_id))})]}),T.special_instructions&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Special Instructions:"}),t.jsx("p",{className:"text-sm text-blue-700",children:T.special_instructions})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["$",Number(T.subtotal).toFixed(2)]})]}),T.discount_amount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:["Discount",(w==null?void 0:w.coupon_code)&&` (${w.coupon_code})`]}),t.jsxs("span",{children:["-$",Number(T.discount_amount).toFixed(2)]})]}),T.delivery_fee>0&&t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Delivery Fee"}),t.jsxs("span",{children:["$",Number(T.delivery_fee).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Tax"}),t.jsxs("span",{children:["$",Number(T.tax).toFixed(2)]})]}),T.tip>0&&t.jsxs("div",{className:"flex justify-between text-gray-700",children:[t.jsx("span",{children:"Tip"}),t.jsxs("span",{children:["$",Number(T.tip).toFixed(2)]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:t.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["$",Number(T.grand_total).toFixed(2)]})]})}),E&&t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Paid with ",E.card_type," ending in ",E.last_four_digits]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[t.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(xk,{className:"w-5 h-5"}),"Reorder"]}),t.jsxs("button",{onClick:W,className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 border border-gray-300",children:[t.jsx(Xv,{className:"w-5 h-5"}),"Download Receipt"]}),v&&t.jsxs(oe,{to:`/order/${T.order_id}/track`,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(vi,{className:"w-5 h-5"}),"Track Order"]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Need help with this order?"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("a",{href:`tel:${I.phone_number}`,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors border border-gray-300",children:[t.jsx(da,{className:"w-5 h-5"}),"Contact Restaurant"]}),t.jsxs("button",{onClick:()=>{},className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors border border-gray-300",children:[t.jsx(hk,{className:"w-5 h-5"}),"Contact Support"]})]})]}),k&&t.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx(nt,{className:"w-6 h-6 text-orange-600"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"How was your experience?"}),t.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:["Help others discover great food! Share your thoughts about ",I.restaurant_name,"."]}),t.jsxs(oe,{to:`/restaurant/${I.restaurant_id}/review?order_id=${T.order_id}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(nt,{className:"w-5 h-5"}),"Write Review"]})]})]})})]})}),h&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Clear Cart?"}),t.jsx("p",{className:"text-gray-700 mb-6",children:"Your cart contains items from a different restaurant. Do you want to clear your cart and add items from this order?"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{f(!1),p(null)},className:"flex-1 px-4 py-2 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:A,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Clear & Continue"})]})]})})]})},T3=()=>{const{restaurant_id:e}=oi(),[s]=gs(),r=ut(),i=s.get("order_id"),o=ce(X=>X.authentication_state.authentication_status.is_authenticated),a=ce(X=>X.authentication_state.authentication_status.is_loading),c=ce(X=>X.authentication_state.current_user),u=ce(X=>X.authentication_state.auth_token),[h,f]=C.useState(0),[x,p]=C.useState(0),[g,_]=C.useState(""),[j,N]=C.useState(""),[w,b]=C.useState([]),[v,k]=C.useState([]),[E,M]=C.useState(!0),[A,W]=C.useState(!1),[G,T]=C.useState(!1),[Z,I]=C.useState(3),[P,J]=C.useState({star_rating:null,review_text:null,photos:null}),F=j.length,ue=1e3,ne={1:"Terrible",2:"Poor",3:"Average",4:"Good",5:"Excellent"};C.useEffect(()=>{!a&&!o&&r(`/login?redirect_url=/restaurant/${e}/review`)},[a,o,r,e]),C.useEffect(()=>{if(e){const X=`review_draft_${e}`,$=localStorage.getItem(X);if($)try{const V=JSON.parse($);f(V.star_rating||0),_(V.review_title||""),N(V.review_text||"")}catch(V){console.error("Failed to load draft:",V)}}},[e]),C.useEffect(()=>{if(!e)return;const X=`review_draft_${e}`,$=setInterval(()=>{if(h>0||g||j){const V={star_rating:h,review_title:g,review_text:j,last_saved:new Date().toISOString()};localStorage.setItem(X,JSON.stringify(V))}},3e4);return()=>clearInterval($)},[e,h,g,j]);const xe=()=>{if(e){const X=`review_draft_${e}`;localStorage.removeItem(X)}};C.useEffect(()=>{const X=$=>{(h>0||g||j||w.length>0)&&($.preventDefault(),$.returnValue="")};return window.addEventListener("beforeunload",X),()=>window.removeEventListener("beforeunload",X)},[h,g,j,w]);const{data:U,isLoading:O,error:H}=Fe({queryKey:["restaurant",e],queryFn:async()=>{const X=await de.get(`https://123local-eats-app.launchpulse.ai/api/restaurants/${e}`);return{restaurant_id:X.data.restaurant_id,restaurant_name:X.data.restaurant_name,primary_hero_image_url:X.data.primary_hero_image_url,street_address:X.data.street_address,city:X.data.city,state:X.data.state}},enabled:!!e,staleTime:6e4}),ee=Ue({mutationFn:async X=>(await de.post("https://123local-eats-app.launchpulse.ai/api/reviews",X,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}})).data}),me=Ue({mutationFn:async({review_id:X,photo_urls:$})=>{await de.post(`https://123local-eats-app.launchpulse.ai/api/reviews/${X}/photos`,{photo_urls:$},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}})}}),fe=X=>{f(X),J($=>({...$,star_rating:null}))},ve=X=>{const $=X.target.files;if(!$)return;const V=[],je=[];let Qe=null;Array.from($).forEach($e=>{if(!["image/jpeg","image/png","image/jpg"].includes($e.type)){Qe="Only JPG and PNG files accepted";return}if($e.size>5*1024*1024){Qe="File too large. Max 5MB per image";return}if(w.length+V.length>=10){Qe="Maximum 10 photos allowed";return}V.push($e),je.push(URL.createObjectURL($e))}),J(Qe?$e=>({...$e,photos:Qe}):$e=>({...$e,photos:null})),b($e=>[...$e,...V]),k($e=>[...$e,...je])},ie=X=>{b($=>$.filter((V,je)=>je!==X)),URL.revokeObjectURL(v[X]),k($=>$.filter((V,je)=>je!==X))},le=()=>{const X={star_rating:null,review_text:null,photos:null};return h===0&&(X.star_rating="Rating required. Please select a star rating."),j.trim().length<10&&(X.review_text="Review must be at least 10 characters"),j.length>ue&&(X.review_text=`Review exceeds maximum ${ue} characters`),J(X),!X.star_rating&&!X.review_text&&!X.photos},D=async X=>{var $,V;if(X.preventDefault(),!(!c||!e)&&le()){W(!0);try{const je={user_id:c.user_id,restaurant_id:e,order_id:i||null,star_rating:h,review_title:g.trim()||null,review_text:j.trim(),is_verified_visit:!!i},Qe=await ee.mutateAsync(je);if(w.length>0){const Se=w.map((vs,Ht)=>`https://cdn.example.com/reviews/${Qe.review_id}/photo_${Ht}.jpg`);await me.mutateAsync({review_id:Qe.review_id,photo_urls:Se})}xe(),T(!0);const $e=setInterval(()=>{I(Se=>Se<=1?(clearInterval($e),r(`/restaurant/${e}`),0):Se-1)},1e3)}catch(je){console.error("Failed to submit review:",je);const Qe=((V=($=je.response)==null?void 0:$.data)==null?void 0:V.message)||je.message||"Failed to submit review. Please try again.";J($e=>({...$e,review_text:Qe}))}finally{W(!1)}}},Q=()=>{(h>0||g||j||w.length>0)&&!window.confirm("Discard your review? Your changes will be lost.")||(xe(),r(`/restaurant/${e}`))},re=()=>{const X=F/ue*100;return X>=100?"text-red-600":X>=90?"text-orange-600":"text-gray-500"};return a||O?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Loading..."})]})})}):H||!U?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:t.jsx("div",{className:"max-w-md w-full text-center",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-red-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Restaurant Not Found"}),t.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"We couldn't find the restaurant you're trying to review."}),t.jsx("button",{onClick:()=>r("/"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 transition-colors",children:"Browse Restaurants"})]})})})}):G?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:t.jsx("div",{className:"max-w-md w-full text-center",children:t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8",children:[t.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:t.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank you for your review!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your review helps others discover great restaurants."}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Returning to restaurant in ",Z,"..."]})]})})})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("nav",{className:"text-sm mb-4",children:t.jsxs("ol",{className:"flex items-center space-x-2 text-gray-500",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>r(`/restaurant/${e}`),className:"hover:text-orange-600 transition-colors",children:U.restaurant_name})}),t.jsx("li",{children:t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),t.jsx("li",{className:"text-gray-900 font-medium",children:"Write Review"})]})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Write a Review"}),t.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-lg border border-gray-200 p-4",children:[U.primary_hero_image_url?t.jsx("img",{src:U.primary_hero_image_url,alt:U.restaurant_name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}):t.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:t.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:U.restaurant_name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[U.street_address,", ",U.city,", ",U.state]})]})]})]}),!i&&E&&t.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Verify your visit to earn a Verified Visitor badge on your review"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>alert("Verification flow would be implemented here"),className:"text-sm font-medium text-blue-700 hover:text-blue-800",children:"Verify Now"}),t.jsx("button",{onClick:()=>M(!1),className:"text-sm text-blue-600 hover:text-blue-700",children:"Skip for now"})]})]}),t.jsx("button",{onClick:()=>M(!1),className:"ml-3 flex-shrink-0 text-blue-400 hover:text-blue-500",children:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),t.jsxs("form",{onSubmit:D,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 md:p-8 space-y-8",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:["Rating ",t.jsx("span",{className:"text-red-600",children:"*"})]}),t.jsx("div",{className:"flex items-center space-x-2 mb-2",children:[1,2,3,4,5].map(X=>t.jsx("button",{type:"button",onClick:()=>fe(X),onMouseEnter:()=>p(X),onMouseLeave:()=>p(0),className:"focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 rounded transition-transform hover:scale-110",style:{minWidth:"44px",minHeight:"44px"},"aria-label":`Rate ${X} stars`,children:t.jsx("svg",{className:`h-10 w-10 md:h-12 md:w-12 transition-colors ${X<=(x||h)?"text-yellow-500 fill-current":"text-gray-300"}`,fill:X<=(x||h)?"currentColor":"none",stroke:"currentColor",strokeWidth:"1",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},X))}),(x>0||h>0)&&t.jsx("p",{className:"text-sm font-medium text-gray-700",children:ne[x||h]}),P.star_rating&&t.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),P.star_rating]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"review-title",className:"block text-sm font-medium text-gray-900 mb-2",children:["Review Title ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"text",id:"review-title",value:g,onChange:X=>_(X.target.value.slice(0,60)),placeholder:"Summarize your experience (optional)",className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",maxLength:60}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.length,"/60 characters"]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"review-text",className:"block text-sm font-medium text-gray-900 mb-2",children:["Your Review ",t.jsx("span",{className:"text-red-600",children:"*"})]}),t.jsx("textarea",{id:"review-text",value:j,onChange:X=>{N(X.target.value),P.review_text&&J($=>({...$,review_text:null}))},placeholder:"Share your experience - what did you like or dislike?",rows:10,className:`block w-full px-4 py-3 border ${P.review_text?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors resize-none`}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 10 characters required"}),t.jsxs("p",{className:`text-xs font-medium ${re()}`,children:[F,"/",ue," characters"]})]}),P.review_text&&t.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),P.review_text]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Add Photos ",t.jsx("span",{className:"text-gray-500",children:"(optional, max 10)"})]}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[t.jsx("input",{type:"file",id:"photo-upload",multiple:!0,accept:"image/jpeg,image/png,image/jpg",onChange:ve,className:"hidden"}),t.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer inline-flex flex-col items-center",children:[t.jsx("svg",{className:"h-12 w-12 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("span",{className:"text-sm text-gray-600 mb-1",children:"Click to upload or drag and drop"}),t.jsx("span",{className:"text-xs text-gray-500",children:"JPG or PNG, max 5MB per image"})]})]}),v.length>0&&t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4 mt-4",children:v.map((X,$)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:X,alt:`Preview ${$+1}`,className:"w-full h-24 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>ie($),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700","aria-label":`Remove photo ${$+1}`,children:t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},$))}),P.photos&&t.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),P.photos]})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-4 space-y-3 space-y-reverse sm:space-y-0 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:Q,disabled:A,className:"w-full sm:w-auto px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:A||h===0||j.trim().length<10,className:"w-full sm:w-auto px-8 py-3 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:A?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting your review..."]}):"Submit Review"})]})]})]})})})},R3=()=>{var re,X,$;const{review_id:e}=oi(),s=ut(),r=ce(V=>V.authentication_state.current_user),i=ce(V=>V.authentication_state.auth_token),[o,a]=C.useState(0),[c,u]=C.useState(""),[h,f]=C.useState(""),[x,p]=C.useState([]),[g,_]=C.useState([]),[j,N]=C.useState([]),[w,b]=C.useState(null),[v,k]=C.useState(!0),[E,M]=C.useState(30),[A,W]=C.useState(!1),[G,T]=C.useState(!1),[Z,I]=C.useState(!1),[P,J]=C.useState(0),[F,ue]=C.useState(null),{data:ne,isLoading:xe,error:U}=Fe({queryKey:["review",e],queryFn:async()=>{if(!e)throw new Error("No review ID provided");return(await de.get(`https://123local-eats-app.launchpulse.ai/api/reviews/${e}`,{headers:i?{Authorization:`Bearer ${i}`}:{}})).data},enabled:!!e,staleTime:6e4,retry:1}),{data:O}=Fe({queryKey:["restaurant",ne==null?void 0:ne.review.restaurant_id],queryFn:async()=>{if(!(ne!=null&&ne.review.restaurant_id))throw new Error("No restaurant ID");return(await de.get(`https://123local-eats-app.launchpulse.ai/api/restaurants/${ne.review.restaurant_id}`)).data},enabled:!!(ne!=null&&ne.review.restaurant_id),staleTime:6e4,retry:1}),H=Ue({mutationFn:async()=>{if(!e||!i)throw new Error("Missing review ID or auth token");const V=await de.patch(`https://123local-eats-app.launchpulse.ai/api/reviews/${e}`,{star_rating:o,review_title:c||null,review_text:h},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});return j.length>0&&await de.post(`https://123local-eats-app.launchpulse.ai/api/reviews/${e}/photos`,{photo_urls:j},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),V.data},onSuccess:()=>{w?s(`/restaurant/${w.restaurant_id}`,{state:{message:"Review updated successfully"}}):s("/profile?tab=reviews")}}),ee=Ue({mutationFn:async()=>{if(!e||!i)throw new Error("Missing review ID or auth token");await de.delete(`https://123local-eats-app.launchpulse.ai/api/reviews/${e}`,{headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{w?s(`/restaurant/${w.restaurant_id}`,{state:{message:"Review deleted successfully"}}):s("/profile?tab=reviews")}});C.useEffect(()=>{if(ne){const V=ne.review;ue(V),a(V.star_rating),u(V.review_title||""),f(V.review_text),p(ne.photos||[]);const je=new Date(V.created_at),Se=30-Math.floor((new Date().getTime()-je.getTime())/(1e3*60*60*24));k(Se>0),M(Math.max(0,Se))}},[ne]),C.useEffect(()=>{O&&b(O)},[O]),C.useEffect(()=>{ne&&r&&ne.review.user_id!==r.user_id&&s("/404",{replace:!0})},[ne,r,s]),C.useEffect(()=>{if(F){const V=o!==F.star_rating||c!==(F.review_title||"")||h!==F.review_text||g.length>0||j.length>0;W(V)}},[o,c,h,g,j,F]);const me=()=>{if(o===0){alert("Please select a star rating");return}if(h.length<10){alert("Review text must be at least 10 characters");return}if(h.length>1e3){alert("Review text must not exceed 1000 characters");return}H.mutate()},fe=()=>{A?I(!0):s(-1)},ve=()=>{T(!0)},ie=()=>{ee.mutate()},le=V=>{_([...g,V]),p(x.filter(je=>je.photo_id!==V))},D=()=>{const V=`https://picsum.photos/seed/${Date.now()}/400/300`;x.length+j.length<10?N([...j,V]):alert("Maximum 10 photos allowed")},Q=V=>{N(j.filter((je,Qe)=>Qe!==V))};return xe?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-red-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600"}),t.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Loading review..."})]})})}):U||!ne?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-red-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-12 max-w-md w-full text-center",children:[t.jsx(kt,{className:"mx-auto h-16 w-16 text-red-600 mb-6"}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Review Not Found"}),t.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"The review you're looking for doesn't exist or you don't have permission to edit it."}),t.jsx(oe,{to:"/",className:"inline-block px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg font-semibold hover:from-orange-700 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Go to Home"})]})})}):v?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 py-8 md:py-12",children:t.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("nav",{className:"flex items-center text-sm text-gray-600 mb-6",children:[t.jsx(oe,{to:w?`/restaurant/${w.restaurant_id}`:"/profile?tab=reviews",className:"hover:text-orange-600 transition-colors font-medium",children:(w==null?void 0:w.restaurant_name)||"My Reviews"}),t.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),t.jsx("span",{className:"text-gray-900 font-medium",children:"Edit Review"})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[(w==null?void 0:w.primary_hero_image_url)&&t.jsx("img",{src:w.primary_hero_image_url,alt:w.restaurant_name,className:"w-20 h-20 rounded-xl object-cover shadow-lg border-2 border-white"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2 leading-tight",children:"Edit Review"}),w&&t.jsx("p",{className:"text-lg text-gray-700 font-medium",children:w.restaurant_name})]})]}),E<=7&&t.jsx("div",{className:"mt-6 bg-gradient-to-r from-orange-100 to-red-100 border-2 border-orange-300 rounded-xl p-5 shadow-md",children:t.jsxs("p",{className:"text-sm text-orange-900 font-medium flex items-center gap-2",children:[t.jsx("span",{className:"text-xl",children:""}),"You can edit this review for ",t.jsxs("strong",{children:[E," more ",E===1?"day":"days"]}),", after which it can only be deleted."]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 md:p-10 space-y-8",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-4",children:["Rating ",t.jsx("span",{className:"text-red-600",children:"*"})]}),t.jsx("div",{className:"flex gap-3",children:[1,2,3,4,5].map(V=>t.jsx("button",{type:"button",onClick:()=>a(V),onMouseEnter:()=>J(V),onMouseLeave:()=>J(0),className:"transition-all duration-200 hover:scale-125 focus:outline-none focus:ring-4 focus:ring-orange-200 rounded-full p-1",children:t.jsx(nt,{className:`h-12 w-12 transition-colors ${V<=(P||o)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},V))})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Review Title ",t.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),t.jsx("input",{id:"title",type:"text",value:c,onChange:V=>u(V.target.value),maxLength:100,placeholder:"Summarize your experience",className:"w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all text-gray-900 placeholder-gray-400"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"text",className:"block text-sm font-semibold text-gray-900 mb-3",children:["Review ",t.jsx("span",{className:"text-red-600",children:"*"})]}),t.jsx("textarea",{id:"text",value:h,onChange:V=>f(V.target.value),rows:8,maxLength:1e3,placeholder:"Share your experience (minimum 10 characters)",className:"w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all resize-none text-gray-900 placeholder-gray-400 leading-relaxed"}),t.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[t.jsx("span",{className:h.length<10?"text-red-600 font-medium":"text-green-600 font-medium",children:h.length<10?`${10-h.length} more characters needed`:" Minimum length met"}),t.jsxs("span",{className:h.length>950?"text-orange-600 font-medium":"text-gray-600",children:[h.length," / 1000 characters"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-4",children:"Photos"}),x.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-sm text-gray-700 font-medium mb-3",children:"Existing Photos"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:x.map(V=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:V.photo_url,alt:"Review",className:"w-full h-32 object-cover rounded-lg shadow-md border-2 border-gray-200"}),t.jsx("button",{onClick:()=>le(V.photo_id),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 shadow-lg",children:t.jsx(Le,{className:"h-4 w-4"})})]},V.photo_id))})]}),j.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-sm text-green-700 font-medium mb-3",children:"New Photos"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:j.map((V,je)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:V,alt:"New",className:"w-full h-32 object-cover rounded-lg shadow-md border-2 border-green-500"}),t.jsx("button",{onClick:()=>Q(je),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 shadow-lg",children:t.jsx(Le,{className:"h-4 w-4"})})]},je))})]}),x.length+j.length<10&&t.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-3 px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-700 hover:border-orange-500 hover:text-orange-600 hover:bg-orange-50 transition-all w-full justify-center font-medium",children:[t.jsx(wk,{className:"h-5 w-5"}),"Add More Photos (",x.length+j.length,"/10)"]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t-2 border-gray-200",children:[t.jsx("button",{onClick:me,disabled:!A||H.isPending||o===0||h.length<10,className:"flex-1 px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl flex items-center justify-center gap-3",children:H.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving changes..."]}):"Save Changes"}),t.jsx("button",{onClick:fe,disabled:H.isPending,className:"px-8 py-4 bg-gray-100 text-gray-900 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed border-2 border-gray-300",children:"Cancel"})]}),t.jsx("div",{className:"pt-6 border-t-2 border-gray-200",children:t.jsxs("button",{onClick:ve,disabled:H.isPending,className:"text-red-600 hover:text-red-700 font-semibold flex items-center gap-3 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(mn,{className:"h-5 w-5"}),"Delete Review"]})})]}),H.isError&&t.jsxs("div",{className:"mt-6 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-xl shadow-md",children:[t.jsx("p",{className:"font-semibold text-lg mb-2",children:"Failed to update review"}),t.jsx("p",{className:"text-sm mb-4",children:(($=(X=(re=H.error)==null?void 0:re.response)==null?void 0:X.data)==null?void 0:$.message)||"Please try again later"}),t.jsx("button",{onClick:()=>H.reset(),className:"text-sm underline hover:no-underline font-medium",children:"Dismiss"})]})]})}),G&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 animate-scale-in",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Delete Review"}),t.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Are you sure you want to delete this review? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>T(!1),disabled:ee.isPending,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50 border-2 border-gray-300",children:"Cancel"}),t.jsx("button",{onClick:ie,disabled:ee.isPending,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:ee.isPending?"Deleting...":"Delete"})]})]})}),Z&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 animate-scale-in",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Discard Changes?"}),t.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"You have unsaved changes. Are you sure you want to discard them?"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>I(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-semibold hover:bg-gray-200 transition-colors border-2 border-gray-300",children:"Keep Editing"}),t.jsx("button",{onClick:()=>s(-1),className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors shadow-lg",children:"Discard"})]})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 py-12",children:t.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 md:p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(kt,{className:"mx-auto h-20 w-20 text-orange-600 mb-6"}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 leading-tight",children:"Review Can No Longer Be Edited"}),t.jsx("p",{className:"text-lg text-gray-600 mb-4 leading-relaxed",children:"This review was posted more than 30 days ago and can no longer be edited."}),t.jsx("p",{className:"text-gray-600 mb-8",children:"You can delete this review if needed."}),t.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs("button",{onClick:ve,className:"px-8 py-4 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-3",children:[t.jsx(mn,{className:"h-5 w-5"}),"Delete Review"]}),t.jsx("button",{onClick:()=>s(-1),className:"px-8 py-4 bg-gray-100 text-gray-900 rounded-lg font-semibold hover:bg-gray-200 transition-all duration-200 border-2 border-gray-300",children:"Go Back"})]})]})})})}),G&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 animate-scale-in",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Delete Review"}),t.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Are you sure you want to delete this review? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>T(!1),disabled:ee.isPending,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50 border-2 border-gray-300",children:"Cancel"}),t.jsx("button",{onClick:ie,disabled:ee.isPending,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:ee.isPending?"Deleting...":"Delete"})]})]})})]})},z3=()=>{var le,D;const e=ce(Q=>Q.authentication_state.auth_token),s=ce(Q=>Q.authentication_state.authentication_status.is_authenticated),r=ce(Q=>Q.authentication_state.authentication_status.is_loading),i=ce(Q=>Q.update_user_profile),o=ut(),[a,c]=gs(),u=ar(),[h,f]=C.useState(a.get("tab")||"overview"),[x,p]=C.useState(!1),[g,_]=C.useState({full_name:"",email:"",phone_number:""}),[j]=C.useState(!1),[N,w]=C.useState({limit:20,offset:0,hasMore:!1});C.useEffect(()=>{!r&&!s&&o("/login",{state:{from:"/profile"}})},[s,r,o]),C.useEffect(()=>{const Q=a.get("tab");Q&&["overview","reviews","badges","orders","settings"].includes(Q)?f(Q):Q||f("overview")},[a]);const b=Q=>{f(Q),c({tab:Q})},v="https://123local-eats-app.launchpulse.ai",{data:k,isLoading:E,error:M}=Fe({queryKey:["userProfile"],queryFn:async()=>(await de.get(`${v}/api/users/me`,{headers:{Authorization:`Bearer ${e}`}})).data,enabled:!!e&&s,staleTime:5*60*1e3,retry:1}),{data:A,isLoading:W}=Fe({queryKey:["userStatistics"],queryFn:async()=>(await de.get(`${v}/api/users/me/statistics`,{headers:{Authorization:`Bearer ${e}`}})).data,enabled:!!e&&s,staleTime:5*60*1e3,retry:1}),{data:G,isLoading:T}=Fe({queryKey:["userBadges"],queryFn:async()=>(await de.get(`${v}/api/users/me/badges`,{headers:{Authorization:`Bearer ${e}`}})).data,enabled:!!e&&s&&(h==="badges"||h==="overview"),staleTime:5*60*1e3,retry:1}),{data:Z,isLoading:I,error:P,refetch:J}=Fe({queryKey:["userReviews",N.limit,N.offset],queryFn:async()=>(await de.get(`${v}/api/users/me/reviews`,{headers:{Authorization:`Bearer ${e}`},params:{limit:N.limit,offset:N.offset}})).data,enabled:!!e&&s&&h==="reviews",staleTime:5*60*1e3,retry:1}),F=Ue({mutationFn:async Q=>(await de.patch(`${v}/api/users/me`,Q,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data,onSuccess:Q=>{i({full_name:Q.full_name,email:Q.email,phone_number:Q.phone_number}),u.setQueryData(["userProfile"],Q),p(!1),alert("Profile updated successfully!")},onError:Q=>{var X,$;const re=(($=(X=Q.response)==null?void 0:X.data)==null?void 0:$.message)||"Failed to update profile";alert(`Error: ${re}`)}}),ue=Ue({mutationFn:async({badgeId:Q,isShowcased:re,showcaseOrder:X})=>(await de.patch(`${v}/api/users/me/badges/${Q}/showcase`,{is_showcased:re,showcase_order:X},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{u.invalidateQueries({queryKey:["userBadges"]})},onError:Q=>{var X,$;const re=(($=(X=Q.response)==null?void 0:X.data)==null?void 0:$.message)||"Failed to update badge showcase";alert(`Error: ${re}`)}}),ne=Ue({mutationFn:async Q=>(await de.delete(`${v}/api/reviews/${Q}`,{headers:{Authorization:`Bearer ${e}`}})).data,onSuccess:()=>{J(),u.invalidateQueries({queryKey:["userStatistics"]}),alert("Review deleted successfully")},onError:Q=>{var X,$;const re=(($=(X=Q.response)==null?void 0:X.data)==null?void 0:$.message)||"Failed to delete review";alert(`Error: ${re}`)}}),xe=()=>{k&&(_({full_name:k.full_name,email:k.email,phone_number:k.phone_number||""}),p(!0))},U=()=>{p(!1),_({full_name:"",email:"",phone_number:""})},O=()=>{F.mutate(g)},H=Q=>{if(Q.user_badge){const re=Q.user_badge.is_showcased,X=(G==null?void 0:G.earned_badges.filter(V=>{var je;return(je=V.user_badge)==null?void 0:je.is_showcased}))||[];let $=null;if(!re){if(X.length>=5){alert("You can only showcase up to 5 badges. Unpin one first.");return}$=X.length+1}ue.mutate({badgeId:Q.badge.badge_id,isShowcased:!re,showcaseOrder:$})}},ee=Q=>{window.confirm("Are you sure you want to delete this review? This action cannot be undone.")&&ne.mutate(Q)},me=()=>{w(Q=>({...Q,offset:Q.offset+Q.limit}))},fe=C.useMemo(()=>(G==null?void 0:G.earned_badges.filter(Q=>{var re;return(re=Q.user_badge)==null?void 0:re.is_showcased}).sort((Q,re)=>{var V,je;const X=((V=Q.user_badge)==null?void 0:V.showcase_order)||999,$=((je=re.user_badge)==null?void 0:je.showcase_order)||999;return X-$}))||[],[G]),ve=C.useMemo(()=>k!=null&&k.member_since?new Date(k.member_since).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"",[k]),ie=Q=>{const re=new Date(Q);return(new Date().getTime()-re.getTime())/(1e3*60*60*24)<=30};return r||E?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(Us,{className:"size-12 text-blue-600 animate-spin"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Loading profile..."})]})})}):M?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"size-16 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(kt,{className:"size-8 text-red-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Failed to Load Profile"}),t.jsx("p",{className:"text-gray-600",children:((D=(le=M==null?void 0:M.response)==null?void 0:le.data)==null?void 0:D.message)||"An error occurred while loading your profile."}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Retry"})]})})})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8 mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"size-24 md:size-32 rounded-full overflow-hidden bg-gray-200 border-4 border-white shadow-lg",children:k!=null&&k.profile_picture_url?t.jsx("img",{src:k.profile_picture_url,alt:k.full_name,className:"size-full object-cover"}):t.jsx("div",{className:"size-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-3xl md:text-4xl font-bold",children:k==null?void 0:k.full_name.charAt(0).toUpperCase()})}),t.jsx("button",{onClick:()=>{alert("Profile picture upload feature coming soon!")},disabled:j,className:"absolute -bottom-2 -right-2 size-10 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-all duration-200 hover:scale-110",children:j?t.jsx(Us,{className:"size-5 animate-spin"}):t.jsx(ik,{className:"size-5"})})]}),t.jsx("div",{className:"flex-1 text-center md:text-left",children:x?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),t.jsx("input",{type:"text",value:g.full_name,onChange:Q=>_({...g,full_name:Q.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:g.email,onChange:Q=>_({...g,email:Q.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),g.email!==(k==null?void 0:k.email)&&t.jsxs("p",{className:"mt-1 text-xs text-yellow-600",children:[t.jsx(kt,{className:"inline size-3 mr-1"}),"Changing email will require verification"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),t.jsx("input",{type:"tel",value:g.phone_number||"",onChange:Q=>_({...g,phone_number:Q.target.value}),placeholder:"Optional",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:O,disabled:F.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(Us,{className:"size-4 animate-spin"}),"Saving..."]}):t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(Dt,{className:"size-4"}),"Save Changes"]})}),t.jsx("button",{onClick:U,disabled:F.isPending,className:"px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 disabled:opacity-50",children:"Cancel"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight mb-2",children:[k==null?void 0:k.full_name,(k==null?void 0:k.is_verified)&&t.jsx(Dt,{className:"inline size-6 ml-2 text-blue-600 bg-blue-100 rounded-full p-0.5"})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 text-gray-600 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[t.jsx(ca,{className:"size-4"}),t.jsx("span",{className:"text-sm",children:k==null?void 0:k.email})]}),(k==null?void 0:k.phone_number)&&t.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[t.jsx(da,{className:"size-4"}),t.jsx("span",{className:"text-sm",children:k.phone_number})]}),t.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[t.jsx(nk,{className:"size-4"}),t.jsxs("span",{className:"text-sm",children:["Member since ",ve]})]})]}),t.jsxs("button",{onClick:xe,className:"px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 transition-all duration-200 hover:shadow-lg inline-flex items-center gap-2",children:[t.jsx(tn,{className:"size-4"}),"Edit Profile"]})]})})]})}),t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6",children:[t.jsxs("button",{onClick:()=>b("reviews"),className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105 text-left",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"size-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx(nt,{className:"size-6 text-yellow-600"})}),t.jsx(ro,{className:"size-5 text-gray-400"})]}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:W?"-":(A==null?void 0:A.total_reviews_written)||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Reviews Written"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"size-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(it,{className:"size-6 text-green-600"})})}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:W?"-":(A==null?void 0:A.total_restaurants_visited)||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Restaurants Visited"})]}),t.jsxs(oe,{to:"/favorites",className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105 block",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"size-12 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsx(Et,{className:"size-6 text-red-600"})}),t.jsx(ju,{className:"size-5 text-gray-400"})]}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:W?"-":(A==null?void 0:A.total_favorites_saved)||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Favorites Saved"})]}),t.jsxs(oe,{to:"/order-history",className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200 hover:scale-105 block",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"size-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(br,{className:"size-6 text-blue-600"})}),t.jsx(ju,{className:"size-5 text-gray-400"})]}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:W?"-":(A==null?void 0:A.total_orders_placed)||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Orders Placed"})]})]}),fe.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8 mb-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx($r,{className:"size-6 text-yellow-600"}),"Featured Badges"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:fe.map(Q=>t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg p-4 border-2 border-yellow-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"size-16 bg-yellow-100 rounded-full flex items-center justify-center mb-2",children:t.jsx($r,{className:"size-8 text-yellow-600"})}),t.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:Q.badge.badge_name}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:new Date(Q.user_badge.earned_at).toLocaleDateString()})]})},Q.badge.badge_id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs("div",{className:"flex overflow-x-auto",children:[t.jsx("button",{onClick:()=>b("overview"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all ${h==="overview"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Overview"}),t.jsxs("button",{onClick:()=>b("reviews"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all ${h==="reviews"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["My Reviews",A&&t.jsx("span",{className:"ml-2 text-xs bg-gray-200 text-gray-700 rounded-full px-2 py-0.5",children:A.total_reviews_written})]}),t.jsxs("button",{onClick:()=>b("badges"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all ${h==="badges"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["My Badges",A&&t.jsx("span",{className:"ml-2 text-xs bg-gray-200 text-gray-700 rounded-full px-2 py-0.5",children:A.total_badges_earned})]}),t.jsxs(oe,{to:"/settings",className:"px-6 py-4 font-medium text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 whitespace-nowrap transition-all flex items-center gap-2",children:["Settings",t.jsx(ju,{className:"size-3"})]})]})}),t.jsxs("div",{className:"p-6 lg:p-8",children:[h==="overview"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Badges Earned"}),t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:W?"-":(A==null?void 0:A.total_badges_earned)||0})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Discounts Redeemed"}),t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:W?"-":(A==null?void 0:A.total_discounts_redeemed)||0})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 md:col-span-2",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Unique Cuisines Tried"}),t.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:W?"-":(A==null?void 0:A.unique_cuisines_tried.length)||0}),A&&A.unique_cuisines_tried.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:A.unique_cuisines_tried.map(Q=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:Q},Q))})]})]})]})}),h==="reviews"&&t.jsx("div",{children:I?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Us,{className:"size-8 text-blue-600 animate-spin"})}):P?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(kt,{className:"size-12 text-red-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Failed to load reviews"})]}):Z&&Z.reviews.length>0?t.jsxs("div",{className:"space-y-6",children:[Z.reviews.map(Q=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs(oe,{to:`/restaurant/${Q.restaurant.restaurant_id}`,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[Q.restaurant.primary_hero_image_url?t.jsx("img",{src:Q.restaurant.primary_hero_image_url,alt:Q.restaurant.restaurant_name,className:"size-12 rounded-lg object-cover"}):t.jsx("div",{className:"size-12 bg-gray-200 rounded-lg flex items-center justify-center",children:t.jsx(it,{className:"size-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:Q.restaurant.restaurant_name}),t.jsx("div",{className:"flex items-center gap-1 mt-1",children:[...Array(5)].map((re,X)=>t.jsx(nt,{className:`size-4 ${X<Q.review.star_rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},X))})]})]}),t.jsxs("div",{className:"flex gap-2",children:[ie(Q.review.created_at)&&t.jsx(oe,{to:`/review/${Q.review.review_id}/edit`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:t.jsx(tn,{className:"size-4"})}),t.jsx("button",{onClick:()=>ee(Q.review.review_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",children:t.jsx(mn,{className:"size-4"})})]})]}),Q.review.review_title&&t.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:Q.review.review_title}),t.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:Q.review.review_text}),Q.photos.length>0&&t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:Q.photos.map(re=>t.jsx("img",{src:re.photo_url,alt:"Review",className:"w-full aspect-square object-cover rounded-lg"},re.photo_id))}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{children:new Date(Q.review.created_at).toLocaleDateString()}),Q.review.is_verified_visit&&t.jsxs("span",{className:"flex items-center gap-1 text-blue-600",children:[t.jsx(Dt,{className:"size-3"}),"Verified Visit"]}),Q.review.is_edited&&t.jsx("span",{className:"text-gray-500 italic",children:"Edited"})]}),Q.review.helpful_count>0&&t.jsxs("span",{className:"text-gray-600",children:[Q.review.helpful_count," found helpful"]})]})]},Q.review.review_id)),Z&&Z.reviews.length<Z.total_count&&t.jsx("button",{onClick:me,className:"w-full px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-all",children:"Load More Reviews"})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(nt,{className:"size-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reviews yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Share your dining experiences with the community"}),t.jsx(oe,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 hover:shadow-lg",children:"Explore Restaurants"})]})}),h==="badges"&&t.jsxs("div",{className:"space-y-8",children:[G&&G.earned_badges.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earned Badges"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.earned_badges.map(Q=>{var re,X;return t.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg p-6 relative",children:[t.jsx("button",{onClick:()=>H(Q),disabled:ue.isPending,className:`absolute top-4 right-4 p-2 rounded-lg transition-all ${(re=Q.user_badge)!=null&&re.is_showcased?"bg-yellow-100 text-yellow-600":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:(X=Q.user_badge)!=null&&X.is_showcased?"Unpin from profile":"Pin to profile",children:t.jsx($r,{className:"size-5"})}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"size-20 bg-green-100 rounded-full flex items-center justify-center mb-4",children:t.jsx($r,{className:"size-10 text-green-600"})}),t.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:Q.badge.badge_name}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Q.badge.badge_description}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Earned ",new Date(Q.user_badge.earned_at).toLocaleDateString()]})]})]},Q.badge.badge_id)})})]}),G&&G.locked_badges.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Locked Badges"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.locked_badges.map(Q=>t.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-6 relative opacity-75",children:[t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Di,{className:"size-5 text-gray-400"})}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"size-20 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:t.jsx($r,{className:"size-10 text-gray-400"})}),t.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:Q.badge.badge_name}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Q.badge.badge_description}),t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[Q.progress.current_value," / ",Q.progress.target_value]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Q.progress.percentage}%`}})})]})]})]},Q.badge.badge_id))})]}),T&&t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Us,{className:"size-8 text-blue-600 animate-spin"})})]})]})]})]})})})},O3=()=>{var Z,I;const e=ce(P=>P.authentication_state.auth_token),s=ce(P=>P.authentication_state.authentication_status.is_authenticated),r=ce(P=>P.authentication_state.authentication_status.is_loading),i=ut(),[o,a]=gs(),c=ar(),[u,h]=C.useState(o.get("section")||"account"),[f,x]=C.useState({}),[p,g]=C.useState({profile_public:!0,reviews_public:!0,location_permission_granted:!0}),_="https://123local-eats-app.launchpulse.ai";C.useEffect(()=>{!r&&!s&&i("/login",{state:{from:"/settings"}})},[s,r,i]),C.useEffect(()=>{const P=o.get("section");P&&["account","notifications","privacy","addresses","payment"].includes(P)?h(P):P||h("account")},[o]);const j=P=>{h(P),a({section:P})},{data:N,isLoading:w,error:b}=Fe({queryKey:["userProfile"],queryFn:async()=>(await de.get(`${_}/api/users/me`,{headers:{Authorization:`Bearer ${e}`}})).data,enabled:!!e&&s,staleTime:5*60*1e3,retry:1}),{data:v,isLoading:k}=Fe({queryKey:["userAddresses"],queryFn:async()=>(await de.get(`${_}/api/addresses`,{headers:{Authorization:`Bearer ${e}`}})).data,enabled:!!e&&s&&u==="addresses",staleTime:5*60*1e3,retry:1}),{data:E,isLoading:M}=Fe({queryKey:["paymentMethods"],queryFn:async()=>(await de.get(`${_}/api/payment-methods`,{headers:{Authorization:`Bearer ${e}`}})).data,enabled:!!e&&s&&u==="payment",staleTime:5*60*1e3,retry:1});C.useEffect(()=>{N&&(x(N.notification_preferences),g({profile_public:N.profile_public,reviews_public:N.reviews_public,location_permission_granted:N.location_permission_granted}))},[N]);const A=Ue({mutationFn:async P=>(await de.patch(`${_}/api/users/me`,{notification_preferences:P},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data,onSuccess:P=>{c.setQueryData(["userProfile"],P),alert("Notification preferences updated successfully!")},onError:P=>{var F,ue;const J=((ue=(F=P.response)==null?void 0:F.data)==null?void 0:ue.message)||"Failed to update notification preferences";alert(`Error: ${J}`)}}),W=Ue({mutationFn:async P=>(await de.patch(`${_}/api/users/me`,P,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data,onSuccess:P=>{c.setQueryData(["userProfile"],P),alert("Privacy settings updated successfully!")},onError:P=>{var F,ue;const J=((ue=(F=P.response)==null?void 0:F.data)==null?void 0:ue.message)||"Failed to update privacy settings";alert(`Error: ${J}`)}}),G=()=>{A.mutate(f)},T=()=>{W.mutate(p)};return r||w?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(Us,{className:"size-12 text-blue-600 animate-spin"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Loading settings..."})]})})}):b?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"size-16 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(kt,{className:"size-8 text-red-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Failed to Load Settings"}),t.jsx("p",{className:"text-gray-600",children:((I=(Z=b==null?void 0:b.response)==null?void 0:Z.data)==null?void 0:I.message)||"An error occurred while loading your settings."}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Retry"})]})})})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-8",children:"Settings"}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs("div",{className:"flex overflow-x-auto",children:[t.jsxs("button",{onClick:()=>j("account"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all flex items-center gap-2 ${u==="account"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(Do,{className:"size-4"}),"Account"]}),t.jsxs("button",{onClick:()=>j("notifications"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all flex items-center gap-2 ${u==="notifications"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(fo,{className:"size-4"}),"Notifications"]}),t.jsxs("button",{onClick:()=>j("privacy"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all flex items-center gap-2 ${u==="privacy"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(Di,{className:"size-4"}),"Privacy"]}),t.jsxs("button",{onClick:()=>j("addresses"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all flex items-center gap-2 ${u==="addresses"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(it,{className:"size-4"}),"Addresses"]}),t.jsxs("button",{onClick:()=>j("payment"),className:`px-6 py-4 font-medium text-sm whitespace-nowrap transition-all flex items-center gap-2 ${u==="payment"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(cc,{className:"size-4"}),"Payment"]})]})}),t.jsxs("div",{className:"p-6 lg:p-8",children:[u==="account"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Account Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Full Name"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:N==null?void 0:N.full_name})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Email"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:N==null?void 0:N.email})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Phone Number"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:(N==null?void 0:N.phone_number)||"Not provided"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Member Since"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:N!=null&&N.member_since?new Date(N.member_since).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A"})]})]})]}),u==="notifications"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notification Preferences"}),t.jsx("button",{onClick:G,disabled:A.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 flex items-center gap-2 disabled:opacity-50",children:A.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Us,{className:"size-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(fg,{className:"size-4"}),"Save Changes"]})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Updates"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Email notifications"}),t.jsx("input",{type:"checkbox",checked:f.order_updates_email||!1,onChange:P=>x({...f,order_updates_email:P.target.checked}),className:"size-5 text-blue-600 rounded"})]}),t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Push notifications"}),t.jsx("input",{type:"checkbox",checked:f.order_updates_push||!1,onChange:P=>x({...f,order_updates_push:P.target.checked}),className:"size-5 text-blue-600 rounded"})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Promotions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Email notifications"}),t.jsx("input",{type:"checkbox",checked:f.promotions_email||!1,onChange:P=>x({...f,promotions_email:P.target.checked}),className:"size-5 text-blue-600 rounded"})]}),t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Push notifications"}),t.jsx("input",{type:"checkbox",checked:f.promotions_push||!1,onChange:P=>x({...f,promotions_push:P.target.checked}),className:"size-5 text-blue-600 rounded"})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Weekly Picks"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Email notifications"}),t.jsx("input",{type:"checkbox",checked:f.weekly_picks_email||!1,onChange:P=>x({...f,weekly_picks_email:P.target.checked}),className:"size-5 text-blue-600 rounded"})]}),t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Push notifications"}),t.jsx("input",{type:"checkbox",checked:f.weekly_picks_push||!1,onChange:P=>x({...f,weekly_picks_push:P.target.checked}),className:"size-5 text-blue-600 rounded"})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"New Restaurants"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Email notifications"}),t.jsx("input",{type:"checkbox",checked:f.new_restaurants_email||!1,onChange:P=>x({...f,new_restaurants_email:P.target.checked}),className:"size-5 text-blue-600 rounded"})]}),t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Push notifications"}),t.jsx("input",{type:"checkbox",checked:f.new_restaurants_push||!1,onChange:P=>x({...f,new_restaurants_push:P.target.checked}),className:"size-5 text-blue-600 rounded"})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Review Responses"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Email notifications"}),t.jsx("input",{type:"checkbox",checked:f.review_responses_email||!1,onChange:P=>x({...f,review_responses_email:P.target.checked}),className:"size-5 text-blue-600 rounded"})]}),t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-700",children:"Push notifications"}),t.jsx("input",{type:"checkbox",checked:f.review_responses_push||!1,onChange:P=>x({...f,review_responses_push:P.target.checked}),className:"size-5 text-blue-600 rounded"})]})]})]})]})]}),u==="privacy"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Privacy Settings"}),t.jsx("button",{onClick:T,disabled:W.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 flex items-center gap-2 disabled:opacity-50",children:W.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Us,{className:"size-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(fg,{className:"size-4"}),"Save Changes"]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:t.jsxs("label",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:"Public Profile"}),t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Allow other users to view your profile information"})]}),t.jsx("input",{type:"checkbox",checked:p.profile_public,onChange:P=>g({...p,profile_public:P.target.checked}),className:"size-5 text-blue-600 rounded mt-1"})]})}),t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:t.jsxs("label",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:"Public Reviews"}),t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Make your reviews visible to all users"})]}),t.jsx("input",{type:"checkbox",checked:p.reviews_public,onChange:P=>g({...p,reviews_public:P.target.checked}),className:"size-5 text-blue-600 rounded mt-1"})]})}),t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:t.jsxs("label",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:"Location Permission"}),t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Allow the app to access your location for better recommendations"})]}),t.jsx("input",{type:"checkbox",checked:p.location_permission_granted,onChange:P=>g({...p,location_permission_granted:P.target.checked}),className:"size-5 text-blue-600 rounded mt-1"})]})})]})]}),u==="addresses"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Saved Addresses"}),t.jsx("button",{onClick:()=>alert("Add address feature coming soon!"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Add Address"})]}),k?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Us,{className:"size-8 text-blue-600 animate-spin"})}):v&&v.length>0?t.jsx("div",{className:"space-y-4",children:v.map(P=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsxs("div",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[P.address_label,P.is_default&&t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Default"})]}),t.jsxs("div",{className:"text-gray-700 mt-2",children:[P.street_address,P.apartment_suite&&`, ${P.apartment_suite}`]}),t.jsxs("div",{className:"text-gray-700",children:[P.city,", ",P.state," ",P.zip_code]}),P.delivery_instructions&&t.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["Instructions: ",P.delivery_instructions]})]})})},P.address_id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(it,{className:"size-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No saved addresses yet"})]})]}),u==="payment"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Methods"}),t.jsx("button",{onClick:()=>alert("Add payment method feature coming soon!"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Add Payment Method"})]}),M?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Us,{className:"size-8 text-blue-600 animate-spin"})}):E&&E.length>0?t.jsx("div",{className:"space-y-4",children:E.map(P=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"size-12 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(cc,{className:"size-6 text-gray-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[P.card_brand,"  ",P.card_last_four,P.is_default&&t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Default"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Expires ",P.card_expiry_month,"/",P.card_expiry_year]})]})]})})},P.payment_method_id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(cc,{className:"size-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No payment methods saved yet"})]})]})]})]})]})})})},zu=[{id:"all",label:"All",apiValue:null},{id:"unread",label:"Unread",apiValue:null,readFilter:!1},{id:"order_update",label:"Order Updates",apiValue:"order_update"},{id:"promotion",label:"Promotions",apiValue:"promotion"},{id:"badge_earned",label:"Badges",apiValue:"badge_earned"},{id:"review_response",label:"Engagement",apiValue:"review_response"},{id:"account",label:"Account",apiValue:"weekly_picks"}],A3=e=>{switch(e){case"order_update":return t.jsx(br,{className:"w-5 h-5 text-blue-600"});case"promotion":case"discount":return t.jsx(On,{className:"w-5 h-5 text-orange-600"});case"badge_earned":return t.jsx(r_,{className:"w-5 h-5 text-yellow-600"});case"review_response":return t.jsx(t_,{className:"w-5 h-5 text-green-600"});case"new_restaurant":case"weekly_picks":return t.jsx(kt,{className:"w-5 h-5 text-purple-600"});default:return t.jsx(Do,{className:"w-5 h-5 text-gray-600"})}},I3=e=>{const s=new Date,r=new Date(e),i=s.getTime()-r.getTime(),o=Math.floor(i/6e4),a=Math.floor(i/36e5),c=Math.floor(i/864e5);return o<1?"Just now":o<60?`${o} minute${o!==1?"s":""} ago`:a<24?`${a} hour${a!==1?"s":""} ago`:c===1?"Yesterday":c<7?`${c} days ago`:r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},F3=()=>{const e=ce(D=>D.authentication_state.auth_token),s=ce(D=>D.authentication_state.authentication_status.is_authenticated),r=ce(D=>D.notification_state.unread_count),i=ce(D=>D.set_notifications),o=ce(D=>D.mark_notification_read),a=ce(D=>D.mark_all_read),c=ce(D=>D.clear_notifications),[u,h]=gs(),f=ut(),x=ar(),p=u.get("filter_type")||"all",[g,_]=C.useState(p),[j,N]=C.useState(!1),[w,b]=C.useState([]),[v,k]=C.useState({limit:50,offset:0,hasMore:!1});C.useEffect(()=>{s||f("/login?redirect=/notifications",{replace:!0})},[s,f]),C.useEffect(()=>{_(p)},[p]);const E=zu.find(D=>D.id===g)||zu[0],{data:M,isLoading:A,error:W}=Fe({queryKey:["notifications",g,v.offset],queryFn:async()=>{const D={limit:v.limit,offset:v.offset};return E.apiValue&&(D.notification_type=E.apiValue),E.readFilter!==void 0&&(D.is_read=E.readFilter),(await de.get("https://123local-eats-app.launchpulse.ai/api/notifications",{params:D,headers:{Authorization:`Bearer ${e}`}})).data},enabled:!!e&&s,staleTime:3e4,refetchOnWindowFocus:!0});C.useEffect(()=>{M!=null&&M.notifications&&(i(M.notifications),k(D=>({...D,hasMore:M.notifications.length===v.limit})))},[M,i,v.limit]);const G=Ue({mutationFn:async D=>{await de.patch(`https://123local-eats-app.launchpulse.ai/api/notifications/${D}/read`,{},{headers:{Authorization:`Bearer ${e}`}})},onMutate:async D=>{o(D)},onSuccess:()=>{x.invalidateQueries({queryKey:["notifications"]})}}),T=Ue({mutationFn:async()=>{await de.patch("https://123local-eats-app.launchpulse.ai/api/notifications/read-all",{},{headers:{Authorization:`Bearer ${e}`}})},onMutate:()=>{a()},onSuccess:()=>{x.invalidateQueries({queryKey:["notifications"]})}}),Z=Ue({mutationFn:async D=>{await de.delete(`https://123local-eats-app.launchpulse.ai/api/notifications/${D}`,{headers:{Authorization:`Bearer ${e}`}})},onSuccess:()=>{x.invalidateQueries({queryKey:["notifications"]})}}),I=Ue({mutationFn:async()=>{await de.delete("https://123local-eats-app.launchpulse.ai/api/notifications",{headers:{Authorization:`Bearer ${e}`}})},onMutate:()=>{c()},onSuccess:()=>{x.invalidateQueries({queryKey:["notifications"]})}}),P=D=>{_(D),h(D!=="all"?{filter_type:D}:{}),k({limit:50,offset:0,hasMore:!1}),N(!1),b([])},J=()=>{T.mutate()},F=D=>{D.is_read||G.mutate(D.notification_id),D.action_url&&f(D.action_url)},ue=(D,Q)=>{Q.stopPropagation(),D.is_read||G.mutate(D.notification_id)},ne=(D,Q)=>{Q.stopPropagation(),window.confirm("Delete this notification?")&&Z.mutate(D)},xe=()=>{N(!j),b([])},U=D=>{b(Q=>Q.includes(D)?Q.filter(re=>re!==D):[...Q,D])},O=()=>{w.length===(M==null?void 0:M.notifications.length)?b([]):b((M==null?void 0:M.notifications.map(D=>D.notification_id))||[])},H=async()=>{for(const D of w)await G.mutateAsync(D);b([]),N(!1)},ee=async()=>{if(window.confirm(`Delete ${w.length} notifications?`)){for(const D of w)await Z.mutateAsync(D);b([]),N(!1)}},me=()=>{k(D=>({...D,offset:D.offset+D.limit}))},fe=()=>{window.confirm("Delete all notifications? This cannot be undone.")&&I.mutate()},ve=(M==null?void 0:M.notifications)||[],ie=(M==null?void 0:M.unread_count)||r||0,le=()=>{switch(g){case"unread":return{icon:t.jsx(rk,{className:"w-16 h-16 text-gray-400"}),title:"You're all caught up!",message:"No unread notifications"};case"order_update":return{icon:t.jsx(br,{className:"w-16 h-16 text-gray-400"}),title:"No order updates",message:"You'll see order status updates here"};case"promotion":return{icon:t.jsx(On,{className:"w-16 h-16 text-gray-400"}),title:"No promotions",message:"Check back for special offers"};case"badge_earned":return{icon:t.jsx(r_,{className:"w-16 h-16 text-gray-400"}),title:"No badges yet",message:"Earn badges by exploring restaurants"};default:return{icon:t.jsx(fo,{className:"w-16 h-16 text-gray-400"}),title:"You're all caught up!",message:"No notifications to show"}}};return s?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-0",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"py-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),ie>0&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[ie," unread notification",ie!==1?"s":""]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!j&&ie>0&&t.jsxs("button",{onClick:J,disabled:T.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",children:[t.jsx(mg,{className:"w-4 h-4"}),"Mark All Read"]}),ve.length>0&&t.jsx("button",{onClick:xe,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:j?"Cancel":"Select"})]})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:zu.map(D=>t.jsx("button",{onClick:()=>P(D.id),className:`px-4 py-2 text-sm font-medium rounded-lg whitespace-nowrap transition-colors ${g===D.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D.label},D.id))})]})})}),j&&t.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:O,className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:w.length===ve.length?"Deselect All":"Select All"}),w.length>0&&t.jsxs("span",{className:"text-sm text-gray-600",children:[w.length," selected"]})]}),w.length>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:H,disabled:G.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-100 rounded-lg transition-colors disabled:opacity-50",children:[t.jsx(mg,{className:"w-4 h-4"}),"Mark Read"]}),t.jsxs("button",{onClick:ee,disabled:Z.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[t.jsx(mn,{className:"w-4 h-4"}),"Delete"]})]})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[A&&v.offset===0&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Us,{className:"w-8 h-8 text-blue-600 animate-spin"})}),W&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsx("p",{className:"text-red-700 text-sm",children:"Failed to load notifications. Please try again."})}),!A&&ve.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[le().icon,t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-4",children:le().title}),t.jsx("p",{className:"text-gray-600 mt-2",children:le().message}),g!=="all"&&t.jsx("button",{onClick:()=>P("all"),className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"View All Notifications"})]}),!A&&ve.length>0&&t.jsx("div",{className:"space-y-3",children:ve.map(D=>t.jsx("div",{onClick:()=>!j&&F(D),className:`bg-white rounded-xl border transition-all ${D.is_read?"border-gray-200":"border-blue-200 bg-blue-50/50"} ${!j&&D.action_url?"cursor-pointer hover:shadow-md":""} ${j?"cursor-default":""}`,children:t.jsx("div",{className:"p-4",children:t.jsxs("div",{className:"flex items-start gap-4",children:[j&&t.jsx("input",{type:"checkbox",checked:w.includes(D.notification_id),onChange:()=>U(D.notification_id),onClick:Q=>Q.stopPropagation(),className:"mt-1 w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),!j&&t.jsx("div",{className:"flex-shrink-0 mt-1",children:A3(D.notification_type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${D.is_read?"text-gray-700":"text-gray-900 font-medium"}`,children:D.message}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I3(D.created_at)})]}),!j&&t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!D.is_read&&t.jsx("button",{onClick:Q=>ue(D,Q),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Mark as read",children:t.jsx(Dt,{className:"w-4 h-4"})}),t.jsx("button",{onClick:Q=>ne(D.notification_id,Q),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:t.jsx(mn,{className:"w-4 h-4"})}),D.action_url&&t.jsx(ni,{className:"w-5 h-5 text-gray-400"})]})]})})},D.notification_id))}),!A&&v.hasMore&&t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:me,disabled:A,className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:A?"Loading...":"Load More"})}),!A&&ve.length>0&&!j&&t.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:t.jsx("button",{onClick:fe,disabled:I.isPending,className:"text-sm text-red-600 hover:text-red-700 font-medium disabled:opacity-50",children:"Clear All Notifications"})}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(oe,{to:"/settings?section=notifications",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Notification Settings "})})]})]})}):null},D3=()=>{const e=new Date,s=e.getDay(),r=s===0?-6:1-s,i=new Date(e);return i.setDate(e.getDate()+r),i.toISOString().split("T")[0]},B3=(e,s)=>{const r=new Date(e),i=new Date(s),o=r.toLocaleDateString("en-US",{month:"long"}),a=i.toLocaleDateString("en-US",{month:"long"}),c=r.getDate(),u=i.getDate(),h=r.getFullYear();return o===a?`${o} ${c}-${u}, ${h}`:`${o} ${c} - ${a} ${u}, ${h}`},U3=async e=>{const s=e?{week_of:e}:{};return(await de.get("https://123local-eats-app.launchpulse.ai/api/weekly-picks",{params:s})).data},$3=()=>{const[e]=gs(),s=e.get("week_of"),[r,i]=C.useState(s||D3()),o=ce(w=>w.authentication_state.authentication_status.is_authenticated),a=ce(w=>w.favorites_list.restaurant_ids),c=ce(w=>w.toggle_favorite),u=ce(w=>w.user_location),h=(w,b,v,k)=>{const M=(v-w)*Math.PI/180,A=(k-b)*Math.PI/180,W=Math.sin(M/2)*Math.sin(M/2)+Math.cos(w*Math.PI/180)*Math.cos(v*Math.PI/180)*Math.sin(A/2)*Math.sin(A/2);return 3959*(2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W)))},{data:f,isLoading:x,error:p,refetch:g}=Fe({queryKey:["weekly-picks",r],queryFn:()=>U3(r),staleTime:5*60*1e3,retry:1});C.useEffect(()=>{s&&s!==r&&i(s)},[s,r]);const _=(w,b)=>{if(w.preventDefault(),w.stopPropagation(),!o){alert("Please sign in to save favorites");return}c(b)},j=w=>"$".repeat(w),N=w=>{const b=[],v=Math.floor(w),k=w%1>=.5;for(let M=0;M<v;M++)b.push(t.jsx(nt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},`full-${M}`));k&&b.push(t.jsx(nt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 opacity-50"},"half"));const E=5-Math.ceil(w);for(let M=0;M<E;M++)b.push(t.jsx(nt,{className:"w-4 h-4 text-gray-300"},`empty-${M}`));return b};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white py-16 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx($r,{className:"w-8 h-8"}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Weekly Local Picks"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-orange-100 mb-2",children:"Handpicked by our team for you"}),f&&t.jsxs("p",{className:"text-lg text-orange-200",children:["Week of ",B3(f.week_start_date,f.week_end_date)]}),t.jsx("p",{className:"text-base text-orange-100 mt-4 max-w-2xl mx-auto",children:"Discover the best new and trending local spots each week!"})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mb-4"}),t.jsx("p",{className:"text-gray-600 text-lg",children:"Loading this week's picks..."})]}),p&&t.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-8 text-center",children:[t.jsx("p",{className:"text-red-700 text-lg font-semibold mb-2",children:"Failed to load weekly picks"}),t.jsx("p",{className:"text-red-600 mb-4",children:p.message}),t.jsx("button",{onClick:()=>g(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Try Again"})]}),!x&&!p&&f&&t.jsxs(t.Fragment,{children:[f.picks.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[t.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No picks available for this week yet."}),t.jsx(oe,{to:"/",className:"inline-block bg-orange-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Browse All Restaurants"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.picks.sort((w,b)=>w.pick.display_order-b.pick.display_order).map(w=>{const{pick:b,restaurant:v}=w,k=a.includes(v.restaurant_id);let E=null;return u.latitude&&u.longitude&&(E=h(u.latitude,u.longitude,v.latitude,v.longitude)),t.jsxs(oe,{to:`/restaurant/${v.restaurant_id}`,className:"group bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-200",children:[t.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[t.jsx("img",{src:v.primary_hero_image_url||`https://picsum.photos/seed/${v.restaurant_id}/800/450`,alt:v.restaurant_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),t.jsxs("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg flex items-center gap-2",children:[t.jsx($r,{className:"w-4 h-4"}),"Featured Pick"]}),t.jsx("button",{onClick:M=>_(M,v.restaurant_id),className:"absolute top-4 right-4 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform","aria-label":k?"Remove from favorites":"Add to favorites",children:t.jsx(Et,{className:`w-5 h-5 transition-colors ${k?"fill-red-500 text-red-500":"text-gray-400"}`})}),b.featured_description&&b.featured_description.toLowerCase().includes("discount")&&t.jsx("div",{className:"absolute bottom-4 left-4 bg-green-600 text-white px-3 py-1 rounded-lg text-xs font-semibold shadow-lg",children:"Special Offer"})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-orange-600 transition-colors",children:v.restaurant_name}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.cuisine_types.slice(0,3).map((M,A)=>t.jsx("span",{className:"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-medium",children:M},A))}),t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[N(v.average_rating),t.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-700",children:Number(v.average_rating).toFixed(1)}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.total_review_count,")"]})]}),t.jsx("span",{className:"text-lg font-bold text-gray-700",children:j(v.price_range)})]}),E!==null&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsxs("span",{children:[E.toFixed(1)," mi away"]})]}),b.featured_description&&t.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-4 line-clamp-3",children:b.featured_description}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-orange-600 font-semibold group-hover:text-orange-700 transition-colors",children:"View Restaurant "}),v.is_currently_open?t.jsx("span",{className:"text-xs font-semibold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"Open Now"}):t.jsx("span",{className:"text-xs font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Closed"})]})})]})]},b.pick_id)})}),f.picks.length>0&&t.jsxs("div",{className:"mt-16 bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Why These Picks?"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Our team carefully curates this week's featured restaurants based on several criteria to bring you the best local dining experiences:"}),t.jsxs("ul",{className:"space-y-3",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(nt,{className:"w-4 h-4 text-orange-600"})}),t.jsx("span",{className:"text-gray-700",children:"Highest rated new additions from the past month"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx($r,{className:"w-4 h-4 text-orange-600"})}),t.jsx("span",{className:"text-gray-700",children:"Most popular restaurants based on recent orders"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Et,{className:"w-4 h-4 text-orange-600"})}),t.jsx("span",{className:"text-gray-700",children:"Hidden gems with exceptional reviews but fewer orders"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(it,{className:"w-4 h-4 text-orange-600"})}),t.jsx("span",{className:"text-gray-700",children:"Seasonal favorites and trending cuisines"})]})]})]}),f.picks.length>0&&t.jsxs("div",{className:"mt-12 bg-gradient-to-r from-orange-600 to-red-600 rounded-xl shadow-lg p-8 text-white text-center",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Never Miss a Pick!"}),t.jsx("p",{className:"text-lg text-orange-100 mb-6 max-w-2xl mx-auto",children:"Get notified every Monday when we release new weekly picks. Discover the best local restaurants straight to your inbox!"}),o?t.jsx("div",{children:t.jsx(oe,{to:"/settings?section=notifications",className:"inline-block bg-white text-orange-600 px-8 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-lg",children:"Enable Notifications"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsx(oe,{to:"/signup",className:"inline-block bg-white text-orange-600 px-8 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-lg",children:"Sign Up to Subscribe"}),t.jsxs("p",{className:"text-sm text-orange-100",children:["Already have an account?"," ",t.jsx(oe,{to:"/login",className:"underline hover:text-white",children:"Log in"})]})]})]})]})]})]})})},H3=()=>{const[e,s]=C.useState(null),[r,i]=C.useState(!1),o=C.useRef({});C.useEffect(()=>{const f=()=>{i(window.scrollY>300)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),C.useEffect(()=>{const f={root:null,rootMargin:"-20% 0px -80% 0px",threshold:0},x=g=>{g.forEach(_=>{_.isIntersecting&&s(_.target.id)})},p=new IntersectionObserver(x,f);return Object.values(o.current).forEach(g=>{g&&p.observe(g)}),()=>p.disconnect()},[]);const a=()=>{window.scrollTo({top:0,behavior:"smooth"})},c=f=>{const x=o.current[f];if(x){const p=x.offsetTop-80;window.scrollTo({top:p,behavior:"smooth"})}},u=()=>{window.print()},h=[{id:"section-1",title:"1. Acceptance of Terms"},{id:"section-2",title:"2. User Accounts"},{id:"section-3",title:"3. Ordering and Payment"},{id:"section-4",title:"4. Cancellation and Refunds"},{id:"section-5",title:"5. User Content and Reviews"},{id:"section-6",title:"6. Prohibited Conduct"},{id:"section-7",title:"7. Disclaimers"},{id:"section-8",title:"8. Limitation of Liability"},{id:"section-9",title:"9. Governing Law"},{id:"section-10",title:"10. Changes to Terms"},{id:"section-11",title:"11. Contact Information"}];return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[t.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg focus:shadow-lg",children:"Skip to content"}),t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(dc,{className:"w-8 h-8 text-blue-600"}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 leading-tight",children:"Terms of Service"})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Last updated: December 1, 2024"})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 border border-gray-300 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-100","aria-label":"Print terms",children:[t.jsx(fk,{className:"w-5 h-5"}),t.jsx("span",{className:"hidden sm:inline",children:"Print"})]})})]})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[t.jsx("aside",{className:"hidden lg:block lg:col-span-3 lg:sticky lg:top-4 lg:self-start",children:t.jsxs("nav",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6","aria-label":"Table of contents",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),t.jsx("ul",{className:"space-y-2",children:h.map(f=>t.jsx("li",{children:t.jsx("button",{onClick:()=>c(f.id),className:`block w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e===f.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:f.title})},f.id))})]})}),t.jsx("main",{id:"main-content",className:"lg:col-span-9",role:"main",children:t.jsx("article",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsxs("div",{className:"px-6 py-8 sm:px-8 lg:px-12 lg:py-12 max-w-3xl mx-auto",children:[t.jsxs("div",{className:"mb-12 pb-8 border-b border-gray-200",children:[t.jsx("p",{className:"text-base leading-relaxed text-gray-700 mb-4",children:'Welcome to Local Eats. These Terms of Service ("Terms") govern your access to and use of our restaurant discovery and ordering platform, website, and mobile applications (collectively, the "Services").'}),t.jsx("p",{className:"text-base leading-relaxed text-gray-700",children:"By accessing or using our Services, you agree to be bound by these Terms. If you do not agree to these Terms, please do not use our Services."})]}),t.jsxs("section",{id:"section-1",ref:f=>o.current["section-1"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"1. Acceptance of Terms"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"1.1 Agreement to Terms"}),t.jsx("p",{children:"By creating an account, placing an order, or otherwise accessing our Services, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"1.2 Eligibility"}),t.jsx("p",{children:"You must be at least 18 years of age to use our Services. By using our Services, you represent and warrant that you meet this age requirement."})]}),t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded-r-lg my-6",children:t.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[t.jsx("strong",{children:"Important:"})," You must be 18 or older to use this service. Creating an account or placing an order constitutes acceptance of these Terms."]})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"1.3 Modifications to Terms"}),t.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will provide notice of material changes by email or through our Services. Your continued use of the Services after such modifications constitutes your acceptance of the updated Terms."})]})]})]}),t.jsxs("section",{id:"section-2",ref:f=>o.current["section-2"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"2. User Accounts"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"2.1 Account Creation"}),t.jsx("p",{children:"To access certain features of our Services, you must create an account. You agree to provide accurate, current, and complete information during registration and to update such information as necessary."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"2.2 Account Security"}),t.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You must immediately notify us of any unauthorized use of your account or any other breach of security."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"2.3 Account Termination"}),t.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time, with or without notice, for violation of these Terms or for any other reason we deem appropriate. You may also terminate your account at any time through your account settings."})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-600 p-4 rounded-r-lg my-6",children:t.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[t.jsx("strong",{children:"Notice:"})," We may terminate accounts that violate these Terms, including accounts engaged in fraudulent activity, abuse, or prohibited conduct."]})})]})]}),t.jsxs("section",{id:"section-3",ref:f=>o.current["section-3"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"3. Ordering and Payment"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"3.1 Order Placement"}),t.jsx("p",{children:"When you place an order through our Services, you are making an offer to purchase the items in your order. We reserve the right to accept or reject any order at our discretion. Your order is accepted when we send you a confirmation email or notification."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"3.2 Pricing and Fees"}),t.jsx("p",{children:"All prices are displayed in U.S. dollars and include applicable taxes unless otherwise stated. Delivery fees, service fees, and tips (where applicable) are additional charges that will be clearly displayed before you complete your order. Prices are subject to change without notice."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"3.3 Payment Processing"}),t.jsx("p",{children:"Payment must be made at the time of order placement using a valid payment method. You authorize us to charge your payment method for the total amount of your order, including all applicable fees and taxes. We use third-party payment processors and do not store your full payment card information."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"3.4 Order Accuracy"}),t.jsx("p",{children:"It is your responsibility to review your order for accuracy before submitting. Once an order is placed, modifications may not be possible. Please contact the restaurant directly if you need to make changes to an accepted order."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"3.5 Delivery"}),t.jsx("p",{children:"Delivery times are estimates and may vary based on restaurant preparation time, traffic, weather, and other factors. We are not liable for delays in delivery. You must be available to receive your order at the specified delivery address."})]})]})]}),t.jsxs("section",{id:"section-4",ref:f=>o.current["section-4"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"4. Cancellation and Refunds"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"4.1 Order Cancellation"}),t.jsx("p",{children:"You may cancel your order before the restaurant begins preparation. Once your order is being prepared, cancellation may not be possible. Cancellation requests should be made through the app or by contacting customer support immediately."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"4.2 Refund Policy"}),t.jsx("p",{children:"Refunds are issued at our discretion and only in cases where: (1) your order was not delivered, (2) your order was significantly incorrect or defective, or (3) the restaurant cancelled your order. Refund requests must be submitted within 48 hours of order placement."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"4.3 Refund Processing"}),t.jsx("p",{children:"Approved refunds will be processed to your original payment method within 5-10 business days. You will receive email confirmation when a refund is issued."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"4.4 Disputes"}),t.jsx("p",{children:"If you have concerns about your order quality or accuracy, please contact the restaurant first. If the issue is not resolved, contact our customer support team for assistance. All disputes must be reported within 48 hours of order delivery or pickup."})]})]})]}),t.jsxs("section",{id:"section-5",ref:f=>o.current["section-5"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"5. User Content and Reviews"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5.1 Review Guidelines"}),t.jsx("p",{children:'You may submit reviews, ratings, photos, and other content ("User Content") through our Services. All User Content must be honest, accurate, and based on your personal experience. Reviews should not contain offensive language, personal attacks, discriminatory content, or false information.'})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5.2 Content Ownership"}),t.jsx("p",{children:"You retain ownership of your User Content, but by submitting it through our Services, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, adapt, publish, translate, distribute, and display such content in connection with our Services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5.3 Content Moderation"}),t.jsx("p",{children:"We reserve the right to remove, edit, or refuse to publish any User Content that violates these Terms or our community guidelines. We may also remove content that we determine, in our sole discretion, is inappropriate or harmful to our Services or community."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5.4 Verified Reviews"}),t.jsx("p",{children:'Reviews marked as "Verified" indicate that the reviewer has placed an order with the restaurant through our platform or has verified their visit through other means we deem acceptable.'})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-4 rounded-r-lg my-6",children:t.jsxs("p",{className:"text-sm font-medium text-green-900",children:[t.jsx("strong",{children:"Review Best Practices:"})," Write honest, helpful reviews based on your actual experience. Include specific details that would help other users make informed decisions. Be respectful and constructive in your feedback."]})})]})]}),t.jsxs("section",{id:"section-6",ref:f=>o.current["section-6"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"6. Prohibited Conduct"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsx("p",{children:"You agree not to:"}),t.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[t.jsx("li",{children:"Use our Services for any illegal purpose or in violation of any applicable laws"}),t.jsx("li",{children:"Impersonate any person or entity or falsely state or misrepresent your affiliation with any person or entity"}),t.jsx("li",{children:"Interfere with or disrupt the Services or servers or networks connected to the Services"}),t.jsx("li",{children:"Attempt to gain unauthorized access to any portion of the Services or any other systems or networks"}),t.jsx("li",{children:"Use any automated means (including bots, scripts, or scrapers) to access the Services"}),t.jsx("li",{children:"Post or transmit any viruses, malware, or other harmful code"}),t.jsx("li",{children:"Harass, abuse, or harm other users or restaurant partners"}),t.jsx("li",{children:"Submit false or fraudulent orders or reviews"}),t.jsx("li",{children:"Use the Services to compete with us or for any commercial purpose not expressly authorized"}),t.jsx("li",{children:"Violate any intellectual property rights of Local Eats or third parties"}),t.jsx("li",{children:"Attempt to manipulate ratings, reviews, or discounts through fraudulent means"})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 p-4 rounded-r-lg my-6",children:t.jsxs("p",{className:"text-sm font-medium text-red-900",children:[t.jsx("strong",{children:"Warning:"})," Violation of these prohibited conduct rules may result in immediate account termination and legal action. We actively monitor for fraudulent activity and abuse."]})})]})]}),t.jsxs("section",{id:"section-7",ref:f=>o.current["section-7"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"7. Disclaimers"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:'7.1 Service "As Is"'}),t.jsx("p",{className:"uppercase font-semibold mb-2",children:'THE SERVICES ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED.'}),t.jsx("p",{children:"We do not warrant that the Services will be uninterrupted, error-free, or secure. We make no warranties regarding the quality, accuracy, or reliability of any information obtained through the Services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"7.2 Third-Party Restaurants"}),t.jsx("p",{children:"Local Eats is a platform that connects users with independent third-party restaurants. We are not responsible for the quality, safety, or legality of food prepared by restaurants. We do not guarantee the accuracy of menu items, prices, or restaurant information displayed on our platform."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"7.3 User Content"}),t.jsx("p",{children:"We do not endorse or verify the accuracy of User Content, including reviews and ratings. User Content reflects the opinions of individual users and does not represent the views of Local Eats."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"7.4 Health and Dietary Information"}),t.jsx("p",{children:"Allergen and dietary information is provided by restaurants and is for informational purposes only. If you have severe food allergies or dietary restrictions, please verify directly with the restaurant before ordering."})]})]})]}),t.jsxs("section",{id:"section-8",ref:f=>o.current["section-8"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"8. Limitation of Liability"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsx("p",{className:"uppercase font-semibold",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, LOCAL EATS AND ITS AFFILIATES, OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES."}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"8.1 Maximum Liability"}),t.jsx("p",{children:"In no event shall our total liability to you for all damages exceed the amount you paid us in the twelve (12) months preceding the event giving rise to the claim, or one hundred dollars ($100), whichever is greater."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"8.2 Excluded Damages"}),t.jsx("p",{children:"We shall not be liable for any damages resulting from: (1) food quality, safety, or preparation by third-party restaurants; (2) delivery delays or failures; (3) errors or inaccuracies in restaurant information; (4) user content or third-party content; (5) unauthorized access to your account; or (6) interruptions or errors in the Services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"8.3 Indemnification"}),t.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Local Eats and its affiliates from any claims, damages, losses, liabilities, and expenses (including attorneys' fees) arising from: (1) your use of the Services; (2) your violation of these Terms; (3) your User Content; or (4) your violation of any rights of another party."})]})]})]}),t.jsxs("section",{id:"section-9",ref:f=>o.current["section-9"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"9. Governing Law and Dispute Resolution"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"9.1 Governing Law"}),t.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of California, United States, without regard to its conflict of law provisions."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"9.2 Dispute Resolution"}),t.jsx("p",{children:"Any dispute arising from these Terms or your use of the Services shall be resolved through binding arbitration in accordance with the rules of the American Arbitration Association. You agree to waive your right to a jury trial and to participate in a class action lawsuit."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"9.3 Exceptions"}),t.jsx("p",{children:"Either party may seek injunctive or other equitable relief in court to prevent infringement of intellectual property rights or other proprietary rights."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"9.4 Venue"}),t.jsx("p",{children:"Any claims not subject to arbitration shall be brought exclusively in the state or federal courts located in San Francisco County, California."})]})]})]}),t.jsxs("section",{id:"section-10",ref:f=>o.current["section-10"]=f,className:"mb-12 scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"10. Changes to Terms"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"10.1 Modification Rights"}),t.jsx("p",{children:"We reserve the right to modify these Terms at any time. Material changes will be communicated to you via email or through a prominent notice on our Services at least 30 days before the changes take effect."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"10.2 Acceptance of Changes"}),t.jsx("p",{children:"Your continued use of the Services after the effective date of any changes constitutes your acceptance of the modified Terms. If you do not agree to the modified Terms, you must stop using the Services and may terminate your account."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"10.3 Version History"}),t.jsx("p",{children:'Previous versions of these Terms will be archived and available upon request. The "Last Updated" date at the top of this page indicates when the Terms were most recently revised.'})]})]})]}),t.jsxs("section",{id:"section-11",ref:f=>o.current["section-11"]=f,className:"scroll-mt-20",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 leading-tight",children:"11. Contact Information"}),t.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[t.jsx("p",{children:"If you have any questions, concerns, or feedback regarding these Terms of Service, please contact us:"}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 space-y-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Email:"}),t.jsx("a",{href:"mailto:legal@localeats.com",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"legal@localeats.com"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Customer Support:"}),t.jsx("a",{href:"mailto:support@localeats.com",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"support@localeats.com"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Mailing Address:"}),t.jsxs("address",{className:"not-italic text-gray-700",children:["Local Eats, Inc.",t.jsx("br",{}),"123 Market Street, Suite 400",t.jsx("br",{}),"San Francisco, CA 94105",t.jsx("br",{}),"United States"]})]})]}),t.jsx("div",{className:"pt-6 border-t border-gray-200",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["For general inquiries or support issues, please visit our"," ",t.jsx(oe,{to:"/faq",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Help Center"})," ","or contact our"," ",t.jsx("a",{href:"mailto:support@localeats.com",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"customer support team"}),"."]})})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Legal Documents"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx(oe,{to:"/privacy",className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 border border-gray-300 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-100",children:"Privacy Policy"}),t.jsx(oe,{to:"/faq",className:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-900 border border-gray-300 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-100",children:"FAQ / Help Center"})]})]})]})})})]})}),r&&t.jsx("button",{onClick:a,className:"fixed bottom-8 right-8 p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-100 z-50","aria-label":"Back to top",children:t.jsx(Jh,{className:"w-6 h-6"})})]}),t.jsx("style",{children:`
        @media print {
          .hidden-print {
            display: none !important;
          }
          
          body {
            background: white !important;
          }
          
          main {
            box-shadow: none !important;
            border: none !important;
          }
          
          a {
            text-decoration: none !important;
            color: black !important;
          }
          
          aside {
            display: none !important;
          }
        }
      `})]})},W3=()=>{const[e,s]=C.useState(""),r=o=>{const a=document.getElementById(o);a&&a.scrollIntoView({behavior:"smooth",block:"start"})};C.useEffect(()=>{const o=()=>{const a=["information-we-collect","how-we-use","information-sharing","data-storage","your-rights","cookies-tracking","children-privacy","changes-policy","contact-us"];for(const c of a){const u=document.getElementById(c);if(u){const h=u.getBoundingClientRect();if(h.top>=0&&h.top<=200){s(c);break}}}};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=[{id:"information-we-collect",title:"1. Information We Collect",icon:t.jsx(dc,{className:"w-4 h-4"})},{id:"how-we-use",title:"2. How We Use Your Information",icon:t.jsx(Io,{className:"w-4 h-4"})},{id:"information-sharing",title:"3. Information Sharing and Disclosure",icon:t.jsx(ql,{className:"w-4 h-4"})},{id:"data-storage",title:"4. Data Storage and Security",icon:t.jsx(Di,{className:"w-4 h-4"})},{id:"your-rights",title:"5. Your Rights and Choices",icon:t.jsx(jk,{className:"w-4 h-4"})},{id:"cookies-tracking",title:"6. Cookies and Tracking",icon:t.jsx(ku,{className:"w-4 h-4"})},{id:"children-privacy",title:"7. Children's Privacy",icon:t.jsx(ku,{className:"w-4 h-4"})},{id:"changes-policy",title:"8. Changes to Privacy Policy",icon:t.jsx(dc,{className:"w-4 h-4"})},{id:"contact-us",title:"9. Contact Us",icon:t.jsx(ca,{className:"w-4 h-4"})}];return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:t.jsx(ku,{className:"w-8 h-8 text-blue-600"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Privacy Policy"})]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[t.jsx(dc,{className:"w-4 h-4"}),"Last updated: December 1, 2024"]})]}),t.jsxs("button",{className:"hidden md:flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",onClick:()=>alert("PDF download feature coming soon!"),children:[t.jsx(Xv,{className:"w-5 h-5"}),"Download PDF"]})]})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.jsxs("div",{className:"flex gap-8",children:[t.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:t.jsxs("nav",{className:"sticky top-8 bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wide",children:"Table of Contents"}),t.jsx("ul",{className:"space-y-2",children:i.map(o=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>r(o.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all duration-200 ${e===o.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[o.icon,t.jsx("span",{className:"flex-1 text-left",children:o.title}),e===o.id&&t.jsx(ni,{className:"w-4 h-4 text-blue-600"})]})},o.id))})]})}),t.jsxs("main",{className:"flex-1 bg-white rounded-xl shadow-lg border border-gray-200 p-8 lg:p-12",children:[t.jsxs("div",{className:"mb-12",children:[t.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"At Local Eats, we are committed to protecting your privacy and being transparent about how we collect, use, and share your personal information. This Privacy Policy explains our data practices in detail and outlines your rights regarding your personal data."}),t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"We use your information to provide you with the best restaurant discovery and ordering experience possible. We protect your data with industry-standard security measures and never sell your personal information to third parties."})]})]})})]}),t.jsxs("section",{id:"information-we-collect",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"1"}),"Information We Collect"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Information"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"When you create an account or place an order, we collect personal information including:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Full name"}),t.jsx("li",{children:"Email address"}),t.jsx("li",{children:"Phone number"}),t.jsx("li",{children:"Delivery addresses"}),t.jsx("li",{children:"Payment information (card type, last 4 digits, expiration date)"}),t.jsx("li",{children:"Profile picture (optional)"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Usage Information"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We automatically collect information about how you use our platform:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Pages viewed and restaurants browsed"}),t.jsx("li",{children:"Search queries and filters applied"}),t.jsx("li",{children:"Orders placed and order history"}),t.jsx("li",{children:"Reviews written and restaurants favorited"}),t.jsx("li",{children:"Time, date, and duration of your visits"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Location Data"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"With your permission, we collect location information to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Show nearby restaurants and calculate delivery distances"}),t.jsx("li",{children:"Provide accurate delivery estimates"}),t.jsx("li",{children:"Improve local search results"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:"We collect precise location data only when you grant permission. We also collect approximate location based on your IP address for general service delivery."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Device Information"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We collect information about your device including browser type, operating system, device type, and unique device identifiers to optimize your experience and ensure platform security."})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-6 rounded-lg mt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-green-800 text-sm leading-relaxed",children:"We collect this information to personalize your experience, show you relevant nearby restaurants, process your orders, and improve our service. You have control over what information you share, especially regarding location data."})]})]})})]})]}),t.jsxs("section",{id:"how-we-use",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"2"}),"How We Use Your Information"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Service Delivery"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Create and manage your account"}),t.jsx("li",{children:"Process and fulfill your orders"}),t.jsx("li",{children:"Communicate order status and delivery updates"}),t.jsx("li",{children:"Provide customer support"}),t.jsx("li",{children:"Send important service notifications"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personalization"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Recommend restaurants based on your preferences and order history"}),t.jsx("li",{children:"Customize your homepage and search results"}),t.jsx("li",{children:"Remember your favorites and saved addresses"}),t.jsx("li",{children:"Provide location-based restaurant suggestions"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Analytics and Improvement"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Analyze usage patterns to improve our platform"}),t.jsx("li",{children:"Monitor performance and fix technical issues"}),t.jsx("li",{children:"Understand user preferences and trends"}),t.jsx("li",{children:"Test new features and optimize user experience"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Marketing and Communication"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"With your consent, we may use your information to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Send promotional emails about new restaurants and special offers"}),t.jsx("li",{children:"Notify you about weekly local picks and discounts"}),t.jsx("li",{children:"Send push notifications about relevant updates (if enabled)"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:"You can opt out of marketing communications at any time through your account settings or by clicking unsubscribe in any email."})]}),t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-lg mt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"We use your information primarily to deliver the service you've signed up for - helping you discover great local restaurants and enjoy delicious food. Everything else (like recommendations and promotions) is designed to enhance your experience, and you can control these preferences."})]})]})})]})]}),t.jsxs("section",{id:"information-sharing",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"3"}),"Information Sharing and Disclosure"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-600 p-6 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Important: We Never Sell Your Personal Data"}),t.jsx("p",{className:"text-yellow-800 text-sm leading-relaxed",children:"Local Eats does not and will not sell your personal information to third parties. We only share your data in the specific circumstances outlined below."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Restaurants (Order Fulfillment)"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"When you place an order, we share necessary information with the restaurant including your name, phone number, delivery address, and order details. This is essential for order fulfillment and delivery."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Payment Processors"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use PCI-compliant third-party payment processors to handle payment transactions securely. We do not store your full credit card information on our servers. Payment processors receive the information necessary to process your payment and are prohibited from using it for other purposes."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Service Providers"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We share information with trusted service providers who help us operate our platform:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Cloud hosting and data storage providers"}),t.jsx("li",{children:"Email delivery services"}),t.jsx("li",{children:"Analytics and performance monitoring tools"}),t.jsx("li",{children:"Customer support platforms"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:"These providers are contractually obligated to protect your data and use it only for the services they provide to us."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Legal Compliance"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may disclose your information if required by law or in response to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Valid legal requests (court orders, subpoenas)"}),t.jsx("li",{children:"Protection of our rights and property"}),t.jsx("li",{children:"Investigation of fraud or security issues"}),t.jsx("li",{children:"Emergency situations to protect personal safety"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Business Transfers"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred to the acquiring entity. We will notify you of any such change and provide options regarding your data."})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-6 rounded-lg mt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-green-800 text-sm leading-relaxed",children:"We only share your information when absolutely necessary to deliver our service (like sharing your address with a restaurant for delivery) or when required by law. Your data is never sold to advertisers or marketers."})]})]})})]})]}),t.jsxs("section",{id:"data-storage",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"4"}),"Data Storage and Security"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Security Measures"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We implement industry-standard security measures to protect your personal information:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Encryption in Transit:"})," All data transmitted between your device and our servers is encrypted using HTTPS/TLS protocols"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Encryption at Rest:"})," Sensitive data (passwords, payment information) is encrypted in our databases"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Secure Payment Processing:"})," PCI DSS compliant payment handling through certified processors"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Access Controls:"})," Strict internal access controls limit who can view your data"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Regular Security Audits:"})," Ongoing security assessments and penetration testing"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Monitoring:"})," 24/7 system monitoring for suspicious activity"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Data Retention"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We retain your information for different periods depending on the type of data:"}),t.jsxs("ul",{className:"space-y-3 ml-4",children:[t.jsxs("li",{className:"text-gray-700",children:[t.jsx("strong",{className:"text-gray-900",children:"Account Data:"})," Retained while your account is active and for 30 days after deletion (excluding legal holds)"]}),t.jsxs("li",{className:"text-gray-700",children:[t.jsx("strong",{className:"text-gray-900",children:"Order History:"})," Retained for 7 years for accounting and legal compliance purposes"]}),t.jsxs("li",{className:"text-gray-700",children:[t.jsx("strong",{className:"text-gray-900",children:"Payment Information:"})," Card data never stored; tokens retained as long as you keep the payment method saved"]}),t.jsxs("li",{className:"text-gray-700",children:[t.jsx("strong",{className:"text-gray-900",children:"Analytics Data:"})," Anonymized usage data may be retained indefinitely for statistical analysis"]}),t.jsxs("li",{className:"text-gray-700",children:[t.jsx("strong",{className:"text-gray-900",children:"Communications:"})," Customer service interactions retained for quality and training purposes"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Data Storage Location"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your data is stored on secure servers located in the United States. We use reputable cloud service providers with robust security and compliance certifications."})]}),t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-lg mt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"We take data security seriously and use the same encryption and security standards as banks and financial institutions. Your sensitive information is protected both during transmission and storage. We keep your data only as long as necessary and delete it when you close your account."})]})]})})]})]}),t.jsxs("section",{id:"your-rights",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"5"}),"Your Rights and Choices"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You have significant control over your personal information. Here are your rights:"}),t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Right to Access"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"View all personal data we have about you through your account settings or request a complete data export by contacting us."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Right to Correct"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Update your profile information, addresses, and preferences at any time in your account settings."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Right to Delete"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Delete your account and request removal of all personal data (subject to legal retention requirements) through settings or by contacting us."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Right to Opt-Out"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Unsubscribe from marketing emails, disable push notifications, or adjust communication preferences in your settings."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Right to Data Portability"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Request an export of your data in a commonly used, machine-readable format."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Right to Object"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Object to certain types of data processing, such as marketing or profiling activities."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3 mt-6",children:"How to Exercise Your Rights"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{children:["Visit your ",t.jsx(oe,{to:"/settings",className:"text-blue-600 hover:text-blue-700 underline",children:"Account Settings"})," for most data management options"]}),t.jsx("li",{children:'Use the "Delete Account" option in settings to permanently remove your data'}),t.jsx("li",{children:'Click "Unsubscribe" in any marketing email'}),t.jsx("li",{children:"Manage notification preferences in your account settings"}),t.jsx("li",{children:"Control location permissions in your browser or device settings"}),t.jsxs("li",{children:["Contact us at ",t.jsx("a",{href:"mailto:privacy@localeats.com",className:"text-blue-600 hover:text-blue-700 underline",children:"privacy@localeats.com"})," for data export or deletion requests"]})]})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-600 p-6 rounded-lg mt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-green-800 text-sm leading-relaxed",children:"You're in control of your data. You can view it, change it, download it, or delete it at any time. We respond to all requests within 30 days and make it easy to manage your privacy preferences."})]})]})})]})]}),t.jsxs("section",{id:"cookies-tracking",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"6"}),"Cookies and Tracking Technologies"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use cookies and similar tracking technologies to improve your experience, analyze usage, and deliver personalized content."}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Types of Cookies We Use"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Essential Cookies (Required)"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Necessary for the website to function. These include session cookies that remember your login, cart contents, and preferences during your visit."})]}),t.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Analytics Cookies (Optional)"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Help us understand how visitors use our site. We use Google Analytics to track page views, session duration, and user behavior patterns to improve our platform."})]}),t.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Preference Cookies (Optional)"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Remember your settings like language preferences, filter selections, and display options to personalize your experience."})]}),t.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Advertising Cookies (Optional)"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"May be used to deliver relevant advertisements. We do not currently use third-party advertising cookies but may in the future with your consent."})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Managing Cookie Preferences"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You can control cookies through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Our cookie consent banner (appears on first visit)"}),t.jsx("li",{children:"Your browser settings (most browsers allow you to refuse cookies)"}),t.jsx("li",{children:"Privacy settings in your account (for logged-in users)"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 text-sm italic",children:"Note: Blocking essential cookies may prevent certain features from working properly."})]}),t.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-lg mt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ot,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What this means:"}),t.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"Cookies are small files that help our website remember your preferences and improve your experience. You can choose which cookies to accept, except for essential ones needed for the site to work properly."})]})]})})]})]}),t.jsxs("section",{id:"children-privacy",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"7"}),"Children's Privacy"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Local Eats is designed for users aged 18 and older. We do not knowingly collect personal information from children under 13 years of age, in compliance with the Children's Online Privacy Protection Act (COPPA)."}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-600 p-6 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Age Requirement"}),t.jsxs("p",{className:"text-red-800 text-sm leading-relaxed",children:["By using Local Eats, you confirm that you are at least 18 years old. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately at ",t.jsx("a",{href:"mailto:privacy@localeats.com",className:"underline",children:"privacy@localeats.com"})," and we will delete such information from our systems."]})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:"If we discover that we have inadvertently collected information from a child under 13, we will take immediate steps to delete that information from our servers and terminate the account."})]})]}),t.jsxs("section",{id:"changes-policy",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"8"}),"Changes to This Privacy Policy"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may update this Privacy Policy from time to time to reflect changes in our practices, legal requirements, or platform features. When we make material changes, we will:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:'Update the "Last Updated" date at the top of this policy'}),t.jsx("li",{children:"Notify you via email if you have an account"}),t.jsx("li",{children:"Display a notification banner on our platform"}),t.jsx("li",{children:"Provide a summary of key changes"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your continued use of Local Eats after changes become effective constitutes acceptance of the updated policy. If you disagree with any changes, you may close your account."}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mt-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Policy Version History"}),t.jsx("div",{className:"space-y-2 text-sm",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700",children:"Version 1.0"}),t.jsx("span",{className:"text-gray-500",children:"December 1, 2024 (Current)"})]})})]})]})]}),t.jsxs("section",{id:"contact-us",className:"mb-12 scroll-mt-8",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg font-bold text-lg",children:"9"}),"Contact Us"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you have questions, concerns, or requests regarding this Privacy Policy or your personal data, please contact us:"}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 border border-blue-200",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ca,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Privacy Inquiries"}),t.jsx("a",{href:"mailto:privacy@localeats.com",className:"text-blue-600 hover:text-blue-700 underline text-lg",children:"privacy@localeats.com"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-blue-600 flex-shrink-0 mt-1",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Response Time"}),t.jsx("p",{className:"text-gray-700",children:"We will respond to all requests within 30 days"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ql,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Mailing Address"}),t.jsxs("p",{className:"text-gray-700",children:["Local Eats Privacy Team",t.jsx("br",{}),"123 Main Street, Suite 100",t.jsx("br",{}),"Portland, OR 97201",t.jsx("br",{}),"United States"]})]})]})]})}),t.jsxs("div",{className:"bg-green-50 border-l-4 border-green-600 p-6 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"We're Here to Help"}),t.jsx("p",{className:"text-green-800 text-sm leading-relaxed",children:"Your privacy is important to us. Don't hesitate to reach out with any questions or concerns about how we handle your data. We're committed to transparency and protecting your rights."})]})]})]}),t.jsxs("section",{className:"mb-12 scroll-mt-8 border-t-2 border-gray-200 pt-12",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx(ql,{className:"w-8 h-8 text-blue-600"}),"Additional Information for EU Users (GDPR)"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you are located in the European Union, you have additional rights under the General Data Protection Regulation (GDPR):"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Legal Basis for Processing"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"We process your data based on consent, contract fulfillment, legal obligations, and legitimate interests."})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Data Controller"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Local Eats is the data controller responsible for your personal information."})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Right to Lodge Complaint"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"You may file a complaint with your local data protection authority if you believe we've violated GDPR."})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Data Transfers"}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Your data may be transferred to the US. We use standard contractual clauses for protection."})]})]})]})]}),t.jsxs("section",{className:"mb-12 scroll-mt-8 border-t-2 border-gray-200 pt-12",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center gap-3",children:[t.jsx(ql,{className:"w-8 h-8 text-blue-600"}),"Additional Information for California Users (CCPA)"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you are a California resident, the California Consumer Privacy Act (CCPA) provides you with specific rights:"}),t.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-600 p-6 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"Your California Privacy Rights"}),t.jsxs("ul",{className:"space-y-2 text-purple-800 text-sm",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ot,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Right to Know:"})," Request information about personal data we've collected about you"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ot,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Right to Delete:"})," Request deletion of your personal information"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ot,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Right to Opt-Out:"})," We do not sell your personal information"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ot,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Right to Non-Discrimination:"})," We will not discriminate against you for exercising your rights"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Categories of Information Collected (Past 12 Months)"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Category"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Examples"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Purpose"})]})}),t.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:"Identifiers"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Name, email, phone number"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Account creation, order processing"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:"Commercial Data"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Order history, favorites"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Service delivery, recommendations"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:"Geolocation"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Device location"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Show nearby restaurants"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:"Internet Activity"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Browsing history, searches"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Platform improvement, analytics"})]})]})]})})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(ot,{className:"w-5 h-5 text-blue-600"}),"We Do Not Sell Your Personal Information"]}),t.jsx("p",{className:"text-gray-700 text-sm",children:"Local Eats has not sold and will not sell your personal information to third parties in the past 12 months or in the future. There is no need to opt-out of sales because we don't engage in this practice."})]})]})]}),t.jsx("div",{className:"border-t-2 border-gray-200 pt-8 mt-12",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Have questions? Contact us at"," ",t.jsx("a",{href:"mailto:privacy@localeats.com",className:"text-blue-600 hover:text-blue-700 underline font-medium",children:"privacy@localeats.com"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(oe,{to:"/terms",className:"text-sm text-blue-600 hover:text-blue-700 underline font-medium",children:"Terms of Service"}),t.jsx(oe,{to:"/",className:"text-sm text-blue-600 hover:text-blue-700 underline font-medium",children:"Back to Home"})]})]})})]})]})})]})})},Z3=()=>{const e=ut(),s=ce(i=>i.authentication_state.authentication_status.is_authenticated),r=()=>{e(-1)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-red-50 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-20 -right-20 w-72 h-72 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),t.jsx("div",{className:"absolute -bottom-20 left-10 w-72 h-72 bg-red-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),t.jsxs("div",{className:"max-w-2xl w-full relative z-10",children:[t.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden p-8 lg:p-12 text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-orange-200 rounded-full blur-2xl opacity-40 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-orange-100 to-red-100 rounded-full p-8",children:t.jsx(gk,{className:"w-24 h-24 text-orange-500",strokeWidth:1.5})}),t.jsx("div",{className:"absolute -top-3 -right-3 text-4xl animate-bounce",children:""}),t.jsx("div",{className:"absolute -bottom-3 -left-3 text-3xl animate-bounce animation-delay-2000",children:""})]})}),t.jsx("h1",{className:"text-6xl lg:text-8xl font-extrabold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4 tracking-tight",children:"404"}),t.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3 leading-tight",children:"Oops! This plate is empty"}),t.jsx("p",{className:"text-base text-gray-600 mb-8 leading-relaxed max-w-md mx-auto",children:"The page you're looking for doesn't exist or may have been moved. But don't worrylet's get you back to delicious discoveries!"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8 text-left",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide",children:"Here's what you can do:"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),t.jsx("span",{children:"Check the URL for typos or errors"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),t.jsx("span",{children:"Use the navigation above to browse restaurants"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),t.jsx("span",{children:"Visit our home page to explore local eats"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),t.jsx("span",{children:"Search for restaurants to find what you're looking for"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-6",children:[t.jsxs(oe,{to:"/",className:"group inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white font-semibold rounded-xl shadow-lg hover:from-orange-700 hover:to-red-700 hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx(Bc,{className:"w-5 h-5"}),t.jsx("span",{children:"Go to Home"})]}),t.jsxs(oe,{to:"/search",className:"group inline-flex items-center justify-center gap-2 px-8 py-4 bg-white text-orange-600 font-semibold rounded-xl border-2 border-orange-200 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(ms,{className:"w-5 h-5"}),t.jsx("span",{children:"Search Menu"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",children:[t.jsxs(oe,{to:"/search",className:"inline-flex items-center justify-center gap-2 px-5 py-2 text-sm text-orange-700 font-medium hover:text-orange-800 transition-colors duration-200",children:[t.jsx(ms,{className:"w-4 h-4"}),t.jsx("span",{children:"Search Restaurants"})]}),t.jsx("span",{className:"hidden sm:inline text-gray-300",children:"|"}),t.jsxs("button",{onClick:r,className:"inline-flex items-center justify-center gap-2 px-5 py-2 text-sm text-gray-700 font-medium hover:text-gray-900 transition-colors duration-200",children:[t.jsx(Kh,{className:"w-4 h-4"}),t.jsx("span",{children:"Go Back"})]})]})]}),s&&t.jsxs("div",{className:"mt-8 text-center",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Or explore these popular pages:"}),t.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[t.jsxs(oe,{to:"/",className:"inline-flex items-center gap-1.5 px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-200 hover:border-orange-300 hover:bg-orange-50 hover:text-orange-700 transition-all duration-200",children:[t.jsx(Bc,{className:"w-4 h-4"}),t.jsx("span",{children:"Restaurants"})]}),t.jsxs(oe,{to:"/local-picks",className:"inline-flex items-center gap-1.5 px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-200 hover:border-orange-300 hover:bg-orange-50 hover:text-orange-700 transition-all duration-200",children:[t.jsx(nt,{className:"w-4 h-4"}),t.jsx("span",{children:"Local Picks"})]}),t.jsxs(oe,{to:"/favorites",className:"inline-flex items-center gap-1.5 px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-200 hover:border-orange-300 hover:bg-orange-50 hover:text-orange-700 transition-all duration-200",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx("span",{children:"Favorites"})]})]})]})]})]})})},q3=new TN({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}}}),P_=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-red-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200"}),t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-orange-600 border-t-transparent absolute top-0 left-0"})]}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t.jsx("p",{className:"text-lg font-semibold animate-pulse",children:"Loading Local Eats"})]}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Preparing your experience..."})]})]})}),zs=({children:e})=>{const s=ce(o=>o.authentication_state.authentication_status.is_authenticated),r=ce(o=>o.authentication_state.authentication_status.is_loading),i=Zs();return r?t.jsx(P_,{}):s?t.jsx(t.Fragment,{children:e}):t.jsx(K1,{to:"/login",state:{from:i.pathname},replace:!0})},Ou={"/":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/signup":{showTopNav:!1,showBottomNav:!1,showFooter:!1},"/login":{showTopNav:!1,showBottomNav:!1,showFooter:!1},"/password-reset":{showTopNav:!1,showBottomNav:!1,showFooter:!1},"/reset":{showTopNav:!1,showBottomNav:!1,showFooter:!1},"/search":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/map":{showTopNav:!0,showBottomNav:!0,showFooter:!1},"/restaurant":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/favorites":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/cart":{showTopNav:!0,showBottomNav:!0,showFooter:!1},"/checkout":{showTopNav:!1,showBottomNav:!1,showFooter:!1},"/order-confirmation":{showTopNav:!1,showBottomNav:!1,showFooter:!1},"/order-history":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/order":{showTopNav:!0,showBottomNav:!0,showFooter:!1},"/profile":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/settings":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/notifications":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/review":{showTopNav:!0,showBottomNav:!0,showFooter:!1},"/local-picks":{showTopNav:!0,showBottomNav:!0,showFooter:!0},"/terms":{showTopNav:!0,showBottomNav:!1,showFooter:!0},"/privacy":{showTopNav:!0,showBottomNav:!1,showFooter:!0},"/404":{showTopNav:!0,showBottomNav:!0,showFooter:!0}},V3=({children:e})=>{const s=Zs(),r=()=>{const c=s.pathname;if(Ou[c])return Ou[c];for(const[u,h]of Object.entries(Ou))if(c.startsWith(u))return h;return{showTopNav:!0,showBottomNav:!0,showFooter:!0}},{showTopNav:i,showBottomNav:o,showFooter:a}=r();return t.jsxs("div",{className:"min-h-screen flex flex-col",children:[i&&t.jsx("div",{className:"hidden md:block",children:t.jsx(kk,{})}),t.jsx("main",{className:"flex-1 flex flex-col",children:e}),a&&t.jsx(Sk,{}),o&&t.jsx("div",{className:"md:hidden",children:t.jsx(Ck,{})})]})},G3=()=>{const e=ce(a=>a.authentication_state.authentication_status.is_loading),s=ce(a=>a.initialize_auth),r=ce(a=>a.set_user_location),i=ce(a=>a.authentication_state.current_user),o=ce(a=>a.user_location);return C.useEffect(()=>{s()},[s]),C.useEffect(()=>{if(!i)return;(async()=>{try{(await(await fetch("https://123local-eats-app.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${ce.getState().authentication_state.auth_token}`}})).json()).location_permission_granted&&!o.permission_granted&&("geolocation"in navigator?navigator.geolocation.getCurrentPosition(h=>{r(h.coords.latitude,h.coords.longitude)},h=>{console.log("Geolocation error:",h.message),r(45.5152,-122.6784,"Portland","OR")},{timeout:5e3,maximumAge:3e5}):r(45.5152,-122.6784,"Portland","OR"))}catch(c){console.error("Failed to check location permission:",c)}})()},[i,r,o.permission_granted]),e?t.jsx(P_,{}):t.jsx(RN,{client:q3,children:t.jsx(aN,{children:t.jsx(V3,{children:t.jsxs(J1,{children:[t.jsx(et,{path:"/",element:t.jsx(f6,{})}),t.jsx(et,{path:"/signup",element:t.jsx(x6,{})}),t.jsx(et,{path:"/login",element:t.jsx(g6,{})}),t.jsx(et,{path:"/password-reset",element:t.jsx(y6,{})}),t.jsx(et,{path:"/reset/:reset_token",element:t.jsx(b6,{})}),t.jsx(et,{path:"/search",element:t.jsx(z6,{})}),t.jsx(et,{path:"/map",element:t.jsx(f3,{})}),t.jsx(et,{path:"/restaurant/:restaurant_id",element:t.jsx(S6,{})}),t.jsx(et,{path:"/local-picks",element:t.jsx($3,{})}),t.jsx(et,{path:"/terms",element:t.jsx(H3,{})}),t.jsx(et,{path:"/privacy",element:t.jsx(W3,{})}),t.jsx(et,{path:"/cart",element:t.jsx(N3,{})}),t.jsx(et,{path:"/favorites",element:t.jsx(zs,{children:t.jsx(p3,{})})}),t.jsx(et,{path:"/checkout",element:t.jsx(zs,{children:t.jsx(k3,{})})}),t.jsx(et,{path:"/order-confirmation/:order_id",element:t.jsx(zs,{children:t.jsx(C3,{})})}),t.jsx(et,{path:"/order/:order_id/track",element:t.jsx(zs,{children:t.jsx(L3,{})})}),t.jsx(et,{path:"/order-history",element:t.jsx(zs,{children:t.jsx(E3,{})})}),t.jsx(et,{path:"/order/:order_id",element:t.jsx(zs,{children:t.jsx(M3,{})})}),t.jsx(et,{path:"/restaurant/:restaurant_id/review",element:t.jsx(zs,{children:t.jsx(T3,{})})}),t.jsx(et,{path:"/review/:review_id/edit",element:t.jsx(zs,{children:t.jsx(R3,{})})}),t.jsx(et,{path:"/profile",element:t.jsx(zs,{children:t.jsx(z3,{})})}),t.jsx(et,{path:"/settings",element:t.jsx(zs,{children:t.jsx(O3,{})})}),t.jsx(et,{path:"/notifications",element:t.jsx(zs,{children:t.jsx(F3,{})})}),t.jsx(et,{path:"*",element:t.jsx(Z3,{})})]})})})})},Q3=()=>t.jsx(t.Fragment,{children:t.jsx(G3,{})});Yy(document.getElementById("root")).render(t.jsx(Q3,{}));
